"use strict";var Hae=Object.defineProperty,jae=(Jt,wt,He)=>wt in Jt?Hae(Jt,wt,{enumerable:!0,configurable:!0,writable:!0,value:He}):Jt[wt]=He,Kt=(Jt,wt,He)=>(jae(Jt,"symbol"!=typeof wt?wt+"":wt,He),He);(self.webpackChunksaferoad_admin=self.webpackChunksaferoad_admin||[]).push([[179],{2011:(Jt,wt,He)=>{He.d(wt,{Dh:()=>ze,GT:()=>be,cc:()=>Me,hO:()=>Ae,on:()=>we,pX:()=>ve,xv:()=>Ve});var o=He(4650),it=He(9260),Te=He(4976);Jt=He.hmd(Jt);const me=["ngOnDestroy"],ve=(ne,H,ee,G={})=>new Proxy(ne,{get:(V,$)=>ee.runOutsideAngular(()=>{var te;if(ne[$])return!(null===(te=G?.spy)||void 0===te)&&te.get&&G.spy.get($,ne[$]),ne[$];if(me.indexOf($)>-1)return()=>{};const ie=H.toPromise().then(P=>{const I=P&&P[$];return"function"==typeof I?I.bind(P):I&&I.then?I.then(W=>ee.run(()=>W)):ee.run(()=>I)});return new Proxy(()=>{},{get:(P,I)=>ie[I],apply:(P,I,W)=>ie.then(N=>{var U;const S=N&&N(...W);return!(null===(U=G?.spy)||void 0===U)&&U.apply&&G.spy.apply($,W,S),S})})})}),be=(ne,H)=>{H.forEach(ee=>{Object.getOwnPropertyNames(ee.prototype||ee).forEach(G=>{Object.defineProperty(ne.prototype,G,Object.getOwnPropertyDescriptor(ee.prototype||ee,G))})})};class Fe{constructor(H){return H}}const ze=new o.OlP("angularfire2.app.options"),Ve=new o.OlP("angularfire2.app.name");function we(ne,H,ee){const V="object"==typeof ee&&ee||{};V.name=V.name||"string"==typeof ee&&ee||"[DEFAULT]";const te=it.Z.apps.filter(ie=>ie&&ie.name===V.name)[0]||H.runOutsideAngular(()=>it.Z.initializeApp(ne,V));try{JSON.stringify(ne)!==JSON.stringify(te.options)&&Ce("error",`${te.name} Firebase App already initialized with different options${Jt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Fe(te)}const Ce=(ne,...H)=>{(0,o.X6Q)()&&typeof console<"u"&&console[ne](...H)},oe={provide:Fe,useFactory:we,deps:[ze,o.R0b,[new o.FiY,Ve]]};let Ae=(()=>{class ne{constructor(ee){it.Z.registerVersion("angularfire",Te.q4.full,"core"),it.Z.registerVersion("angularfire",Te.q4.full,"app-compat"),it.Z.registerVersion("angular",o.q4F.full,ee.toString())}static initializeApp(ee,G){return{ngModule:ne,providers:[{provide:ze,useValue:ee},{provide:Ve,useValue:G}]}}}return ne.\u0275fac=function(ee){return new(ee||ne)(o.LFG(o.Lbi))},ne.\u0275mod=o.oAB({type:ne}),ne.\u0275inj=o.cJS({providers:[oe]}),ne})();function Me(ne,H,ee,G,V){const[,$,te]=globalThis.\u0275AngularfireInstanceCache.find(ie=>ie[0]===ne)||[];if($)return function z(ne,H){try{return ne.toString()===H.toString()}catch{return ne===H}}(V,te)||(Q("error",`${H} was already initialized on the ${ee} Firebase App with different settings.${re?" You may need to reload as Firebase is not HMR aware.":""}`),Q("warn",{is:V,was:te})),$;{const ie=G();return globalThis.\u0275AngularfireInstanceCache.push([ne,ie,V]),ie}}const re=!!Jt.hot,Q=(ne,...H)=>{(0,o.X6Q)()&&typeof console<"u"&&console[ne](...H)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Jt,wt,He)=>{He.d(wt,{q4:()=>Mi,iC:()=>sc,HU:()=>Qd,vb:()=>Xd,JM:()=>np});var o=He(4650),it=He(259),Te=He(5861),me=He(6881),ve=He(2090),be=He(4859),Fe=He(1877);let Ve,we;const Ae=new WeakMap,Me=new WeakMap,z=new WeakMap,re=new WeakMap,Q=new WeakMap;let ee={get(M,F,ce){if(M instanceof IDBTransaction){if("done"===F)return Me.get(M);if("objectStoreNames"===F)return M.objectStoreNames||z.get(M);if("store"===F)return ce.objectStoreNames[1]?void 0:ce.objectStore(ce.objectStoreNames[0])}return te(M[F])},set:(M,F,ce)=>(M[F]=ce,!0),has:(M,F)=>M instanceof IDBTransaction&&("done"===F||"store"===F)||F in M};function $(M){return"function"==typeof M?function V(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oe(){return we||(we=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...F){return M.apply(ie(this),F),te(Ae.get(this))}:function(...F){return te(M.apply(ie(this),F))}:function(F,...ce){const je=M.call(ie(this),F,...ce);return z.set(je,F.sort?F.sort():[F]),te(je)}}(M):(M instanceof IDBTransaction&&function H(M){if(Me.has(M))return;const F=new Promise((ce,je)=>{const Ke=()=>{M.removeEventListener("complete",tt),M.removeEventListener("error",yt),M.removeEventListener("abort",yt)},tt=()=>{ce(),Ke()},yt=()=>{je(M.error||new DOMException("AbortError","AbortError")),Ke()};M.addEventListener("complete",tt),M.addEventListener("error",yt),M.addEventListener("abort",yt)});Me.set(M,F)}(M),((M,F)=>F.some(ce=>M instanceof ce))(M,function Ce(){return Ve||(Ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,ee):M)}function te(M){if(M instanceof IDBRequest)return function ne(M){const F=new Promise((ce,je)=>{const Ke=()=>{M.removeEventListener("success",tt),M.removeEventListener("error",yt)},tt=()=>{ce(te(M.result)),Ke()},yt=()=>{je(M.error),Ke()};M.addEventListener("success",tt),M.addEventListener("error",yt)});return F.then(ce=>{ce instanceof IDBCursor&&Ae.set(ce,M)}).catch(()=>{}),Q.set(F,M),F}(M);if(re.has(M))return re.get(M);const F=$(M);return F!==M&&(re.set(M,F),Q.set(F,M)),F}const ie=M=>Q.get(M),W=["get","getKey","getAll","getAllKeys","count"],N=["put","add","delete","clear"],U=new Map;function S(M,F){if(!(M instanceof IDBDatabase)||F in M||"string"!=typeof F)return;if(U.get(F))return U.get(F);const ce=F.replace(/FromIndex$/,""),je=F!==ce,Ke=N.includes(ce);if(!(ce in(je?IDBIndex:IDBObjectStore).prototype)||!Ke&&!W.includes(ce))return;const tt=function(){var yt=(0,Te.Z)(function*(zt,...jt){const an=this.transaction(zt,Ke?"readwrite":"readonly");let cn=an.store;return je&&(cn=cn.index(jt.shift())),(yield Promise.all([cn[ce](...jt),Ke&&an.done]))[0]});return function(jt){return yt.apply(this,arguments)}}();return U.set(F,tt),tt}!function G(M){ee=M(ee)}(M=>({...M,get:(F,ce,je)=>S(F,ce)||M.get(F,ce,je),has:(F,ce)=>!!S(F,ce)||M.has(F,ce)}));const D="@firebase/installations",T="0.6.4",K=`w:${T}`,j="FIS_v2",ue=new ve.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function A(M){return M instanceof ve.ZR&&M.code.includes("request-failed")}function ae({projectId:M}){return`https://firebaseinstallations.googleapis.com/v1/projects/${M}/installations`}function pe(M){return{token:M.token,requestStatus:2,expiresIn:Ie(M.expiresIn),creationTime:Date.now()}}function de(M,F){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,Te.Z)(function*(M,F){const je=(yield F.json()).error;return ue.create("request-failed",{requestName:M,serverCode:je.code,serverMessage:je.message,serverStatus:je.status})})).apply(this,arguments)}function R({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function Z(M,{refreshToken:F}){const ce=R(M);return ce.append("Authorization",function Ee(M){return`${j} ${M}`}(F)),ce}function X(M){return xe.apply(this,arguments)}function xe(){return(xe=(0,Te.Z)(function*(M){const F=yield M();return F.status>=500&&F.status<600?M():F})).apply(this,arguments)}function Ie(M){return Number(M.replace("s","000"))}function Le(M,F){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,Te.Z)(function*({appConfig:M,heartbeatServiceProvider:F},{fid:ce}){const je=ae(M),Ke=R(M),tt=F.getImmediate({optional:!0});if(tt){const an=yield tt.getHeartbeatsHeader();an&&Ke.append("x-firebase-client",an)}const zt={method:"POST",headers:Ke,body:JSON.stringify({fid:ce,authVersion:j,appId:M.appId,sdkVersion:K})},jt=yield X(()=>fetch(je,zt));if(jt.ok){const an=yield jt.json();return{fid:an.fid||ce,registrationStatus:2,refreshToken:an.refreshToken,authToken:pe(an.authToken)}}throw yield de("Create Installation",jt)})).apply(this,arguments)}function qe(M){return new Promise(F=>{setTimeout(F,M)})}const _t=/^[cdef][\w-]{21}$/;function le(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const ce=function Ue(M){return function st(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return _t.test(ce)?ce:""}catch{return""}}function Re(M){return`${M.appName}!${M.appId}`}const Pe=new Map;function Qe(M,F){const ce=Re(M);kt(ce,F),function Ct(M,F){const ce=function on(){return!pt&&"BroadcastChannel"in self&&(pt=new BroadcastChannel("[Firebase] FID Change"),pt.onmessage=M=>{kt(M.data.key,M.data.fid)}),pt}();ce&&ce.postMessage({key:M,fid:F}),function Ft(){0===Pe.size&&pt&&(pt.close(),pt=null)}()}(ce,F)}function kt(M,F){const ce=Pe.get(M);if(ce)for(const je of ce)je(F)}let pt=null;const Tn="firebase-installations-store";let vn=null;function ai(){return vn||(vn=function P(M,F,{blocked:ce,upgrade:je,blocking:Ke,terminated:tt}={}){const yt=indexedDB.open(M,F),zt=te(yt);return je&&yt.addEventListener("upgradeneeded",jt=>{je(te(yt.result),jt.oldVersion,jt.newVersion,te(yt.transaction))}),ce&&yt.addEventListener("blocked",()=>ce()),zt.then(jt=>{tt&&jt.addEventListener("close",()=>tt()),Ke&&jt.addEventListener("versionchange",()=>Ke())}).catch(()=>{}),zt}("firebase-installations-database",1,{upgrade:(M,F)=>{0===F&&M.createObjectStore(Tn)}})),vn}function zn(M,F){return kn.apply(this,arguments)}function kn(){return(kn=(0,Te.Z)(function*(M,F){const ce=Re(M),Ke=(yield ai()).transaction(Tn,"readwrite"),tt=Ke.objectStore(Tn),yt=yield tt.get(ce);return yield tt.put(F,ce),yield Ke.done,(!yt||yt.fid!==F.fid)&&Qe(M,F.fid),F})).apply(this,arguments)}function Pi(M){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,Te.Z)(function*(M){const F=Re(M),je=(yield ai()).transaction(Tn,"readwrite");yield je.objectStore(Tn).delete(F),yield je.done})).apply(this,arguments)}function ns(M,F){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,Te.Z)(function*(M,F){const ce=Re(M),Ke=(yield ai()).transaction(Tn,"readwrite"),tt=Ke.objectStore(Tn),yt=yield tt.get(ce),zt=F(yt);return void 0===zt?yield tt.delete(ce):yield tt.put(zt,ce),yield Ke.done,zt&&(!yt||yt.fid!==zt.fid)&&Qe(M,zt.fid),zt})).apply(this,arguments)}function Ze(M){return $e.apply(this,arguments)}function $e(){return($e=(0,Te.Z)(function*(M){let F;const ce=yield ns(M.appConfig,je=>{const Ke=et(je),tt=mt(M,Ke);return F=tt.registrationPromise,tt.installationEntry});return""===ce.fid?{installationEntry:yield F}:{installationEntry:ce,registrationPromise:F}})).apply(this,arguments)}function et(M){return Nt(M||{fid:le(),registrationStatus:0})}function mt(M,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(ue.create("app-offline"))};const ce={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},je=function ot(M,F){return Wt.apply(this,arguments)}(M,ce);return{installationEntry:ce,registrationPromise:je}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:_n(M)}:{installationEntry:F}}function Wt(){return(Wt=(0,Te.Z)(function*(M,F){try{const ce=yield Le(M,F);return zn(M.appConfig,ce)}catch(ce){throw A(ce)&&409===ce.customData.serverCode?yield Pi(M.appConfig):yield zn(M.appConfig,{fid:F.fid,registrationStatus:0}),ce}})).apply(this,arguments)}function _n(M){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,Te.Z)(function*(M){let F=yield oi(M.appConfig);for(;1===F.registrationStatus;)yield qe(100),F=yield oi(M.appConfig);if(0===F.registrationStatus){const{installationEntry:ce,registrationPromise:je}=yield Ze(M);return je||ce}return F})).apply(this,arguments)}function oi(M){return ns(M,F=>{if(!F)throw ue.create("installation-not-found");return Nt(F)})}function Nt(M){return function ln(M){return 1===M.registrationStatus&&M.registrationTime+1e4<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function dn(M,F){return ui.apply(this,arguments)}function ui(){return(ui=(0,Te.Z)(function*({appConfig:M,heartbeatServiceProvider:F},ce){const je=wr(M,ce),Ke=Z(M,ce),tt=F.getImmediate({optional:!0});if(tt){const an=yield tt.getHeartbeatsHeader();an&&Ke.append("x-firebase-client",an)}const zt={method:"POST",headers:Ke,body:JSON.stringify({installation:{sdkVersion:K,appId:M.appId}})},jt=yield X(()=>fetch(je,zt));if(jt.ok)return pe(yield jt.json());throw yield de("Generate Auth Token",jt)})).apply(this,arguments)}function wr(M,{fid:F}){return`${ae(M)}/${F}/authTokens:generate`}function di(M){return Os.apply(this,arguments)}function Os(){return(Os=(0,Te.Z)(function*(M,F=!1){let ce;const je=yield ns(M.appConfig,tt=>{if(!En(tt))throw ue.create("not-registered");const yt=tt.authToken;if(!F&&Jn(yt))return tt;if(1===yt.requestStatus)return ce=dt(M,F),tt;{if(!navigator.onLine)throw ue.create("app-offline");const zt=Vn(tt);return ce=Rt(M,zt),zt}});return ce?yield ce:je.authToken})).apply(this,arguments)}function dt(M,F){return lt.apply(this,arguments)}function lt(){return(lt=(0,Te.Z)(function*(M,F){let ce=yield At(M.appConfig);for(;1===ce.authToken.requestStatus;)yield qe(100),ce=yield At(M.appConfig);const je=ce.authToken;return 0===je.requestStatus?di(M,F):je})).apply(this,arguments)}function At(M){return ns(M,F=>{if(!En(F))throw ue.create("not-registered");return function Cr(M){return 1===M.requestStatus&&M.requestTime+1e4<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function Rt(M,F){return mn.apply(this,arguments)}function mn(){return(mn=(0,Te.Z)(function*(M,F){try{const ce=yield dn(M,F),je=Object.assign(Object.assign({},F),{authToken:ce});return yield zn(M.appConfig,je),ce}catch(ce){if(!A(ce)||401!==ce.customData.serverCode&&404!==ce.customData.serverCode){const je=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield zn(M.appConfig,je)}else yield Pi(M.appConfig);throw ce}})).apply(this,arguments)}function En(M){return void 0!==M&&2===M.registrationStatus}function Jn(M){return 2===M.requestStatus&&!function Di(M){const F=Date.now();return F<M.creationTime||M.creationTime+M.expiresIn<F+36e5}(M)}function Vn(M){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:F})}function is(){return(is=(0,Te.Z)(function*(M){const F=M,{installationEntry:ce,registrationPromise:je}=yield Ze(F);return je?je.catch(console.error):di(F).catch(console.error),ce.fid})).apply(this,arguments)}function Uc(){return(Uc=(0,Te.Z)(function*(M,F=!1){const ce=M;return yield ni(ce),(yield di(ce,F)).token})).apply(this,arguments)}function ni(M){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,Te.Z)(function*(M){const{registrationPromise:F}=yield Ze(M);F&&(yield F)})).apply(this,arguments)}function lr(M){return ue.create("missing-app-config-values",{valueName:M})}const zr="installations",$a=M=>{const F=M.getProvider("app").getImmediate(),ce=function Af(M){if(!M||!M.options)throw lr("App Configuration");if(!M.name)throw lr("App Name");const F=["projectId","apiKey","appId"];for(const ce of F)if(!M.options[ce])throw lr(ce);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(F);return{app:F,appConfig:ce,heartbeatServiceProvider:(0,me._getProvider)(F,"heartbeat"),_delete:()=>Promise.resolve()}},Xs=M=>{const F=M.getProvider("app").getImmediate(),ce=(0,me._getProvider)(F,zr).getImmediate();return{getId:()=>function ps(M){return is.apply(this,arguments)}(ce),getToken:Ke=>function Ol(M){return Uc.apply(this,arguments)}(ce,Ke)}};(function Ps(){(0,me._registerComponent)(new be.wA(zr,$a,"PUBLIC")),(0,me._registerComponent)(new be.wA("installations-internal",Xs,"PRIVATE"))})(),(0,me.registerVersion)(D,T),(0,me.registerVersion)(D,T,"esm2017");const Wa="@firebase/remote-config",gi=new ve.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ms{constructor(F,ce,je,Ke){this.client=F,this.storage=ce,this.storageCache=je,this.logger=Ke}isCachedDataFresh(F,ce){if(!ce)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const je=Date.now()-ce,Ke=je<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${je}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${Ke}.`),Ke}fetch(F){var ce=this;return(0,Te.Z)(function*(){const[je,Ke]=yield Promise.all([ce.storage.getLastSuccessfulFetchTimestampMillis(),ce.storage.getLastSuccessfulFetchResponse()]);if(Ke&&ce.isCachedDataFresh(F.cacheMaxAgeMillis,je))return Ke;F.eTag=Ke&&Ke.eTag;const tt=yield ce.client.fetch(F),yt=[ce.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===tt.status&&yt.push(ce.storage.setLastSuccessfulFetchResponse(tt)),yield Promise.all(yt),tt})()}}function Nf(M=navigator){return M.languages&&M.languages[0]||M.language}class Pl{constructor(F,ce,je,Ke,tt,yt){this.firebaseInstallations=F,this.sdkVersion=ce,this.namespace=je,this.projectId=Ke,this.apiKey=tt,this.appId=yt}fetch(F){var ce=this;return(0,Te.Z)(function*(){const[je,Ke]=yield Promise.all([ce.firebaseInstallations.getId(),ce.firebaseInstallations.getToken()]),yt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ce.projectId}/namespaces/${ce.namespace}:fetch?key=${ce.apiKey}`,zt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},jt={sdk_version:ce.sdkVersion,app_instance_id:je,app_instance_id_token:Ke,app_id:ce.appId,language_code:Nf()},an={method:"POST",headers:zt,body:JSON.stringify(jt)},cn=fetch(yt,an),xn=new Promise((Cs,ro)=>{F.signal.addEventListener(()=>{const eh=new Error("The operation was aborted.");eh.name="AbortError",ro(eh)})});let Er;try{yield Promise.race([cn,xn]),Er=yield cn}catch(Cs){let ro="fetch-client-network";throw"AbortError"===Cs?.name&&(ro="fetch-timeout"),gi.create(ro,{originalErrorMessage:Cs?.message})}let Ai=Er.status;const Ti=Er.headers.get("ETag")||void 0;let Ro,io;if(200===Er.status){let Cs;try{Cs=yield Er.json()}catch(ro){throw gi.create("fetch-client-parse",{originalErrorMessage:ro?.message})}Ro=Cs.entries,io=Cs.state}if("INSTANCE_STATE_UNSPECIFIED"===io?Ai=500:"NO_CHANGE"===io?Ai=304:("NO_TEMPLATE"===io||"EMPTY_CONFIG"===io)&&(Ro={}),304!==Ai&&200!==Ai)throw gi.create("fetch-status",{httpStatus:Ai});return{status:Ai,eTag:Ti,config:Ro}})()}}class km{constructor(F,ce){this.client=F,this.storage=ce}fetch(F){var ce=this;return(0,Te.Z)(function*(){const je=(yield ce.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ce.attemptFetch(F,je)})()}attemptFetch(F,{throttleEndTimeMillis:ce,backoffCount:je}){var Ke=this;return(0,Te.Z)(function*(){yield function Ed(M,F){return new Promise((ce,je)=>{const Ke=Math.max(F-Date.now(),0),tt=setTimeout(ce,Ke);M.addEventListener(()=>{clearTimeout(tt),je(gi.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,ce);try{const tt=yield Ke.client.fetch(F);return yield Ke.storage.deleteThrottleMetadata(),tt}catch(tt){if(!function Yc(M){if(!(M instanceof ve.ZR&&M.customData))return!1;const F=Number(M.customData.httpStatus);return 429===F||500===F||503===F||504===F}(tt))throw tt;const yt={throttleEndTimeMillis:Date.now()+(0,ve.$s)(je),backoffCount:je+1};return yield Ke.storage.setThrottleMetadata(yt),Ke.attemptFetch(F,yt)}})()}}class Rm{constructor(F,ce,je,Ke,tt){this.app=F,this._client=ce,this._storageCache=je,this._storage=Ke,this._logger=tt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function gr(M,F){const ce=M.target.error||void 0;return gi.create(F,{originalErrorMessage:ce&&ce?.message})}const Pr="app_namespace_store";class UD{constructor(F,ce,je,Ke=function Kc(){return new Promise((M,F)=>{try{const ce=indexedDB.open("firebase_remote_config",1);ce.onerror=je=>{F(gr(je,"storage-open"))},ce.onsuccess=je=>{M(je.target.result)},ce.onupgradeneeded=je=>{0===je.oldVersion&&je.target.result.createObjectStore(Pr,{keyPath:"compositeKey"})}}catch(ce){F(gi.create("storage-open",{originalErrorMessage:ce?.message}))}})}()){this.appId=F,this.appName=ce,this.namespace=je,this.openDbPromise=Ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var ce=this;return(0,Te.Z)(function*(){const je=yield ce.openDbPromise;return new Promise((Ke,tt)=>{const zt=je.transaction([Pr],"readonly").objectStore(Pr),jt=ce.createCompositeKey(F);try{const an=zt.get(jt);an.onerror=cn=>{tt(gr(cn,"storage-get"))},an.onsuccess=cn=>{const xn=cn.target.result;Ke(xn?xn.value:void 0)}}catch(an){tt(gi.create("storage-get",{originalErrorMessage:an?.message}))}})})()}set(F,ce){var je=this;return(0,Te.Z)(function*(){const Ke=yield je.openDbPromise;return new Promise((tt,yt)=>{const jt=Ke.transaction([Pr],"readwrite").objectStore(Pr),an=je.createCompositeKey(F);try{const cn=jt.put({compositeKey:an,value:ce});cn.onerror=xn=>{yt(gr(xn,"storage-set"))},cn.onsuccess=()=>{tt()}}catch(cn){yt(gi.create("storage-set",{originalErrorMessage:cn?.message}))}})})()}delete(F){var ce=this;return(0,Te.Z)(function*(){const je=yield ce.openDbPromise;return new Promise((Ke,tt)=>{const zt=je.transaction([Pr],"readwrite").objectStore(Pr),jt=ce.createCompositeKey(F);try{const an=zt.delete(jt);an.onerror=cn=>{tt(gr(cn,"storage-delete"))},an.onsuccess=()=>{Ke()}}catch(an){tt(gi.create("storage-delete",{originalErrorMessage:an?.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class Hi{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,Te.Z)(function*(){const ce=F.storage.getLastFetchStatus(),je=F.storage.getLastSuccessfulFetchTimestampMillis(),Ke=F.storage.getActiveConfig(),tt=yield ce;tt&&(F.lastFetchStatus=tt);const yt=yield je;yt&&(F.lastSuccessfulFetchTimestampMillis=yt);const zt=yield Ke;zt&&(F.activeConfig=zt)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function Gr(){return Md.apply(this,arguments)}function Md(){return(Md=(0,Te.Z)(function*(){if(!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch{return!1}})).apply(this,arguments)}let Ya,ji;!function xo(){(0,me._registerComponent)(new be.wA("remote-config",function M(F,{instanceIdentifier:ce}){const je=F.getProvider("app").getImmediate(),Ke=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw gi.create("registration-window");if(!(0,ve.hl)())throw gi.create("indexed-db-unavailable");const{projectId:tt,apiKey:yt,appId:zt}=je.options;if(!tt)throw gi.create("registration-project-id");if(!yt)throw gi.create("registration-api-key");if(!zt)throw gi.create("registration-app-id");const jt=new UD(zt,je.name,ce=ce||"firebase"),an=new Hi(jt),cn=new Fe.Yd(Wa);cn.logLevel=Fe.in.ERROR;const xn=new Pl(Ke,me.SDK_VERSION,ce,tt,yt,zt),Er=new km(xn,jt),Ai=new ms(Er,jt,an,cn),Ti=new Rm(je,Ai,an,jt,cn);return function oy(M){const F=(0,ve.m9)(M);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(Ti),Ti},"PUBLIC").setMultipleInstances(!0)),(0,me.registerVersion)(Wa,"0.4.4"),(0,me.registerVersion)(Wa,"0.4.4","esm2017")}();const Ad=new WeakMap,ss=new WeakMap,Wo=new WeakMap,xr=new WeakMap,yn=new WeakMap;let Fl={get(M,F,ce){if(M instanceof IDBTransaction){if("done"===F)return ss.get(M);if("objectStoreNames"===F)return M.objectStoreNames||Wo.get(M);if("store"===F)return ce.objectStoreNames[1]?void 0:ce.objectStore(ce.objectStoreNames[0])}return Ls(M[F])},set:(M,F,ce)=>(M[F]=ce,!0),has:(M,F)=>M instanceof IDBTransaction&&("done"===F||"store"===F)||F in M};function Uf(M){return"function"==typeof M?function jf(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function la(){return ji||(ji=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...F){return M.apply(Jc(this),F),Ls(Ad.get(this))}:function(...F){return Ls(M.apply(Jc(this),F))}:function(F,...ce){const je=M.call(Jc(this),F,...ce);return Wo.set(je,F.sort?F.sort():[F]),Ls(je)}}(M):(M instanceof IDBTransaction&&function Vf(M){if(ss.has(M))return;const F=new Promise((ce,je)=>{const Ke=()=>{M.removeEventListener("complete",tt),M.removeEventListener("error",yt),M.removeEventListener("abort",yt)},tt=()=>{ce(),Ke()},yt=()=>{je(M.error||new DOMException("AbortError","AbortError")),Ke()};M.addEventListener("complete",tt),M.addEventListener("error",yt),M.addEventListener("abort",yt)});ss.set(M,F)}(M),((M,F)=>F.some(ce=>M instanceof ce))(M,function ay(){return Ya||(Ya=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,Fl):M)}function Ls(M){if(M instanceof IDBRequest)return function Bf(M){const F=new Promise((ce,je)=>{const Ke=()=>{M.removeEventListener("success",tt),M.removeEventListener("error",yt)},tt=()=>{ce(Ls(M.result)),Ke()},yt=()=>{je(M.error),Ke()};M.addEventListener("success",tt),M.addEventListener("error",yt)});return F.then(ce=>{ce instanceof IDBCursor&&Ad.set(ce,M)}).catch(()=>{}),yn.set(F,M),F}(M);if(xr.has(M))return xr.get(M);const F=Uf(M);return F!==M&&(xr.set(M,F),yn.set(F,M)),F}const Jc=M=>yn.get(M);function Dt(M,F,{blocked:ce,upgrade:je,blocking:Ke,terminated:tt}={}){const yt=indexedDB.open(M,F),zt=Ls(yt);return je&&yt.addEventListener("upgradeneeded",jt=>{je(Ls(yt.result),jt.oldVersion,jt.newVersion,Ls(yt.transaction))}),ce&&yt.addEventListener("blocked",()=>ce()),zt.then(jt=>{tt&&jt.addEventListener("close",()=>tt()),Ke&&jt.addEventListener("versionchange",()=>Ke())}).catch(()=>{}),zt}function Fn(M,{blocked:F}={}){const ce=indexedDB.deleteDatabase(M);return F&&ce.addEventListener("blocked",()=>F()),Ls(ce).then(()=>{})}const eu=["get","getKey","getAll","getAllKeys","count"],Td=["put","add","delete","clear"],Fi=new Map;function tu(M,F){if(!(M instanceof IDBDatabase)||F in M||"string"!=typeof F)return;if(Fi.get(F))return Fi.get(F);const ce=F.replace(/FromIndex$/,""),je=F!==ce,Ke=Td.includes(ce);if(!(ce in(je?IDBIndex:IDBObjectStore).prototype)||!Ke&&!eu.includes(ce))return;const tt=function(){var yt=(0,Te.Z)(function*(zt,...jt){const an=this.transaction(zt,Ke?"readwrite":"readonly");let cn=an.store;return je&&(cn=cn.index(jt.shift())),(yield Promise.all([cn[ce](...jt),Ke&&an.done]))[0]});return function(jt){return yt.apply(this,arguments)}}();return Fi.set(F,tt),tt}!function Hf(M){Fl=M(Fl)}(M=>({...M,get:(F,ce,je)=>tu(F,ce)||M.get(F,ce,je),has:(F,ce)=>!!tu(F,ce)||M.has(F,ce)}));const ca="/firebase-messaging-sw.js",os="/firebase-cloud-messaging-push-scope",qa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",kd="google.c.a.c_id",Li="google.c.a.c_l",Pm="google.c.a.ts",Fm="google.c.a.e";var as=(()=>{return(M=as||(as={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",as;var M})();function Ns(M){const F=new Uint8Array(M);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Do(M){const ce=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),je=atob(ce),Ke=new Uint8Array(je.length);for(let tt=0;tt<je.length;++tt)Ke[tt]=je.charCodeAt(tt);return Ke}const ls="fcm_token_details_db",ua="fcm_token_object_Store";function ly(M){return Za.apply(this,arguments)}function Za(){return Za=(0,Te.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(tt=>tt.name).includes(ls))return null;let F=null;return(yield Dt(ls,5,{upgrade:(je=(0,Te.Z)(function*(Ke,tt,yt,zt){var jt;if(tt<2||!Ke.objectStoreNames.contains(ua))return;const an=zt.objectStore(ua),cn=yield an.index("fcmSenderId").get(M);if(yield an.clear(),cn)if(2===tt){const xn=cn;if(!xn.auth||!xn.p256dh||!xn.endpoint)return;F={token:xn.fcmToken,createTime:null!==(jt=xn.createTime)&&void 0!==jt?jt:Date.now(),subscriptionOptions:{auth:xn.auth,p256dh:xn.p256dh,endpoint:xn.endpoint,swScope:xn.swScope,vapidKey:"string"==typeof xn.vapidKey?xn.vapidKey:Ns(xn.vapidKey)}}}else if(3===tt){const xn=cn;F={token:xn.fcmToken,createTime:xn.createTime,subscriptionOptions:{auth:Ns(xn.auth),p256dh:Ns(xn.p256dh),endpoint:xn.endpoint,swScope:xn.swScope,vapidKey:Ns(xn.vapidKey)}}}else if(4===tt){const xn=cn;F={token:xn.fcmToken,createTime:xn.createTime,subscriptionOptions:{auth:Ns(xn.auth),p256dh:Ns(xn.p256dh),endpoint:xn.endpoint,swScope:xn.swScope,vapidKey:Ns(xn.vapidKey)}}}}),function(tt,yt,zt,jt){return je.apply(this,arguments)})})).close(),yield Fn(ls),yield Fn("fcm_vapid_details_db"),yield Fn("undefined"),Rd(F)?F:null;var je}),Za.apply(this,arguments)}function Rd(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:F}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}const Lr="firebase-messaging-store";let Od=null;function Nl(){return Od||(Od=Dt("firebase-messaging-database",1,{upgrade:(M,F)=>{0===F&&M.createObjectStore(Lr)}})),Od}function Bl(M){return da.apply(this,arguments)}function da(){return(da=(0,Te.Z)(function*(M){const F=iu(M),je=yield(yield Nl()).transaction(Lr).objectStore(Lr).get(F);if(je)return je;{const Ke=yield ly(M.appConfig.senderId);if(Ke)return yield Pd(M,Ke),Ke}})).apply(this,arguments)}function Pd(M,F){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,Te.Z)(function*(M,F){const ce=iu(M),Ke=(yield Nl()).transaction(Lr,"readwrite");return yield Ke.objectStore(Lr).put(F,ce),yield Ke.done,F})).apply(this,arguments)}function Gf(M){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,Te.Z)(function*(M){const F=iu(M),je=(yield Nl()).transaction(Lr,"readwrite");yield je.objectStore(Lr).delete(F),yield je.done})).apply(this,arguments)}function iu({appConfig:M}){return M.appId}const ii=new ve.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function So(M,F){return wi.apply(this,arguments)}function wi(){return(wi=(0,Te.Z)(function*(M,F){const ce=yield Ld(M),je=Hl(F),Ke={method:"POST",headers:ce,body:JSON.stringify(je)};let tt;try{tt=yield(yield fetch(su(M.appConfig),Ke)).json()}catch(yt){throw ii.create("token-subscribe-failed",{errorInfo:yt?.toString()})}if(tt.error)throw ii.create("token-subscribe-failed",{errorInfo:tt.error.message});if(!tt.token)throw ii.create("token-subscribe-no-token");return tt.token})).apply(this,arguments)}function Fd(M,F){return $f.apply(this,arguments)}function $f(){return($f=(0,Te.Z)(function*(M,F){const ce=yield Ld(M),je=Hl(F.subscriptionOptions),Ke={method:"PATCH",headers:ce,body:JSON.stringify(je)};let tt;try{tt=yield(yield fetch(`${su(M.appConfig)}/${F.token}`,Ke)).json()}catch(yt){throw ii.create("token-update-failed",{errorInfo:yt?.toString()})}if(tt.error)throw ii.create("token-update-failed",{errorInfo:tt.error.message});if(!tt.token)throw ii.create("token-update-no-token");return tt.token})).apply(this,arguments)}function ru(M,F){return Wf.apply(this,arguments)}function Wf(){return(Wf=(0,Te.Z)(function*(M,F){const je={method:"DELETE",headers:yield Ld(M)};try{const tt=yield(yield fetch(`${su(M.appConfig)}/${F}`,je)).json();if(tt.error)throw ii.create("token-unsubscribe-failed",{errorInfo:tt.error.message})}catch(Ke){throw ii.create("token-unsubscribe-failed",{errorInfo:Ke?.toString()})}})).apply(this,arguments)}function su({projectId:M}){return`https://fcmregistrations.googleapis.com/v1/projects/${M}/registrations`}function Ld(M){return ha.apply(this,arguments)}function ha(){return(ha=(0,Te.Z)(function*({appConfig:M,installations:F}){const ce=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${ce}`})})).apply(this,arguments)}function Hl({p256dh:M,auth:F,endpoint:ce,vapidKey:je}){const Ke={web:{endpoint:ce,auth:F,p256dh:M}};return je!==qa&&(Ke.web.applicationPubKey=je),Ke}const Xa=6048e5;function Yf(M){return jl.apply(this,arguments)}function jl(){return(jl=(0,Te.Z)(function*(M){const F=yield Nd(M.swRegistration,M.vapidKey),ce={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:F.endpoint,auth:Ns(F.getKey("auth")),p256dh:Ns(F.getKey("p256dh"))},je=yield Bl(M.firebaseDependencies);if(je){if(Bm(je.subscriptionOptions,ce))return Date.now()>=je.createTime+Xa?Ul(M,{token:je.token,createTime:Date.now(),subscriptionOptions:ce}):je.token;try{yield ru(M.firebaseDependencies,je.token)}catch(Ke){console.warn(Ke)}return Nm(M.firebaseDependencies,ce)}return Nm(M.firebaseDependencies,ce)})).apply(this,arguments)}function Lm(M){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,Te.Z)(function*(M){const F=yield Bl(M.firebaseDependencies);F&&(yield ru(M.firebaseDependencies,F.token),yield Gf(M.firebaseDependencies));const ce=yield M.swRegistration.pushManager.getSubscription();return!ce||ce.unsubscribe()})).apply(this,arguments)}function Ul(M,F){return ou.apply(this,arguments)}function ou(){return(ou=(0,Te.Z)(function*(M,F){try{const ce=yield Fd(M.firebaseDependencies,F),je=Object.assign(Object.assign({},F),{token:ce,createTime:Date.now()});return yield Pd(M.firebaseDependencies,je),ce}catch(ce){throw yield Lm(M),ce}})).apply(this,arguments)}function Nm(M,F){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,Te.Z)(function*(M,F){const je={token:yield So(M,F),createTime:Date.now(),subscriptionOptions:F};return yield Pd(M,je),je.token})).apply(this,arguments)}function Nd(M,F){return qf.apply(this,arguments)}function qf(){return(qf=(0,Te.Z)(function*(M,F){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Do(F)})})).apply(this,arguments)}function Bm(M,F){return F.vapidKey===M.vapidKey&&F.endpoint===M.endpoint&&F.auth===M.auth&&F.p256dh===M.p256dh}function Bd(M){const F={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function au(M,F){if(!F.notification)return;M.notification={};const ce=F.notification.title;ce&&(M.notification.title=ce);const je=F.notification.body;je&&(M.notification.body=je);const Ke=F.notification.image;Ke&&(M.notification.image=Ke);const tt=F.notification.icon;tt&&(M.notification.icon=tt)}(F,M),function lu(M,F){!F.data||(M.data=F.data)}(F,M),function cu(M,F){var ce,je,Ke,tt,yt;if(!(F.fcmOptions||null!==(ce=F.notification)&&void 0!==ce&&ce.click_action))return;M.fcmOptions={};const zt=null!==(Ke=null===(je=F.fcmOptions)||void 0===je?void 0:je.link)&&void 0!==Ke?Ke:null===(tt=F.notification)||void 0===tt?void 0:tt.click_action;zt&&(M.fcmOptions.link=zt);const jt=null===(yt=F.fcmOptions)||void 0===yt?void 0:yt.analytics_label;jt&&(M.fcmOptions.analyticsLabel=jt)}(F,M),F}function Vm(M){return"object"==typeof M&&!!M&&kd in M}function Qa(M,F){const ce=[];for(let je=0;je<M.length;je++)ce.push(M.charAt(je)),je<F.length&&ce.push(F.charAt(je));return ce.join("")}function Vd(M){return ii.create("missing-app-config-values",{valueName:M})}Qa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Qa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zl{constructor(F,ce,je){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ke=function Zf(M){if(!M||!M.options)throw Vd("App Configuration Object");if(!M.name)throw Vd("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:ce}=M;for(const je of F)if(!ce[je])throw Vd(je);return{appName:M.name,projectId:ce.projectId,apiKey:ce.apiKey,appId:ce.appId,senderId:ce.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:Ke,installations:ce,analyticsProvider:je}}_delete(){return Promise.resolve()}}function Hm(M){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,Te.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(ca,{scope:os}),M.swRegistration.update().catch(()=>{})}catch(F){throw ii.create("failed-service-worker-registration",{browserErrorMessage:F?.message})}})).apply(this,arguments)}function Gl(M,F){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,Te.Z)(function*(M,F){if(!F&&!M.swRegistration&&(yield Hm(M)),F||!M.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw ii.create("invalid-sw-registration");M.swRegistration=F}})).apply(this,arguments)}function fa(M,F){return Js.apply(this,arguments)}function Js(){return(Js=(0,Te.Z)(function*(M,F){F?M.vapidKey=F:M.vapidKey||(M.vapidKey=qa)})).apply(this,arguments)}function $l(){return($l=(0,Te.Z)(function*(M,F){if(!navigator)throw ii.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ii.create("permission-blocked");return yield fa(M,F?.vapidKey),yield Gl(M,F?.serviceWorkerRegistration),Yf(M)})).apply(this,arguments)}function _s(M,F,ce){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,Te.Z)(function*(M,F,ce){const je=Ja(F);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(je,{message_id:ce[kd],message_name:ce[Li],message_time:ce[Pm],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ja(M){switch(M){case as.NOTIFICATION_CLICKED:return"notification_open";case as.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function pa(){return(pa=(0,Te.Z)(function*(M,F){const ce=F.data;if(!ce.isFirebaseMessaging)return;M.onMessageHandler&&ce.messageType===as.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(Bd(ce)):M.onMessageHandler.next(Bd(ce)));const je=ce.data;Vm(je)&&"1"===je[Fm]&&(yield _s(M,ce.messageType,je))})).apply(this,arguments)}const ma="@firebase/messaging",ga=M=>{const F=new zl(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ce=>function jd(M,F){return pa.apply(this,arguments)}(F,ce)),F},du=M=>{const F=M.getProvider("messaging").getImmediate();return{getToken:je=>function uu(M,F){return $l.apply(this,arguments)}(F,je)}};function el(){return tl.apply(this,arguments)}function tl(){return(tl=(0,Te.Z)(function*(){try{yield(0,ve.eu)()}catch{return!1}return typeof window<"u"&&(0,ve.hl)()&&(0,ve.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function jm(){(0,me._registerComponent)(new be.wA("messaging",ga,"PUBLIC")),(0,me._registerComponent)(new be.wA("messaging-internal",du,"PRIVATE")),(0,me.registerVersion)(ma,"0.12.4"),(0,me.registerVersion)(ma,"0.12.4","esm2017")}();const Ci="analytics",Ud="firebase_id",fu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ao="https://www.googletagmanager.com/gtag/js",Ni=new Fe.Yd("@firebase/analytics"),Dr=new ve.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function nl(M){if(!M.startsWith(Ao)){const F=Dr.create("invalid-gtag-resource",{gtagURL:M});return Ni.warn(F.message),""}return M}function To(M){return Promise.all(M.map(F=>F.catch(ce=>ce)))}function Zl(M,F){const ce=function pu(M,F){let ce;return window.trustedTypes&&(ce=window.trustedTypes.createPolicy(M,F)),ce}("firebase-js-sdk-policy",{createScriptURL:nl}),je=document.createElement("script"),Ke=`${Ao}?l=${M}&id=${F}`;je.src=ce?ce?.createScriptURL(Ke):Ke,je.async=!0,document.head.appendChild(je)}function zd(M,F,ce,je,Ke,tt){return mu.apply(this,arguments)}function mu(){return(mu=(0,Te.Z)(function*(M,F,ce,je,Ke,tt){const yt=je[Ke];try{if(yt)yield F[yt];else{const jt=(yield To(ce)).find(an=>an.measurementId===Ke);jt&&(yield F[jt.appId])}}catch(zt){Ni.error(zt)}M("config",Ke,tt)})).apply(this,arguments)}function Gm(M,F,ce,je,Ke){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,Te.Z)(function*(M,F,ce,je,Ke){try{let tt=[];if(Ke&&Ke.send_to){let yt=Ke.send_to;Array.isArray(yt)||(yt=[yt]);const zt=yield To(ce);for(const jt of yt){const an=zt.find(xn=>xn.measurementId===jt),cn=an&&F[an.appId];if(!cn){tt=[];break}tt.push(cn)}}0===tt.length&&(tt=Object.values(F)),yield Promise.all(tt),M("event",je,Ke||{})}catch(tt){Ni.error(tt)}})).apply(this,arguments)}function Ym(M){const F=window.document.getElementsByTagName("script");for(const ce of Object.values(F))if(ce.src&&ce.src.includes(Ao)&&ce.src.includes(M))return ce;return null}const Ji=new class gu{constructor(F={},ce=1e3){this.throttleMetadata=F,this.intervalMillis=ce}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,ce){this.throttleMetadata[F]=ce}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function _u(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function ys(M){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,Te.Z)(function*(M){var F;const{appId:ce,apiKey:je}=M,Ke={method:"GET",headers:_u(je)},tt=fu.replace("{app-id}",ce),yt=yield fetch(tt,Ke);if(200!==yt.status&&304!==yt.status){let zt="";try{const jt=yield yt.json();null!==(F=jt.error)&&void 0!==F&&F.message&&(zt=jt.error.message)}catch{}throw Dr.create("config-fetch-failed",{httpStatus:yt.status,responseMessage:zt})}return yt.json()})).apply(this,arguments)}function qm(M){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,Te.Z)(function*(M,F=Ji,ce){const{appId:je,apiKey:Ke,measurementId:tt}=M.options;if(!je)throw Dr.create("no-app-id");if(!Ke){if(tt)return{measurementId:tt,appId:je};throw Dr.create("no-api-key")}const yt=F.getThrottleMetadata(je)||{backoffCount:0,throttleEndTimeMillis:Date.now()},zt=new Qf;return setTimeout((0,Te.Z)(function*(){zt.abort()}),void 0!==ce?ce:6e4),Vs({appId:je,apiKey:Ke,measurementId:tt},yt,zt,F)})).apply(this,arguments)}function Vs(M,F,ce){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,Te.Z)(function*(M,{throttleEndTimeMillis:F,backoffCount:ce},je,Ke=Ji){var tt;const{appId:yt,measurementId:zt}=M;try{yield $d(je,F)}catch(jt){if(zt)return Ni.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${zt} provided in the "measurementId" field in the local Firebase config. [${jt?.message}]`),{appId:yt,measurementId:zt};throw jt}try{const jt=yield ys(M);return Ke.deleteThrottleMetadata(yt),jt}catch(jt){const an=jt;if(!il(an)){if(Ke.deleteThrottleMetadata(yt),zt)return Ni.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${zt} provided in the "measurementId" field in the local Firebase config. [${an?.message}]`),{appId:yt,measurementId:zt};throw jt}const cn=503===Number(null===(tt=an?.customData)||void 0===tt?void 0:tt.httpStatus)?(0,ve.$s)(ce,Ke.intervalMillis,30):(0,ve.$s)(ce,Ke.intervalMillis),xn={throttleEndTimeMillis:Date.now()+cn,backoffCount:ce+1};return Ke.setThrottleMetadata(yt,xn),Ni.debug(`Calling attemptFetch again in ${cn} millis`),Vs(M,xn,je,Ke)}})).apply(this,arguments)}function $d(M,F){return new Promise((ce,je)=>{const Ke=Math.max(F-Date.now(),0),tt=setTimeout(ce,Ke);M.addEventListener(()=>{clearTimeout(tt),je(Dr.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}function il(M){if(!(M instanceof ve.ZR&&M.customData))return!1;const F=Number(M.customData.httpStatus);return 429===F||500===F||503===F||504===F}class Qf{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}let Jf,Yd;function Zm(){return(Zm=(0,Te.Z)(function*(M,F,ce,je,Ke){if(Ke&&Ke.global)M("event",ce,je);else{const tt=yield F;M("event",ce,Object.assign(Object.assign({},je),{send_to:tt}))}})).apply(this,arguments)}function Ql(M){Yd=M}function wu(M){Jf=M}function Sr(){return no.apply(this,arguments)}function no(){return(no=(0,Te.Z)(function*(){if(!(0,ve.hl)())return Ni.warn(Dr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ve.eu)()}catch(M){return Ni.warn(Dr.create("indexeddb-unavailable",{errorInfo:M?.toString()}).message),!1}return!0})).apply(this,arguments)}function Hn(){return(Hn=(0,Te.Z)(function*(M,F,ce,je,Ke,tt,yt){var zt;const jt=qm(M);jt.then(Ai=>{ce[Ai.measurementId]=Ai.appId,M.options.measurementId&&Ai.measurementId!==M.options.measurementId&&Ni.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${Ai.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ai=>Ni.error(Ai)),F.push(jt);const an=Sr().then(Ai=>{if(Ai)return je.getId()}),[cn,xn]=yield Promise.all([jt,an]);Ym(tt)||Zl(tt,cn.measurementId),Yd&&(Ke("consent","default",Yd),Ql(void 0)),Ke("js",new Date);const Er=null!==(zt=yt?.config)&&void 0!==zt?zt:{};return Er.origin="firebase",Er.update=!0,null!=xn&&(Er[Ud]=xn),Ke("config",cn.measurementId,Er),Jf&&(Ke("set",Jf),wu(void 0)),cn.measurementId})).apply(this,arguments)}class $r{constructor(F){this.app=F}_delete(){return delete Bt[this.app.options.appId],Promise.resolve()}}let Bt={},er=[];const rl={};let _i,Yn,Cu="dataLayer",Si=!1;function xu(M,F,ce){!function en(){const M=[];if((0,ve.ru)()&&M.push("This is a browser extension environment."),(0,ve.zI)()||M.push("Cookies are not available."),M.length>0){const F=M.map((je,Ke)=>`(${Ke+1}) ${je}`).join(" "),ce=Dr.create("invalid-analytics-context",{errorInfo:F});Ni.warn(ce.message)}}();const je=M.options.appId;if(!je)throw Dr.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw Dr.create("no-api-key");Ni.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Bt[je])throw Dr.create("already-exists",{id:je});if(!Si){!function ci(M){let F=[];Array.isArray(window[M])?F=window[M]:window[M]=F}(Cu);const{wrappedGtag:tt,gtagCore:yt}=function Wm(M,F,ce,je,Ke){let tt=function(...yt){window[je].push(arguments)};return window[Ke]&&"function"==typeof window[Ke]&&(tt=window[Ke]),window[Ke]=function $m(M,F,ce,je){function tt(){return(tt=(0,Te.Z)(function*(yt,...zt){try{if("event"===yt){const[jt,an]=zt;yield Gm(M,F,ce,jt,an)}else if("config"===yt){const[jt,an]=zt;yield zd(M,F,ce,je,jt,an)}else if("consent"===yt){const[jt]=zt;M("consent","update",jt)}else if("get"===yt){const[jt,an,cn]=zt;M("get",jt,an,cn)}else if("set"===yt){const[jt]=zt;M("set",jt)}else M(yt,...zt)}catch(jt){Ni.error(jt)}})).apply(this,arguments)}return function Ke(yt){return tt.apply(this,arguments)}}(tt,M,F,ce),{gtagCore:tt,wrappedGtag:window[Ke]}}(Bt,er,rl,Cu,"gtag");Yn=tt,_i=yt,Si=!0}return Bt[je]=function cr(M,F,ce,je,Ke,tt,yt){return Hn.apply(this,arguments)}(M,er,rl,F,_i,Cu,ce),new $r(M)}function ol(){return qd.apply(this,arguments)}function qd(){return(qd=(0,Te.Z)(function*(){if((0,ve.ru)()||!(0,ve.zI)()||!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch{return!1}})).apply(this,arguments)}const Wr="@firebase/analytics";!function Zd(){(0,me._registerComponent)(new be.wA(Ci,(F,{options:ce})=>xu(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),ce),"PUBLIC")),(0,me._registerComponent)(new be.wA("analytics-internal",function M(F){try{const ce=F.getProvider(Ci).getImmediate();return{logEvent:(je,Ke,tt)=>function Nn(M,F,ce,je){M=(0,ve.m9)(M),function hy(M,F,ce,je,Ke){return Zm.apply(this,arguments)}(Yn,Bt[M.app.options.appId],F,ce,je).catch(Ke=>Ni.error(Ke))}(ce,je,Ke,tt)}}catch(ce){throw Dr.create("interop-component-reg-failed",{reason:ce})}},"PRIVATE")),(0,me.registerVersion)(Wr,"0.10.0"),(0,me.registerVersion)(Wr,"0.10.0","esm2017")}();var gn=He(4408),ec=He(7565);const Su=new class ep extends ec.v{}(class qo extends gn.o{constructor(F,ce){super(F,ce),this.scheduler=F,this.work=ce}schedule(F,ce=0){return ce>0?super.schedule(F,ce):(this.delay=ce,this.state=F,this.scheduler.flush(this),this)}execute(F,ce){return ce>0||this.closed?super.execute(F,ce):this._execute(F,ce)}requestAsyncId(F,ce,je=0){return null!=je&&je>0||null==je&&this.delay>0?super.requestAsyncId(F,ce,je):(F.flush(this),0)}});var tp=He(4986),Qm=He(8505),ur=He(9468),wa=He(5363);const Mi=new o.GfV("7.6.1"),bs="__angularfire_symbol__analyticsIsSupportedValue",tc="__angularfire_symbol__analyticsIsSupported",nc="__angularfire_symbol__remoteConfigIsSupportedValue",ic="__angularfire_symbol__remoteConfigIsSupported",al="__angularfire_symbol__messagingIsSupportedValue",dr="__angularfire_symbol__messagingIsSupported";function np(M,F,ce){if(F){if(1===F.length)return F[0];const tt=F.filter(yt=>yt.app===ce);if(1===tt.length)return tt[0]}return ce.container.getProvider(M).getImmediate({optional:!0})}globalThis[tc]||(globalThis[tc]=ol().then(M=>globalThis[bs]=M).catch(()=>globalThis[bs]=!1)),globalThis[dr]||(globalThis[dr]=el().then(M=>globalThis[al]=M).catch(()=>globalThis[al]=!1)),globalThis[ic]||(globalThis[ic]=Gr().then(M=>globalThis[nc]=M).catch(()=>globalThis[nc]=!1));const Xd=(M,F)=>{const ce=F?[F]:(0,it.C6)(),je=[];return ce.forEach(Ke=>{Ke.container.getProvider(M).instances.forEach(yt=>{je.includes(yt)||je.push(yt)})}),je};function xa(){}class ll{constructor(F,ce=Su){this.zone=F,this.delegate=ce}now(){return this.delegate.now()}schedule(F,ce,je){const Ke=this.zone;return this.delegate.schedule(function(yt){Ke.runGuarded(()=>{F.apply(this,[yt])})},ce,je)}}class Jm{constructor(F){this.zone=F,this.task=null}call(F,ce){const je=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xa,{},xa,xa)),ce.pipe((0,Qm.b)({next:je,complete:je,error:je})).subscribe(F).add(je)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qd=(()=>{class M{constructor(ce){this.ngZone=ce,this.outsideAngular=ce.runOutsideAngular(()=>new ll(Zone.current)),this.insideAngular=ce.run(()=>new ll(Zone.current,tp.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(ce){return new(ce||M)(o.LFG(o.R0b))},M.\u0275prov=o.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function Da(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function sc(M){return Da(),function Au(M){return function(ce){return(ce=ce.lift(new Jm(M.ngZone))).pipe((0,ur.R)(M.outsideAngular),(0,wa.Q)(M.insideAngular))}}(Da())(M)}},2090:(Jt,wt,He)=>{He.d(wt,{$s:()=>Pi,BH:()=>$,G6:()=>K,L:()=>Ve,LL:()=>Oe,Pz:()=>V,Sg:()=>te,UG:()=>I,US:()=>be,ZB:()=>oe,ZR:()=>De,aH:()=>G,b$:()=>U,eu:()=>E,hl:()=>j,jU:()=>W,m9:()=>Ur,ne:()=>Re,pd:()=>le,r3:()=>xe,ru:()=>N,tV:()=>we,uI:()=>P,vZ:()=>Ge,w1:()=>D,xO:()=>_t,xb:()=>Ee,z$:()=>ie,zI:()=>q,zd:()=>ge});const me=function(Ze){const $e=[];let et=0;for(let mt=0;mt<Ze.length;mt++){let ot=Ze.charCodeAt(mt);ot<128?$e[et++]=ot:ot<2048?($e[et++]=ot>>6|192,$e[et++]=63&ot|128):55296==(64512&ot)&&mt+1<Ze.length&&56320==(64512&Ze.charCodeAt(mt+1))?(ot=65536+((1023&ot)<<10)+(1023&Ze.charCodeAt(++mt)),$e[et++]=ot>>18|240,$e[et++]=ot>>12&63|128,$e[et++]=ot>>6&63|128,$e[et++]=63&ot|128):($e[et++]=ot>>12|224,$e[et++]=ot>>6&63|128,$e[et++]=63&ot|128)}return $e},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ze,$e){if(!Array.isArray(Ze))throw Error("encodeByteArray takes an array as a parameter");this.init_();const et=$e?this.byteToCharMapWebSafe_:this.byteToCharMap_,mt=[];for(let ot=0;ot<Ze.length;ot+=3){const Wt=Ze[ot],_n=ot+1<Ze.length,Sn=_n?Ze[ot+1]:0,oi=ot+2<Ze.length,Nt=oi?Ze[ot+2]:0;let ui=(15&Sn)<<2|Nt>>6,wr=63&Nt;oi||(wr=64,_n||(ui=64)),mt.push(et[Wt>>2],et[(3&Wt)<<4|Sn>>4],et[ui],et[wr])}return mt.join("")},encodeString(Ze,$e){return this.HAS_NATIVE_SUPPORT&&!$e?btoa(Ze):this.encodeByteArray(me(Ze),$e)},decodeString(Ze,$e){return this.HAS_NATIVE_SUPPORT&&!$e?atob(Ze):function(Ze){const $e=[];let et=0,mt=0;for(;et<Ze.length;){const ot=Ze[et++];if(ot<128)$e[mt++]=String.fromCharCode(ot);else if(ot>191&&ot<224){const Wt=Ze[et++];$e[mt++]=String.fromCharCode((31&ot)<<6|63&Wt)}else if(ot>239&&ot<365){const oi=((7&ot)<<18|(63&Ze[et++])<<12|(63&Ze[et++])<<6|63&Ze[et++])-65536;$e[mt++]=String.fromCharCode(55296+(oi>>10)),$e[mt++]=String.fromCharCode(56320+(1023&oi))}else{const Wt=Ze[et++],_n=Ze[et++];$e[mt++]=String.fromCharCode((15&ot)<<12|(63&Wt)<<6|63&_n)}}return $e.join("")}(this.decodeStringToByteArray(Ze,$e))},decodeStringToByteArray(Ze,$e){this.init_();const et=$e?this.charToByteMapWebSafe_:this.charToByteMap_,mt=[];for(let ot=0;ot<Ze.length;){const Wt=et[Ze.charAt(ot++)],Sn=ot<Ze.length?et[Ze.charAt(ot)]:0;++ot;const Nt=ot<Ze.length?et[Ze.charAt(ot)]:64;++ot;const dn=ot<Ze.length?et[Ze.charAt(ot)]:64;if(++ot,null==Wt||null==Sn||null==Nt||null==dn)throw new Fe;mt.push(Wt<<2|Sn>>4),64!==Nt&&(mt.push(Sn<<4&240|Nt>>2),64!==dn&&mt.push(Nt<<6&192|dn))}return mt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ze=0;Ze<this.ENCODED_VALS.length;Ze++)this.byteToCharMap_[Ze]=this.ENCODED_VALS.charAt(Ze),this.charToByteMap_[this.byteToCharMap_[Ze]]=Ze,this.byteToCharMapWebSafe_[Ze]=this.ENCODED_VALS_WEBSAFE.charAt(Ze),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ze]]=Ze,Ze>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ze)]=Ze,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ze)]=Ze)}}};class Fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ve=function(Ze){return function(Ze){const $e=me(Ze);return be.encodeByteArray($e,!0)}(Ze).replace(/\./g,"")},we=function(Ze){try{return be.decodeString(Ze,!0)}catch($e){console.error("base64Decode failed: ",$e)}return null};function oe(Ze,$e){if(!($e instanceof Object))return $e;switch($e.constructor){case Date:return new Date($e.getTime());case Object:void 0===Ze&&(Ze={});break;case Array:Ze=[];break;default:return $e}for(const et in $e)!$e.hasOwnProperty(et)||!Ae(et)||(Ze[et]=oe(Ze[et],$e[et]));return Ze}function Ae(Ze){return"__proto__"!==Ze}const ne=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ze=process.env.__FIREBASE_DEFAULTS__;return Ze?JSON.parse(Ze):void 0})()||(()=>{if(typeof document>"u")return;let Ze;try{Ze=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $e=Ze&&we(Ze[1]);return $e&&JSON.parse($e)})()}catch(Ze){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ze}`)}},G=()=>{var Ze;return null===(Ze=ne())||void 0===Ze?void 0:Ze.config},V=Ze=>{var $e;return null===($e=ne())||void 0===$e?void 0:$e[`_${Ze}`]};class ${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($e,et)=>{this.resolve=$e,this.reject=et})}wrapCallback($e){return(et,mt)=>{et?this.reject(et):this.resolve(mt),"function"==typeof $e&&(this.promise.catch(()=>{}),1===$e.length?$e(et):$e(et,mt))}}}function te(Ze,$e){if(Ze.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const mt=$e||"demo-project",ot=Ze.iat||0,Wt=Ze.sub||Ze.user_id;if(!Wt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _n=Object.assign({iss:`https://securetoken.google.com/${mt}`,aud:mt,iat:ot,exp:ot+3600,auth_time:ot,sub:Wt,user_id:Wt,firebase:{sign_in_provider:"custom",identities:{}}},Ze);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify(_n)),""].join(".")}function ie(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function P(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ie())}function I(){var Ze;const $e=null===(Ze=ne())||void 0===Ze?void 0:Ze.forceEnvironment;if("node"===$e)return!0;if("browser"===$e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function W(){return"object"==typeof self&&self.self===self}function N(){const Ze="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ze&&void 0!==Ze.id}function U(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function D(){const Ze=ie();return Ze.indexOf("MSIE ")>=0||Ze.indexOf("Trident/")>=0}function K(){return!I()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j(){try{return"object"==typeof indexedDB}catch{return!1}}function E(){return new Promise((Ze,$e)=>{try{let et=!0;const mt="validate-browser-context-for-indexeddb-analytics-module",ot=self.indexedDB.open(mt);ot.onsuccess=()=>{ot.result.close(),et||self.indexedDB.deleteDatabase(mt),Ze(!0)},ot.onupgradeneeded=()=>{et=!1},ot.onerror=()=>{var Wt;$e((null===(Wt=ot.error)||void 0===Wt?void 0:Wt.message)||"")}}catch(et){$e(et)}})}function q(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class De extends Error{constructor($e,et,mt){super(et),this.code=$e,this.customData=mt,this.name="FirebaseError",Object.setPrototypeOf(this,De.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oe.prototype.create)}}class Oe{constructor($e,et,mt){this.service=$e,this.serviceName=et,this.errors=mt}create($e,...et){const mt=et[0]||{},ot=`${this.service}/${$e}`,Wt=this.errors[$e],_n=Wt?function ue(Ze,$e){return Ze.replace(A,(et,mt)=>{const ot=$e[mt];return null!=ot?String(ot):`<${mt}?>`})}(Wt,mt):"Error";return new De(ot,`${this.serviceName}: ${_n} (${ot}).`,mt)}}const A=/\{\$([^}]+)}/g;function xe(Ze,$e){return Object.prototype.hasOwnProperty.call(Ze,$e)}function Ee(Ze){for(const $e in Ze)if(Object.prototype.hasOwnProperty.call(Ze,$e))return!1;return!0}function Ge(Ze,$e){if(Ze===$e)return!0;const et=Object.keys(Ze),mt=Object.keys($e);for(const ot of et){if(!mt.includes(ot))return!1;const Wt=Ze[ot],_n=$e[ot];if(qe(Wt)&&qe(_n)){if(!Ge(Wt,_n))return!1}else if(Wt!==_n)return!1}for(const ot of mt)if(!et.includes(ot))return!1;return!0}function qe(Ze){return null!==Ze&&"object"==typeof Ze}function _t(Ze){const $e=[];for(const[et,mt]of Object.entries(Ze))Array.isArray(mt)?mt.forEach(ot=>{$e.push(encodeURIComponent(et)+"="+encodeURIComponent(ot))}):$e.push(encodeURIComponent(et)+"="+encodeURIComponent(mt));return $e.length?"&"+$e.join("&"):""}function ge(Ze){const $e={};return Ze.replace(/^\?/,"").split("&").forEach(mt=>{if(mt){const[ot,Wt]=mt.split("=");$e[decodeURIComponent(ot)]=decodeURIComponent(Wt)}}),$e}function le(Ze){const $e=Ze.indexOf("?");if(!$e)return"";const et=Ze.indexOf("#",$e);return Ze.substring($e,et>0?et:void 0)}function Re(Ze,$e){const et=new Pe(Ze,$e);return et.subscribe.bind(et)}class Pe{constructor($e,et){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=et,this.task.then(()=>{$e(this)}).catch(mt=>{this.error(mt)})}next($e){this.forEachObserver(et=>{et.next($e)})}error($e){this.forEachObserver(et=>{et.error($e)}),this.close($e)}complete(){this.forEachObserver($e=>{$e.complete()}),this.close()}subscribe($e,et,mt){let ot;if(void 0===$e&&void 0===et&&void 0===mt)throw new Error("Missing Observer.");ot=function nt(Ze,$e){if("object"!=typeof Ze||null===Ze)return!1;for(const et of $e)if(et in Ze&&"function"==typeof Ze[et])return!0;return!1}($e,["next","error","complete"])?$e:{next:$e,error:et,complete:mt},void 0===ot.next&&(ot.next=It),void 0===ot.error&&(ot.error=It),void 0===ot.complete&&(ot.complete=It);const Wt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ot.error(this.finalError):ot.complete()}catch{}}),this.observers.push(ot),Wt}unsubscribeOne($e){void 0===this.observers||void 0===this.observers[$e]||(delete this.observers[$e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($e){if(!this.finalized)for(let et=0;et<this.observers.length;et++)this.sendOne(et,$e)}sendOne($e,et){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$e])try{et(this.observers[$e])}catch(mt){typeof console<"u"&&console.error&&console.error(mt)}})}close($e){this.finalized||(this.finalized=!0,void 0!==$e&&(this.finalError=$e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function It(){}function Pi(Ze,$e=1e3,et=2){const mt=$e*Math.pow(et,Ze),ot=Math.round(.5*mt*(Math.random()-.5)*2);return Math.min(144e5,mt+ot)}function Ur(Ze){return Ze&&Ze._delegate?Ze._delegate:Ze}},3410:(Jt,wt,He)=>{var o=He(4650);let it=null;function Te(){return it}const Fe=new o.OlP("DocumentToken");let ze=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ve(){return(0,o.LFG)(Ce)}()},providedIn:"platform"}),n})();const we=new o.OlP("Location Initialized");let Ce=(()=>{class n extends ze{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Te().getBaseHref(this._doc)}onPopState(e){const i=Te().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Te().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){oe()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){oe()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fe))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ae(){return new Ce((0,o.LFG)(Fe))}()},providedIn:"platform"}),n})();function oe(){return!!window.history.pushState}function Me(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function z(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function re(n){return n&&"?"!==n[0]?"?"+n:n}let Q=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(H)},providedIn:"root"}),n})();const ne=new o.OlP("appBaseHref");let H=(()=>{class n extends Q{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(Fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Me(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+re(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const a=this.prepareExternalUrl(r+re(s));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){const a=this.prepareExternalUrl(r+re(s));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ze),o.LFG(ne,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ee=(()=>{class n extends Q{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Me(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let a=this.prepareExternalUrl(r+re(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){let a=this.prepareExternalUrl(r+re(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ze),o.LFG(ne,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),G=(()=>{class n{constructor(e){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=z(te(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+re(i))}normalize(e){return n.stripTrailingSlash(function $(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,te(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+re(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+re(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=re,n.joinWithSlash=Me,n.stripTrailingSlash=z,n.\u0275fac=function(e){return new(e||n)(o.LFG(Q))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function V(){return new G((0,o.LFG)(Q))}()},providedIn:"root"}),n})();function te(n){return n.replace(/\/index.html$/,"")}let ni=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class wd{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fi=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new wd(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const u=i.get(s);i.move(u,a),Go(u,r)}});for(let r=0,s=i.length;r<s;r++){const u=i.get(r).context;u.index=r,u.count=s,u.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Go(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Go(n,t){n.context.$implicit=t.item}let li=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Af,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){lr("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){lr("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Af{constructor(){this.$implicit=null,this.ngIf=null}}function lr(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}class zr{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let $o=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),$a=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new zr(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36($o,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Xs=(()=>{class n{constructor(e,i,r){r._addDefault(new zr(e,i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36($o,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})();class kf{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class xd{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Rf=new xd,Mm=new kf;let Gc=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,o.QGY)(e))return Rf;if((0,o.F4k)(e))return Mm;throw function gi(n,t){return new o.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO,16))},n.\u0275pipe=o.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),rs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const qc="browser";function Zc(n){return"server"===n}let xo=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new Xc((0,o.LFG)(Fe),window)}),n})();class Xc{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Gr(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=gs(this.window.history)||gs(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function gs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Bd extends class Bm extends class be{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ve(n){it||(it=n)}(new Bd)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function lu(){return au=au||document.querySelector("base"),au?au.getAttribute("href"):null}();return null==e?null:function Vm(n){cu=cu||document.createElement("a"),cu.setAttribute("href",n);const t=cu.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){au=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Uc(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let cu,au=null;const Qa=new o.OlP("TRANSITION_ID"),Vd=[{provide:o.ip1,useFactory:function Zf(n,t,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const i=Te(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Qa,Fe,o.zs3],multi:!0}];let Hm=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Qs=new o.OlP("EventManagerPlugins");let Gl=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Qs),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Mo{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=Te().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let fa=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Js=(()=>{class n extends fa{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,r.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(uu),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(uu))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function uu(n){Te().remove(n)}const $l={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_s=/%COMP%/g;function ga(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?ga(n,r,e):(r=r.replace(_s,n),e.push(r))}return e}function du(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let el=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new tl(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new _a(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case o.ifc.ShadowDom:return new Um(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=ga(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Gl),o.LFG(Js),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class tl{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS($l[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Yl(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Yl(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=$l[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=$l[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,du(i)):this.eventManager.addEventListener(t,e,du(i))}}function Yl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class _a extends tl{constructor(t,e,i,r){super(t),this.component=i;const s=ga(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function ma(n){return"_ngcontent-%COMP%".replace(_s,n)}(r+"-"+i.id),this.hostAttr=function Wl(n){return"_nghost-%COMP%".replace(_s,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Um extends tl{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ga(r.id,r.styles,[]);for(let a=0;a<s.length;a++){const u=document.createElement("style");u.textContent=s[a],this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let hu=(()=>{class n extends Mo{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const to=["alt","control","meta","shift"],dy={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ci={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ud=(()=>{class n extends Mo{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Te().onAndCancel(e,s.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),to.forEach(p=>{const v=i.indexOf(p);v>-1&&(i.splice(v,1),a+=p+".")}),a+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=a,h}static matchEventFullKeyCode(e,i){let r=dy[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),to.forEach(a=>{a!==r&&(0,Ci[a])(e)&&(s+=a+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const pu=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:qc},{provide:o.g9A,useValue:function ya(){Bd.makeCurrent()},multi:!0},{provide:Fe,useFactory:function nl(){return(0,o.RDi)(document),document},deps:[]}]),Zl=new o.OlP(""),ci=[{provide:o.rWj,useClass:class zl{addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,a=!1;const u=function(h){a=a||h,s--,0==s&&i(a)};r.forEach(function(h){h.whenStable(u)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Te().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],zd=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function Dr(){return new o.qLn},deps:[]},{provide:Qs,useClass:hu,multi:!0,deps:[Fe,o.R0b,o.Lbi]},{provide:Qs,useClass:Ud,multi:!0,deps:[Fe]},{provide:el,useClass:el,deps:[Gl,Js,o.AFp]},{provide:o.FYo,useExisting:el},{provide:fa,useExisting:Js},{provide:Js,useClass:Js,deps:[Fe]},{provide:Gl,useClass:Gl,deps:[Qs,o.R0b]},{provide:class Qc{},useClass:Hm,deps:[]},[]];let mu=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:Qa,useExisting:o.AFp},Vd]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Zl,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[...zd,...ci],imports:[rs,o.hGG]}),n})(),Ym=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fe))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Wm(){return new Ym((0,o.LFG)(Fe))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let va=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):o.LFG(Ql),i},providedIn:"root"}),n})(),Ql=(()=>{class n extends va{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fe))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Yd(n){return new Ql(n.get(Fe))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();var Sr=He(2011),no=He(4986),cr=He(9751),Hn=He(8996),$r=He(3269);function Bt(...n){const t=(0,$r.yG)(n);return(0,Hn.D)(n,t)}var er=He(4976),rl=He(8189);function Io(...n){return function Cu(){return(0,rl.J)(1)}()((0,Hn.D)(n,(0,$r.yG)(n)))}var _i=He(4482);function Yn(...n){const t=(0,$r.yG)(n);return(0,_i.e)((e,i)=>{(t?Io(n,e,t):Io(n,e)).subscribe(i)})}var Si=He(5403);function Ei(){return(0,_i.e)((n,t)=>{let e,i=!1;n.subscribe((0,Si.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}var en=He(4004);function xu(n,t,e,i,r){return(s,a)=>{let u=e,h=t,p=0;s.subscribe((0,Si.x)(a,v=>{const w=p++;h=u?n(h,v,w):(u=!0,v),i&&a.next(h)},r&&(()=>{u&&a.next(h),a.complete()})))}}function sl(n,t){return(0,_i.e)(xu(n,t,arguments.length>=2,!0))}var Hs=He(4671);function ol(n,t=Hs.y){return n=n??qd,(0,_i.e)((e,i)=>{let r,s=!0;e.subscribe((0,Si.x)(i,a=>{const u=t(a);(s||!n(r,u))&&(s=!1,r=u,i.next(a))}))})}function qd(n,t){return n===t}function $n(n,t){return(0,_i.e)((e,i)=>{let r=0;e.subscribe((0,Si.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}He(2644);var qt,ba=He(3942),vt=He(5861),vs=He(6881),Jl=He(4859),Yo=He(1877),Nn=He(2090),Du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wr={},Zd=Zd||{},gn=Du||self;function qo(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function ec(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Su="closure_uid_"+(1e9*Math.random()>>>0),py=0;function tp(n,t,e){return n.call.apply(n.bind,arguments)}function Qm(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function ur(n,t,e){return(ur=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tp:Qm).apply(null,arguments)}function wa(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Mi(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return t.prototype[r].apply(i,a)}}function bs(){this.s=this.s,this.o=this.o}bs.prototype.s=!1,bs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ep(n){Object.prototype.hasOwnProperty.call(n,Su)&&n[Su]||(n[Su]=++py)}(this)},bs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nc=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function ic(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function al(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(qo(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let a=0;a<s;a++)n[r+a]=i[a]}else n.push(i)}}function dr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}dr.prototype.h=function(){this.defaultPrevented=!0};var Kd=function(){if(!gn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{gn.addEventListener("test",()=>{},t),gn.removeEventListener("test",()=>{},t)}catch{}return n}();function rc(n){return/^[\s\xa0]*$/.test(n)}function Ca(){var n=gn.navigator;return n&&(n=n.userAgent)?n:""}function Zo(n){return-1!=Ca().indexOf(n)}function np(n){return np[" "](n),n}np[" "]=function(){};var Mu,n,xa=Zo("Opera"),ll=Zo("Trident")||Zo("MSIE"),Jm=Zo("Edge"),Qd=Jm||ll,Da=Zo("Gecko")&&!(-1!=Ca().toLowerCase().indexOf("webkit")&&!Zo("Edge"))&&!(Zo("Trident")||Zo("MSIE"))&&!Zo("Edge"),Eu=-1!=Ca().toLowerCase().indexOf("webkit")&&!Zo("Edge");function ko(){var n=gn.document;return n?n.documentMode:void 0}e:{var Jd="",sc=(n=Ca(),Da?/rv:([^\);]+)(\)|;)/.exec(n):Jm?/Edge\/([\d\.]+)/.exec(n):ll?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Eu?/WebKit\/(\S+)/.exec(n):xa?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(sc&&(Jd=sc?sc[1]:""),ll){var Au=ko();if(null!=Au&&Au>parseFloat(Jd)){Mu=String(Au);break e}}Mu=Jd}var M=gn.document&&ll&&(ko()||parseInt(Mu,10))||void 0;function F(n,t){if(dr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Da){e:{try{np(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ce[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&F.$.h.call(this)}}Mi(F,dr);var ce={2:"touch",3:"pen",4:"mouse"};F.prototype.h=function(){F.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function tt(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++Ke,this.fa=this.ia=!1}function yt(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function zt(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function an(n){const t={};for(const e in n)t[e]=n[e];return t}const cn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xn(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<cn.length;s++)e=cn[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Er(n){this.src=n,this.g={},this.h=0}function Ai(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=nc(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(yt(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Ti(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}Er.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var a=Ti(n,t,i,r);return-1<a?(t=n[a],e||(t.ia=!1)):((t=new tt(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var Ro="closure_lm_"+(1e6*Math.random()|0),io={};function Cs(n,t,e,i,r){if(i&&i.once)return ip(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Cs(n,t[s],e,i,r);return null}return e=ku(e),n&&n[je]?n.O(t,e,ec(i)?!!i.capture:!!i,r):ro(n,t,e,!1,i,r)}function ro(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var a=ec(r)?!!r.capture:!!r,u=Tu(n);if(u||(n[Ro]=u=new Er(n)),(e=u.add(t,e,i,a,s)).proxy)return e;if(i=function eh(){const t=gy;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Kd||(r=a),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(th(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function ip(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ip(n,t[s],e,i,r);return null}return e=ku(e),n&&n[je]?n.P(t,e,ec(i)?!!i.capture:!!i,r):ro(n,t,e,!0,i,r)}function tg(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)tg(n,t[s],e,i,r);else i=ec(i)?!!i.capture:!!i,e=ku(e),n&&n[je]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Ti(s=n.g[t],e,i,r))&&(yt(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=Tu(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Ti(t,e,i,r)),(e=-1<n?t[n]:null)&&my(e))}function my(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[je])Ai(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(th(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Tu(t))?(Ai(e,n),0==e.h&&(e.src=null,t[Ro]=null)):yt(n)}}}function th(n){return n in io?io[n]:io[n]="on"+n}function gy(n,t){if(n.fa)n=!0;else{t=new F(t,this);var e=n.listener,i=n.la||n.src;n.ia&&my(n),n=e.call(i,t)}return n}function Tu(n){return(n=n[Ro])instanceof Er?n:null}var Iu="__closure_events_fn_"+(1e9*Math.random()>>>0);function ku(n){return"function"==typeof n?n:(n[Iu]||(n[Iu]=function(t){return n.handleEvent(t)}),n[Iu])}function Mr(){bs.call(this),this.i=new Er(this),this.S=this,this.J=null}function Ar(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new dr(t,n);else if(t instanceof dr)t.target=t.target||n;else{var r=t;xn(t=new dr(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var a=t.g=e[s];r=rp(a,i,!0,t)&&r}if(r=rp(a=t.g=n,i,!0,t)&&r,r=rp(a,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=rp(a=t.g=e[s],i,!1,t)&&r}function rp(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==e){var u=a.listener,h=a.la||a.src;a.ia&&Ai(n.i,a),r=!1!==u.call(h,i)&&r}}return r&&!i.defaultPrevented}Mi(Mr,bs),Mr.prototype[je]=!0,Mr.prototype.removeEventListener=function(n,t,e,i){tg(this,n,t,e,i)},Mr.prototype.N=function(){if(Mr.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)yt(e[i]);delete n.g[t],n.h--}}this.J=null},Mr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Mr.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var oc=gn.JSON.stringify;function _y(){var n=nh;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var ig=new class y0{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new cl,n=>n.reset());class cl{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function zD(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function Ru(n){gn.setTimeout(()=>{throw n},0)}let Sa,Ou=!1,nh=new class ng{constructor(){this.h=this.g=null}add(t,e){const i=ig.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},sp=()=>{const n=gn.Promise.resolve(void 0);Sa=()=>{n.then(v0)}};var v0=()=>{for(var n;n=_y();){try{n.h.call(n.g)}catch(e){Ru(e)}var t=ig;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Ou=!1};function Pu(n,t){Mr.call(this),this.h=n||1,this.g=t||gn,this.j=ur(this.qb,this),this.l=Date.now()}function rg(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function sg(n,t,e){if("function"==typeof n)e&&(n=ur(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ur(n.handleEvent,n)}return 2147483647<Number(t)?-1:gn.setTimeout(n,t||0)}function op(n){n.g=sg(()=>{n.g=null,n.i&&(n.i=!1,op(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Mi(Pu,Mr),(qt=Pu.prototype).ga=!1,qt.T=null,qt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ar(this,"tick"),this.ga&&(rg(this),this.start()))}},qt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qt.N=function(){Pu.$.N.call(this),rg(this),delete this.g};class b0 extends bs{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:op(this)}N(){super.N(),this.g&&(gn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fu(n){bs.call(this),this.h=n,this.g={}}Mi(Fu,bs);var ap=[];function og(n,t,e,i){Array.isArray(e)||(e&&(ap[0]=e.toString()),e=ap);for(var r=0;r<e.length;r++){var s=Cs(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function lp(n){zt(n.g,function(t,e){this.g.hasOwnProperty(e)&&my(t)},n),n.g={}}function ih(){this.g=!0}function ac(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function cp(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<r.length;a++)r[a]=""}}}return oc(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Fu.prototype.N=function(){Fu.$.N.call(this),lp(this)},Fu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ih.prototype.Ea=function(){this.g=!1},ih.prototype.info=function(){};var ul={},vy=null;function Lu(){return vy=vy||new Mr}function rh(n){dr.call(this,ul.Ta,n)}function sh(n){const t=Lu();Ar(t,new rh(t))}function lg(n,t){dr.call(this,ul.STAT_EVENT,n),this.stat=t}function Nr(n){const t=Lu();Ar(t,new lg(t,n))}function cg(n,t){dr.call(this,ul.Ua,n),this.size=t}function lc(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return gn.setTimeout(function(){n()},t)}ul.Ta="serverreachability",Mi(rh,dr),ul.STAT_EVENT="statevent",Mi(lg,dr),ul.Ua="timingevent",Mi(cg,dr);var oh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ah={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ko(){}function lh(){}Ko.prototype.h=null;var dg,cc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ch(){dr.call(this,"d")}function uc(){dr.call(this,"c")}function Nu(){}function dc(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Fu(this),this.P=hg,this.V=new Pu(n=Qd?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new up}function up(){this.i=null,this.g="",this.h=!1}Mi(ch,dr),Mi(uc,dr),Mi(Nu,Ko),Nu.prototype.g=function(){return new XMLHttpRequest},Nu.prototype.i=function(){return{}},dg=new Nu;var hg=45e3,uh={},Ma={};function dh(n,t,e){n.L=1,n.v=hh(Oo(t)),n.s=e,n.S=!0,hr(n,null)}function hr(n,t){n.G=Date.now(),hc(n),n.A=Oo(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),ye(e.i,"t",i),n.C=0,e=n.l.J,n.h=new up,n.g=O0(n.l,e?t:null,!n.s),0<n.O&&(n.M=new b0(ur(n.Pa,n,n.g),n.O)),og(n.U,n.g,"readystatechange",n.nb),t=n.I?an(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),sh(),function ag(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var a="",u=s.split("&"),h=0;h<u.length;h++){var p=u[h].split("=");if(1<p.length){var v=p[0];p=p[1];var w=v.split("_");a=2<=w.length&&"type"==w[1]?a+(v+"=")+p+"&":a+(v+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+a})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Bu(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function fg(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=GD(n,e),r==Ma){4==t&&(n.o=4,Nr(14),i=!1),ac(n.j,n.m,null,"[Incomplete Response]");break}if(r==uh){n.o=4,Nr(15),ac(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}ac(n.j,n.m,r,null),so(n,r)}Bu(n)&&r!=Ma&&r!=uh&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Nr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),k0(t),t.M=!0,Nr(11))):(ac(n.j,n.m,e,"[Invalid Chunked Response]"),Xo(n),fc(n))}function GD(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Ma:(e=Number(t.substring(e,i)),isNaN(e)?uh:(i+=1)+e>t.length?Ma:(t=t.slice(i,i+e),n.C=i+e,t))}function hc(n){n.Y=Date.now()+n.P,Vu(n,n.P)}function Vu(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=lc(ur(n.lb,n),t)}function dp(n){n.B&&(gn.clearTimeout(n.B),n.B=null)}function fc(n){0==n.l.H||n.J||Gu(n.l,n)}function Xo(n){dp(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,rg(n.V),lp(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function so(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||us(e.i,n)))if(!n.K&&us(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;_h(e),T0(e)}_p(e),Nr(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=lc(ur(e.ib,e),6e3));if(1>=xi(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else pc(e,11)}else if((n.K||e.g==n)&&_h(e),!rc(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let p=r[t];if(e.V=p[0],p=p[1],2==e.H)if("c"==p[0]){e.K=p[1],e.pa=p[2];const v=p[3];null!=v&&(e.ra=v,e.l.info("VER="+e.ra));const w=p[4];null!=w&&(e.Ga=w,e.l.info("SVER="+e.Ga));const O=p[5];null!=O&&"number"==typeof O&&0<O&&(e.L=i=1.5*O,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const Y=n.g;if(Y){const he=Y.g?Y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(he){var s=i.i;s.g||-1==he.indexOf("spdy")&&-1==he.indexOf("quic")&&-1==he.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ph(s,s.h),s.h=null))}if(i.F){const _e=Y.g?Y.g.getResponseHeader("X-HTTP-Session-Id"):null;_e&&(i.Da=_e,Kn(i.I,i.F,_e))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var a=n;if((i=e).wa=QD(i,i.J?i.pa:null,i.Y),a.K){Dy(i.i,a);var u=a,h=i.L;h&&u.setTimeout(h),u.B&&(dp(u),hc(u)),i.g=a}else Ay(i);0<e.j.length&&gp(e)}else"stop"!=p[0]&&"close"!=p[0]||pc(e,7);else 3==e.H&&("stop"==p[0]||"close"==p[0]?"stop"==p[0]?pc(e,7):vg(e):"noop"!=p[0]&&e.h&&e.h.Aa(p),e.A=0)}sh()}catch{}}function mg(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(qo(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function by(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(qo(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function pg(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(qo(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(qt=dc.prototype).setTimeout=function(n){this.P=n},qt.nb=function(n){n=n.target;const t=this.M;t&&3==Jo(n)?t.l():this.Pa(n)},qt.Pa=function(n){try{if(n==this.g)e:{const v=Jo(this.g);var t=this.g.Ia();if(this.g.da(),!(3>v)&&(3!=v||Qd||this.g&&(this.h.h||this.g.ja()||S0(this.g)))){this.J||4!=v||7==t||sh(),dp(this);var e=this.g.da();this.ca=e;t:if(Bu(this)){var i=S0(this.g);n="";var r=i.length,s=4==Jo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xo(this),fc(this);var a="";break t}this.h.i=new gn.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==e,function yy(n,t,e,i,r,s,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,v,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,h=this.g;if((u=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rc(u)){var p=u;break t}}p=null}if(!(e=p)){this.i=!1,this.o=3,Nr(12),Xo(this),fc(this);break e}ac(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,so(this,e)}this.S?(fg(this,v,a),Qd&&this.i&&3==v&&(og(this.U,this.V,"tick",this.mb),this.V.start())):(ac(this.j,this.m,a,null),so(this,a)),4==v&&Xo(this),this.i&&!this.J&&(4==v?Gu(this.l,this):(this.i=!1,hc(this)))}else(function YD(n){const t={};n=(n.g&&2<=Jo(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(rc(n[i]))continue;var e=zD(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function jt(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<a.indexOf("Unknown SID")?(this.o=3,Nr(12)):(this.o=0,Nr(13)),Xo(this),fc(this)}}}catch{}},qt.mb=function(){if(this.g){var n=Jo(this.g),t=this.g.ja();this.C<t.length&&(dp(this),fg(this,n,t),this.i&&4!=n&&hc(this))}},qt.cancel=function(){this.J=!0,Xo(this)},qt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Ea(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(sh(),Nr(17)),Xo(this),this.o=2,fc(this)):Vu(this,this.Y-n)};var dl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fr(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof fr){this.h=n.h,Hu(this,n.j),this.s=n.s,this.g=n.g,hp(this,n.m),this.l=n.l;var t=n.i,e=new g;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),Tr(this,e),this.o=n.o}else n&&(t=String(n).match(dl))?(this.h=!1,Hu(this,t[1]||"",!0),this.s=ju(t[2]||""),this.g=ju(t[3]||"",!0),hp(this,t[4]),this.l=ju(t[5]||"",!0),Tr(this,t[6]||"",!0),this.o=ju(t[7]||"")):(this.h=!1,this.i=new g(null,this.h))}function Oo(n){return new fr(n)}function Hu(n,t,e){n.j=e?ju(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function hp(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function Tr(n,t,e){t instanceof g?(n.i=t,function rt(n,t){t&&!n.j&&(_(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(x(this,i),ye(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=fh(t,C0)),n.i=new g(t,n.h))}function Kn(n,t,e){n.i.set(t,e)}function hh(n){return Kn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ju(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function fh(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,gg),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function gg(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}fr.prototype.toString=function(){var n=[],t=this.j;t&&n.push(fh(t,Cy,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(fh(t,Cy,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(fh(e,"/"==e.charAt(0)?xy:w0,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",fh(e,b)),n.join("")};var Cy=/[#\/\?@]/g,w0=/[#\?:]/g,xy=/[#\?]/g,C0=/[#\?@]/g,b=/#/g;function g(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function _(n){n.g||(n.g=new Map,n.h=0,n.i&&function wy(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function x(n,t){_(n),t=Ye(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function J(n,t){return _(n),t=Ye(n,t),n.g.has(t)}function ye(n,t,e){x(n,t),0<e.length&&(n.i=null,n.g.set(Ye(n,t),ic(e)),n.h+=e.length)}function Ye(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function Ht(n){this.l=n||tn,n=gn.PerformanceNavigationTiming?0<(n=gn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(gn.g&&gn.g.Ka&&gn.g.Ka()&&gn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(qt=g.prototype).add=function(n,t){_(this),this.i=null,n=Ye(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},qt.forEach=function(n,t){_(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},qt.ta=function(){_(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},qt.Z=function(n){_(this);let t=[];if("string"==typeof n)J(this,n)&&(t=t.concat(this.g.get(Ye(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},qt.set=function(n,t){return _(this),this.i=null,J(this,n=Ye(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},qt.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},qt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=s;""!==a[i]&&(r+="="+encodeURIComponent(String(a[i]))),n.push(r)}}return this.i=n.join("&")};var tn=10;function nn(n){return!!n.h||!!n.g&&n.g.size>=n.j}function xi(n){return n.h?1:n.g?n.g.size:0}function us(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function ph(n,t){n.g?n.g.add(t):n.h=t}function Dy(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function mh(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return ic(n.i)}function Ey(){this.g=new class{stringify(n){return gn.JSON.stringify(n,void 0)}parse(n){return gn.JSON.parse(n,void 0)}}}function _g(n,t,e){const i=e||"";try{mg(n,function(r,s){let a=r;ec(r)&&(a=oc(r)),t.push(i+s+"="+encodeURIComponent(a))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Uu(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Qo(n){this.l=n.fc||null,this.j=n.ob||!1}function zu(n,t){Mr.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=gh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ht.prototype.cancel=function(){if(this.i=mh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Mi(Qo,Ko),Qo.prototype.g=function(){return new zu(this.l,this.j)},Qo.prototype.i=function(n){return function(){return n}}({}),Mi(zu,Mr);var gh=0;function fp(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Ii(n){n.readyState=4,n.l=null,n.j=null,n.A=null,yg(n)}function yg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(qt=zu.prototype).open=function(n,t){if(this.readyState!=gh)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,yg(this)},qt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||gn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},qt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ii(this)),this.readyState=gh},qt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,yg(this)),this.g&&(this.readyState=3,yg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof gn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fp(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},qt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Ii(this):yg(this),3==this.readyState&&fp(this)}},qt.Za=function(n){this.g&&(this.response=this.responseText=n,Ii(this))},qt.Ya=function(n){this.g&&(this.response=n,Ii(this))},qt.ka=function(){this.g&&Ii(this)},qt.setRequestHeader=function(n,t){this.v.append(n,t)},qt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},qt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(zu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var LI=gn.JSON.parse;function Yi(n){Mr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=x0,this.L=this.M=!1}Mi(Yi,Mr);var x0="",NI=/^https?$/i,BI=["POST","PUT"];function $D(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,WD(n),D0(n)}function WD(n){n.F||(n.F=!0,Ar(n,"complete"),Ar(n,"error"))}function HI(n){if(n.h&&typeof Zd<"u"&&(!n.C[1]||4!=Jo(n)||2!=n.da()))if(n.v&&4==Jo(n))sg(n.La,0,n);else if(Ar(n,"readystatechange"),4==Jo(n)){n.h=!1;try{const a=n.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===a){var r=String(n.I).match(dl)[1]||null;!r&&gn.self&&gn.self.location&&(r=gn.self.location.protocol.slice(0,-1)),i=!NI.test(r?r.toLowerCase():"")}e=i}if(e)Ar(n,"complete"),Ar(n,"success");else{n.m=6;try{var s=2<Jo(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",WD(n)}}finally{D0(n)}}}function D0(n,t){if(n.g){pp(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Ar(n,"ready");try{e.onreadystatechange=i}catch{}}}function pp(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(gn.clearTimeout(n.A),n.A=null)}function Jo(n){return n.g?n.g.readyState:0}function S0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case x0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function E0(n){let t="";return zt(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function M0(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=E0(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Kn(n,t,e))}function mp(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function A0(n){this.Ga=0,this.j=[],this.l=new ih,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=mp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=mp("baseRetryDelayMs",5e3,n),this.hb=mp("retryDelaySeedMs",1e4,n),this.eb=mp("forwardChannelMaxRetries",2,n),this.xa=mp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Ht(n&&n.concurrentRequestLimit),this.Ja=new Ey,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function vg(n){if(qD(n),3==n.H){var t=n.W++,e=Oo(n.I);if(Kn(e,"SID",n.K),Kn(e,"RID",t),Kn(e,"TYPE","terminate"),Aa(n,e),(t=new dc(n,n.l,t)).L=2,t.v=hh(Oo(e)),e=!1,gn.navigator&&gn.navigator.sendBeacon)try{e=gn.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&gn.Image&&((new Image).src=t.v,e=!0),e||(t.g=O0(t.l,null),t.g.ha(t.v)),t.G=Date.now(),hc(t)}XD(n)}function T0(n){n.g&&(k0(n),n.g.cancel(),n.g=null)}function qD(n){T0(n),n.u&&(gn.clearTimeout(n.u),n.u=null),_h(n),n.i.cancel(),n.m&&("number"==typeof n.m&&gn.clearTimeout(n.m),n.m=null)}function gp(n){if(!nn(n.i)&&!n.m){n.m=!0;var t=n.Na;Sa||sp(),Ou||(Sa(),Ou=!0),nh.add(t,n),n.C=0}}function I0(n,t){var e;e=t?t.m:n.W++;const i=Oo(n.I);Kn(i,"SID",n.K),Kn(i,"RID",e),Kn(i,"AID",n.V),Aa(n,i),n.o&&n.s&&M0(i,n.o,n.s),e=new dc(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=KD(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),ph(n.i,e),dh(e,i,t)}function Aa(n,t){n.na&&zt(n.na,function(e,i){Kn(t,i,e)}),n.h&&mg({},function(e,i){Kn(t,i,e)})}function KD(n,t,e){e=Math.min(n.j.length,e);var i=n.h?ur(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const a=["count="+e];-1==s?0<e?(s=r[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let u=!0;for(let h=0;h<e;h++){let p=r[h].g;const v=r[h].map;if(p-=s,0>p)s=Math.max(0,r[h].g-100),u=!1;else try{_g(v,a,"req"+p+"_")}catch{i&&i(v)}}if(u){i=a.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function Ay(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Sa||sp(),Ou||(Sa(),Ou=!0),nh.add(t,n),n.A=0}}function _p(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=lc(ur(n.Ma,n),R0(n,n.A)),n.A++,0))}function k0(n){null!=n.B&&(gn.clearTimeout(n.B),n.B=null)}function Ty(n){n.g=new dc(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Oo(n.wa);Kn(t,"RID","rpc"),Kn(t,"SID",n.K),Kn(t,"AID",n.V),Kn(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&Kn(t,"TO",n.qa),Kn(t,"TYPE","xmlhttp"),Aa(n,t),n.o&&n.s&&M0(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=hh(Oo(t)),e.s=null,e.S=!0,hr(e,n)}function _h(n){null!=n.v&&(gn.clearTimeout(n.v),n.v=null)}function Gu(n,t){var e=null;if(n.g==t){_h(n),k0(n),n.g=null;var i=2}else{if(!us(n.i,t))return;e=t.F,Dy(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;Ar(i=Lu(),new cg(i,e)),gp(n)}else Ay(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function ZD(n,t){return!(xi(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=lc(ur(n.Na,n,t),R0(n,n.C)),n.C++,0)))}(n,t)||2==i&&_p(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:pc(n,5);break;case 4:pc(n,10);break;case 3:pc(n,6);break;default:pc(n,2)}}function R0(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function pc(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=ur(n.pb,n);e||(e=new fr("//www.google.com/images/cleardot.gif"),gn.location&&"http"==gn.location.protocol||Hu(e,"https"),hh(e)),function My(n,t){const e=new ih;if(gn.Image){const i=new Image;i.onload=wa(Uu,e,i,"TestLoadImage: loaded",!0,t),i.onerror=wa(Uu,e,i,"TestLoadImage: error",!1,t),i.onabort=wa(Uu,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=wa(Uu,e,i,"TestLoadImage: timeout",!1,t),gn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Nr(2);n.H=0,n.h&&n.h.za(t),XD(n),qD(n)}function XD(n){if(n.H=0,n.ma=[],n.h){const t=mh(n.i);(0!=t.length||0!=n.j.length)&&(al(n.ma,t),al(n.ma,n.j),n.i.i.length=0,ic(n.j),n.j.length=0),n.h.ya()}}function QD(n,t,e){var i=e instanceof fr?Oo(e):new fr(e);if(""!=i.g)t&&(i.g=t+"."+i.g),hp(i,i.m);else{var r=gn.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new fr(null);i&&Hu(s,i),t&&(s.g=t),r&&hp(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&Kn(i,e,t),Kn(i,"VER",n.ra),Aa(n,i),i}function O0(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Yi(e&&n.Ha&&!n.va?new Qo({ob:!0}):n.va)).Oa(n.J),t}function yh(){}function Iy(){if(ll&&!(10<=Number(M)))throw Error("Environmental error: no available transport.")}function Po(n,t){Mr.call(this),this.g=new A0(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!rc(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!rc(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new $u(this)}function JD(n){ch.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function eS(){uc.call(this),this.status=1}function $u(n){this.g=n}function ea(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function P0(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],a=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;a=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(a<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=e+((a=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((r=s+((a=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function pi(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(qt=Yi.prototype).Oa=function(n){this.M=n},qt.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():dg.g(),this.C=function ug(n){return n.h||(n.h=n.i())}(this.u?this.u:dg),this.g.onreadystatechange=ur(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void $D(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=gn.FormData&&n instanceof gn.FormData,!(0<=nc(BI,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of e)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{pp(this),0<this.B&&((this.L=function VI(n){return ll&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ur(this.ua,this)):this.A=sg(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){$D(this,s)}},qt.ua=function(){typeof Zd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ar(this,"timeout"),this.abort(8))},qt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ar(this,"complete"),Ar(this,"abort"),D0(this))},qt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),D0(this,!0)),Yi.$.N.call(this)},qt.La=function(){this.s||(this.G||this.v||this.l?HI(this):this.kb())},qt.kb=function(){HI(this)},qt.isActive=function(){return!!this.g},qt.da=function(){try{return 2<Jo(this)?this.g.status:-1}catch{return-1}},qt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},qt.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),LI(t)}},qt.Ia=function(){return this.m},qt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(qt=A0.prototype).ra=8,qt.H=1,qt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new dc(this,this.l,n);let s=this.s;if(this.U&&(s?(s=an(s),xn(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=KD(this,r,t),Kn(e=Oo(this.I),"RID",n),Kn(e,"CVER",22),this.F&&Kn(e,"X-HTTP-Session-Id",this.F),Aa(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(E0(s)))+"&"+t:this.o&&M0(e,this.o,s)),ph(this.i,r),this.bb&&Kn(e,"TYPE","init"),this.P?(Kn(e,"$req",t),Kn(e,"SID","null"),r.aa=!0,dh(r,e,null)):dh(r,e,t),this.H=2}}else 3==this.H&&(n?I0(this,n):0==this.j.length||nn(this.i)||I0(this))},qt.Ma=function(){if(this.u=null,Ty(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=lc(ur(this.jb,this),n)}},qt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Nr(10),T0(this),Ty(this))},qt.ib=function(){null!=this.v&&(this.v=null,T0(this),_p(this),Nr(19))},qt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Nr(2)):(this.l.info("Failed to ping google.com"),Nr(1))},qt.isActive=function(){return!!this.h&&this.h.isActive(this)},(qt=yh.prototype).Ba=function(){},qt.Aa=function(){},qt.za=function(){},qt.ya=function(){},qt.isActive=function(){return!0},qt.Va=function(){},Iy.prototype.g=function(n,t){return new Po(n,t)},Mi(Po,Mr),Po.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Nr(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=QD(n,null,n.Y),gp(n)},Po.prototype.close=function(){vg(this.g)},Po.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=oc(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&gp(t)},Po.prototype.N=function(){this.g.h=null,delete this.j,vg(this.g),delete this.g,Po.$.N.call(this)},Mi(JD,ch),Mi(eS,uc),Mi($u,yh),$u.prototype.Ba=function(){Ar(this.g,"a")},$u.prototype.Aa=function(n){Ar(this.g,new JD(n))},$u.prototype.za=function(n){Ar(this.g,new eS)},$u.prototype.ya=function(){Ar(this.g,"b")},Mi(ea,function jI(){this.blockSize=-1}),ea.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ea.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)P0(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){P0(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){P0(this,i),r=0;break}}this.h=r,this.i+=t},ea.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var zF={};function F0(n){return-128<=n&&128>n?function Xd(n,t){var e=zF;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new pi([0|t],0>t?-1:0)}):new pi([0|n],0>n?-1:0)}function oo(n){if(isNaN(n)||!isFinite(n))return hl;if(0>n)return ds(oo(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=Wu;return new pi(t,0)}var Wu=4294967296,hl=F0(0),L0=F0(1),UI=F0(16777216);function fl(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function ta(n){return-1==n.h}function ds(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new pi(e,~n.h).add(L0)}function ky(n,t){return n.add(ds(t))}function bg(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function yp(n,t){this.g=n,this.h=t}function vp(n,t){if(fl(t))throw Error("division by zero");if(fl(n))return new yp(hl,hl);if(ta(n))return t=vp(ds(n),t),new yp(ds(t.g),ds(t.h));if(ta(t))return t=vp(n,ds(t)),new yp(ds(t.g),t.h);if(30<n.g.length){if(ta(n)||ta(t))throw Error("slowDivide_ only works with positive integers.");for(var e=L0,i=t;0>=i.X(n);)e=Ry(e),i=Ry(i);var r=bp(e,1),s=bp(i,1);for(i=bp(i,2),e=bp(e,2);!fl(i);){var a=s.add(i);0>=a.X(n)&&(r=r.add(e),s=a),i=bp(i,1),e=bp(e,1)}return t=ky(n,r.R(t)),new yp(r,t)}for(r=hl;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),a=(s=oo(e)).R(t);ta(a)||0<a.X(n);)a=(s=oo(e-=i)).R(t);fl(s)&&(s=L0),r=r.add(s),n=ky(n,a)}return new yp(r,n)}function Ry(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new pi(e,n.h)}function bp(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new pi(r,n.h)}(qt=pi.prototype).ea=function(){if(ta(this))return-ds(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:Wu+i)*t,t*=Wu}return n},qt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(fl(this))return"0";if(ta(this))return"-"+ds(this).toString(n);for(var t=oo(Math.pow(n,6)),e=this,i="";;){var r=vp(e,t).g,s=((0<(e=ky(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(fl(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},qt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},qt.X=function(n){return ta(n=ky(this,n))?-1:fl(n)?0:1},qt.abs=function(){return ta(this)?ds(this):this},qt.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),a=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=a>>>16,e[r]=(a&=65535)<<16|(s&=65535)}return new pi(e,-2147483648&e[e.length-1]?-1:0)},qt.R=function(n){if(fl(this)||fl(n))return hl;if(ta(this))return ta(n)?ds(this).R(ds(n)):ds(ds(this).R(n));if(ta(n))return ds(this.R(ds(n)));if(0>this.X(UI)&&0>n.X(UI))return oo(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,a=65535&this.D(i),u=n.D(r)>>>16,h=65535&n.D(r);e[2*i+2*r]+=a*h,bg(e,2*i+2*r),e[2*i+2*r+1]+=s*h,bg(e,2*i+2*r+1),e[2*i+2*r+1]+=a*u,bg(e,2*i+2*r+1),e[2*i+2*r+2]+=s*u,bg(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new pi(e,0)},qt.gb=function(n){return vp(this,n).h},qt.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new pi(e,this.h&n.h)},qt.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new pi(e,this.h|n.h)},qt.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new pi(e,this.h^n.h)},Iy.prototype.createWebChannel=Iy.prototype.g,Po.prototype.send=Po.prototype.u,Po.prototype.open=Po.prototype.m,Po.prototype.close=Po.prototype.close,oh.NO_ERROR=0,oh.TIMEOUT=8,oh.HTTP_ERROR=6,ah.COMPLETE="complete",lh.EventType=cc,cc.OPEN="a",cc.CLOSE="b",cc.ERROR="c",cc.MESSAGE="d",Mr.prototype.listen=Mr.prototype.O,Yi.prototype.listenOnce=Yi.prototype.P,Yi.prototype.getLastError=Yi.prototype.Sa,Yi.prototype.getLastErrorCode=Yi.prototype.Ia,Yi.prototype.getStatus=Yi.prototype.da,Yi.prototype.getResponseJson=Yi.prototype.Wa,Yi.prototype.getResponseText=Yi.prototype.ja,Yi.prototype.send=Yi.prototype.ha,Yi.prototype.setWithCredentials=Yi.prototype.Oa,ea.prototype.digest=ea.prototype.l,ea.prototype.reset=ea.prototype.reset,ea.prototype.update=ea.prototype.j,pi.prototype.add=pi.prototype.add,pi.prototype.multiply=pi.prototype.R,pi.prototype.modulo=pi.prototype.gb,pi.prototype.compare=pi.prototype.X,pi.prototype.toNumber=pi.prototype.ea,pi.prototype.toString=pi.prototype.toString,pi.prototype.getBits=pi.prototype.D,pi.fromNumber=oo,pi.fromString=function tS(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return ds(tS(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=oo(Math.pow(t,8)),i=hl,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),a=parseInt(n.substring(r,r+s),t);8>s?(s=oo(Math.pow(t,s)),i=i.R(s).add(oo(a))):i=(i=i.R(e)).add(oo(a))}return i};var N0=Wr.createWebChannelTransport=function(){return new Iy},wg=Wr.getStatEventTarget=function(){return Lu()},B0=Wr.ErrorCode=oh,zI=Wr.EventType=ah,GI=Wr.Event=ul,nS=Wr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$I=Wr.FetchXmlHttpFactory=Qo,Oy=Wr.WebChannel=lh,WI=Wr.XhrIo=Yi,wp=Wr.Md5=ea,ao=Wr.Integer=pi;const iS="@firebase/firestore";class Yr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Yr.UNAUTHENTICATED=new Yr(null),Yr.GOOGLE_CREDENTIALS=new Yr("google-credentials-uid"),Yr.FIRST_PARTY=new Yr("first-party-uid"),Yr.MOCK_USER=new Yr("mock-user");let Cg="9.23.0";const vh=new Yo.Yd("@firebase/firestore");function Py(){return vh.logLevel}function Pt(n,...t){if(vh.logLevel<=Yo.in.DEBUG){const e=t.map(V0);vh.debug(`Firestore (${Cg}): ${n}`,...e)}}function Ir(n,...t){if(vh.logLevel<=Yo.in.ERROR){const e=t.map(V0);vh.error(`Firestore (${Cg}): ${n}`,...e)}}function Fo(n,...t){if(vh.logLevel<=Yo.in.WARN){const e=t.map(V0);vh.warn(`Firestore (${Cg}): ${n}`,...e)}}function V0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function rn(n="Unexpected state"){const t=`FIRESTORE (${Cg}) INTERNAL ASSERTION FAILED: `+n;throw Ir(t),new Error(t)}function hn(n,t){n||rn()}function Ut(n,t){return n}const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends Nn.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Br{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class rS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Yr.UNAUTHENTICATED))}shutdown(){}}class ZI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class sS{constructor(t){this.t=t,this.currentUser=Yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let a=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Br,t.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const p=a;t.enqueueRetryable((0,vt.Z)(function*(){yield p.promise,yield s(i.currentUser)}))},h=p=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Br)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(hn("string"==typeof i.accessToken),new rS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return hn(null===t||"string"==typeof t),new Yr(t)}}class KI{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=Yr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class XI{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new KI(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rn{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=s=>{null!=s.error&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.T;return this.T=s.token,Pt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(hn("string"==typeof e.token),this.T=e.token,new oS(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function aS(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class H0{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=aS(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function In(n,t){return n<t?-1:n>t?1:0}function Cp(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function j0(n){return n+"\0"}class qi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new St(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new St(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new St(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new St(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return qi.fromMillis(Date.now())}static fromDate(t){return qi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new qi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?In(this.nanoseconds,t.nanoseconds):In(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class fn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new fn(t)}static min(){return new fn(new qi(0,0))}static max(){return new fn(new qi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class xg{constructor(t,e,i){void 0===e?e=0:e>t.length&&rn(),void 0===i?i=t.length-e:i>t.length-e&&rn(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===xg.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof xg?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),a=e.get(r);if(s<a)return-1;if(s>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ri extends xg{construct(t,e,i){return new ri(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new St(gt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new ri(e)}static emptyPath(){return new ri([])}}const $F=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends xg{construct(t,e,i){return new tr(t,e,i)}static isValidIdentifier(t){return $F.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new St(gt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let a=!1;for(;r<t.length;){const u=t[r];if("\\"===u){if(r+1===t.length)throw new St(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[r+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new St(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,r+=2}else"`"===u?(a=!a,r++):"."!==u||a?(i+=u,r++):(s(),r++)}if(s(),a)throw new St(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tr(e)}static emptyPath(){return new tr([])}}class Zt{constructor(t){this.path=t}static fromPath(t){return new Zt(ri.fromString(t))}static fromName(t){return new Zt(ri.fromString(t).popFirst(5))}static empty(){return new Zt(ri.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ri.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ri.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Zt(new ri(t.slice()))}}class pl{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function U0(n){return n.fields.find(t=>2===t.kind)}function mc(n){return n.fields.filter(t=>2!==t.kind)}pl.UNKNOWN_ID=-1;class Fy{constructor(t,e){this.fieldPath=t,this.kind=e}}class Ly{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Ly(0,lo.min())}}function JI(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=fn.fromTimestamp(1e9===i?new qi(e+1,0):new qi(e,i));return new lo(r,Zt.empty(),t)}function lS(n){return new lo(n.readTime,n.key,-1)}class lo{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new lo(fn.min(),Zt.empty(),-1)}static max(){return new lo(fn.max(),Zt.empty(),-1)}}function cS(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Zt.comparator(n.documentKey,t.documentKey),0!==e?e:In(n.largestBatchId,t.largestBatchId))}const uS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Yu(n){return Ny.apply(this,arguments)}function Ny(){return Ny=(0,vt.Z)(function*(n){if(n.code!==gt.FAILED_PRECONDITION||n.message!==uS)throw n;Pt("LocalStore","Unexpectedly lost primary lease")}),Ny.apply(this,arguments)}class ut{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&rn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ut((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ut?e:ut.resolve(e)}catch(e){return ut.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ut.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ut.reject(e)}static resolve(t){return new ut((e,i)=>{e(t)})}static reject(t){return new ut((e,i)=>{i(t)})}static waitFor(t){return new ut((e,i)=>{let r=0,s=0,a=!1;t.forEach(u=>{++r,u.next(()=>{++s,a&&s===r&&e()},h=>i(h))}),a=!0,s===r&&e()})}static or(t){let e=ut.resolve(!1);for(const i of t)e=e.next(r=>r?ut.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new ut((i,r)=>{const s=t.length,a=new Array(s);let u=0;for(let h=0;h<s;h++){const p=h;e(t[p]).next(v=>{a[p]=v,++u,u===s&&i(a)},v=>r(v))}})}static doWhile(t,e){return new ut((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class By{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new Br,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new Dg(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=$0(i.target.error);this.v.reject(new Dg(t,r))}}static open(t,e,i,r){try{return new By(e,t.transaction(r,i))}catch(s){throw new Dg(e,s)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(Pt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new tk(e)}}class na{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===na.S((0,Nn.z$)())&&Ir("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Pt("SimpleDb","Removing database:",t),wh(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,Nn.hl)())return!1;if(na.C())return!0;const t=(0,Nn.z$)(),e=na.S(t),i=0<e&&e<10,r=na.N(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,vt.Z)(function*(){return e.db||(Pt("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=a=>{i(a.target.result)},s.onblocked=()=>{r(new Dg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=a=>{const u=a.target.error;r("VersionError"===u.name?new St(gt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===u.name?new St(gt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u):new Dg(t,u))},s.onupgradeneeded=a=>{Pt("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',a.oldVersion),e.V.O(a.target.result,s.transaction,a.oldVersion,e.version).next(()=>{Pt("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,vt.Z)(function*(){const a="readonly"===e;let u=0;for(;;){++u;try{s.db=yield s.$(t);const h=By.open(s.db,t,a?"readonly":"readwrite",i),p=r(h).next(v=>(h.P(),v)).catch(v=>(h.abort(v),ut.reject(v))).toPromise();return p.catch(()=>{}),yield h.R,p}catch(h){const p=h,v="FirebaseError"!==p.name&&u<3;if(Pt("SimpleDb","Transaction failed with error:",p.message,"Retrying:",v),s.close(),!v)return Promise.reject(p)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ek{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return wh(this.L.delete())}}class Dg extends St{constructor(t,e){super(gt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function qu(n){return"IndexedDbTransactionError"===n.name}class tk{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Pt("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Pt("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),wh(i)}add(t){return Pt("SimpleDb","ADD",this.store.name,t,t),wh(this.store.add(t))}get(t){return wh(this.store.get(t)).next(e=>(void 0===e&&(e=null),Pt("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Pt("SimpleDb","DELETE",this.store.name,t),wh(this.store.delete(t))}count(){return Pt("SimpleDb","COUNT",this.store.name),wh(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(a,u)=>{s.push(u)}).next(()=>s)}{const r=this.store.getAll(i.range);return new ut((s,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{s(u.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ut((r,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}J(t,e){Pt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,a,u)=>u.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new ut((i,r)=>{e.onerror=s=>{const a=$0(s.target.error);r(a)},e.onsuccess=s=>{const a=s.target.result;a?t(a.primaryKey,a.value).next(u=>{u?a.continue():i()}):i()}})}W(t,e){const i=[];return new ut((r,s)=>{t.onerror=a=>{s(a.target.error)},t.onsuccess=a=>{const u=a.target.result;if(!u)return void r();const h=new ek(u),p=e(u.primaryKey,u.value,h);if(p instanceof ut){const v=p.catch(w=>(h.done(),ut.reject(w)));i.push(v)}h.isDone?r():null===h.K?u.continue():u.continue(h.K)}}).next(()=>ut.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function wh(n){return new ut((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=$0(i.target.error);e(r)}})}let G0=!1;function $0(n){const t=na.S((0,Nn.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new St("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return G0||(G0=!0,setTimeout(()=>{throw i},0)),i}}return n}class dS{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;Pt("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,vt.Z)(function*(){e.task=null;try{Pt("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){qu(i)?Pt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Yu(i)}yield e.et(6e4)}))}}class hS{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,vt.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,s=!0;return ut.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(a=>{if(null!==a&&!i.has(a))return Pt("IndexBackiller",`Processing collection: ${a}`),this.it(t,a,r).next(u=>{r-=u,i.add(a)});s=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(t,a).next(()=>this.rt(r,s)).next(u=>(Pt("IndexBackiller",`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(t,e,u))).next(()=>a.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,s)=>{const a=lS(s);cS(a,i)>0&&(i=a)}),new lo(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let js=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function Vy(n){return null==n}function Ch(n){return 0===n&&1/n==-1/0}function fS(n){return"number"==typeof n&&Number.isInteger(n)&&!Ch(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Us(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=W0(t)),t=xp(n.get(e),t);return W0(t)}function xp(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function W0(n){return n+"\x01\x01"}function Ta(n){const t=n.length;if(hn(t>=2),2===t)return hn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ri.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const a=n.indexOf("\x01",s);switch((a<0||a>e)&&rn(),n.charAt(a+1)){case"\x01":const u=n.substring(s,a);let h;0===r.length?h=u:(r+=u,h=r,r=""),i.push(h);break;case"\x10":r+=n.substring(s,a),r+="\0";break;case"\x11":r+=n.substring(s,a+1);break;default:rn()}s=a+2}return new ri(i)}const Sg=["userId","batchId"];function co(n,t){return[n,Us(t)]}function Y0(n,t,e){return[n,Us(t),e]}const nk={},q0=["prefixPath","collectionGroup","readTime","documentId"],gc=["prefixPath","collectionGroup","documentId"],Z0=["collectionGroup","readTime","prefixPath","documentId"],pS=["canonicalId","targetId"],K0=["targetId","path"],YF=["path","targetId"],mS=["collectionId","parent"],qF=["indexId","uid"],Hy=["uid","sequenceNumber"],jy=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],X0=["indexId","uid","orderedDocumentKey"],Q0=["userId","collectionPath","documentId"],J0=["userId","collectionPath","largestBatchId"],ZF=["userId","collectionGroup","largestBatchId"],gS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ik=[...gS,"documentOverlays"],_S=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yS=_S,vS=[...yS,"indexConfiguration","indexState","indexEntries"];class bS extends bh{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function qr(n,t){const e=Ut(n);return na.M(e.ht,t)}function rk(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function _c(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function ew(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Bi{constructor(t,e){this.comparator=t,this.root=e||xs.EMPTY}insert(t,e){return new Bi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,xs.BLACK,null,null))}remove(t){return new Bi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xs.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dp(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dp(this.root,t,this.comparator,!0)}}class Dp{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class xs{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??xs.RED,this.left=r??xs.EMPTY,this.right=s??xs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new xs(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return xs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return xs.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,xs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,xs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rn();const t=this.left.check();if(t!==this.right.check())throw rn();return t+(this.isRed()?0:1)}}xs.EMPTY=null,xs.RED=!0,xs.BLACK=!1,xs.EMPTY=new class{constructor(){this.size=0}get key(){throw rn()}get value(){throw rn()}get color(){throw rn()}get left(){throw rn()}get right(){throw rn()}copy(n,t,e,i,r){return this}insert(n,t,e){return new xs(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zi{constructor(t){this.comparator=t,this.data=new Bi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new sk(this.data.getIterator())}getIteratorFrom(t){return new sk(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Zi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Zi(this.comparator);return e.data=t,e}}class sk{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Eg(n){return n.hasNext()?n.getNext():void 0}class Lo{constructor(t){this.fields=t,t.sort(tr.comparator)}static empty(){return new Lo([])}unionWith(t){let e=new Zi(tr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Lo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Cp(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class ok extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new ok("Invalid base64 string: "+r):r}}(t);return new Zr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Zr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return In(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Zr.EMPTY_BYTE_STRING=new Zr("");const XF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xh(n){if(hn(!!n),"string"==typeof n){let t=0;const e=XF.exec(n);if(hn(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:yi(n.seconds),nanos:yi(n.nanos)}}function yi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ia(n){return"string"==typeof n?Zr.fromBase64String(n):Zr.fromUint8Array(n)}function Uy(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Mg(n){const t=n.mapValue.fields.__previous_value__;return Uy(t)?Mg(t):t}function Dh(n){const t=xh(n.mapValue.fields.__local_write_time__.timestampValue);return new qi(t.seconds,t.nanos)}class wS{constructor(t,e,i,r,s,a,u,h,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p}}class ml{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new ml("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof ml&&t.projectId===this.projectId&&t.database===this.database}}const Zu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ka={nullValue:"NULL_VALUE"};function yc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Uy(n)?4:zy(n)?9007199254740991:10:rn()}function gl(n,t){if(n===t)return!0;const e=yc(n);if(e!==yc(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Dh(n).isEqual(Dh(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=xh(i.timestampValue),a=xh(r.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Ia(n.bytesValue).isEqual(Ia(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return yi(i.geoPointValue.latitude)===yi(r.geoPointValue.latitude)&&yi(i.geoPointValue.longitude)===yi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return yi(i.integerValue)===yi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=yi(i.doubleValue),a=yi(r.doubleValue);return s===a?Ch(s)===Ch(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return Cp(n.arrayValue.values||[],t.arrayValue.values||[],gl);case 10:return function(i,r){const s=i.mapValue.fields||{},a=r.mapValue.fields||{};if(rk(s)!==rk(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!gl(s[u],a[u])))return!1;return!0}(n,t);default:return rn()}var r}function Ag(n,t){return void 0!==(n.values||[]).find(e=>gl(e,t))}function vc(n,t){if(n===t)return 0;const e=yc(n),i=yc(t);if(e!==i)return In(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return In(n.booleanValue,t.booleanValue);case 2:return function(r,s){const a=yi(r.integerValue||r.doubleValue),u=yi(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,t);case 3:return CS(n.timestampValue,t.timestampValue);case 4:return CS(Dh(n),Dh(t));case 5:return In(n.stringValue,t.stringValue);case 6:return function(r,s){const a=Ia(r),u=Ia(s);return a.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const a=r.split("/"),u=s.split("/");for(let h=0;h<a.length&&h<u.length;h++){const p=In(a[h],u[h]);if(0!==p)return p}return In(a.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const a=In(yi(r.latitude),yi(s.latitude));return 0!==a?a:In(yi(r.longitude),yi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const a=r.values||[],u=s.values||[];for(let h=0;h<a.length&&h<u.length;++h){const p=vc(a[h],u[h]);if(p)return p}return In(a.length,u.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===Zu.mapValue&&s===Zu.mapValue)return 0;if(r===Zu.mapValue)return 1;if(s===Zu.mapValue)return-1;const a=r.fields||{},u=Object.keys(a),h=s.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let v=0;v<u.length&&v<p.length;++v){const w=In(u[v],p[v]);if(0!==w)return w;const O=vc(a[u[v]],h[p[v]]);if(0!==O)return O}return In(u.length,p.length)}(n.mapValue,t.mapValue);default:throw rn()}}function CS(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return In(n,t);const e=xh(n),i=xh(t),r=In(e.seconds,i.seconds);return 0!==r?r:In(e.nanos,i.nanos)}function Sp(n){return Ep(n)}function Ep(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=xh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ia(n.bytesValue).toBase64():"referenceValue"in n?Zt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const a of i.values||[])s?s=!1:r+=",",r+=Ep(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Ep(i.fields[u])}`;return s+"}"}(n.mapValue):rn();var t}function wc(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Ku(n){return!!n&&"integerValue"in n}function Sh(n){return!!n&&"arrayValue"in n}function Tg(n){return!!n&&"nullValue"in n}function tw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ig(n){return!!n&&"mapValue"in n}function Eh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return _c(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Eh(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Eh(n.arrayValue.values[e]);return t}return Object.assign({},n)}function zy(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function xS(n){return"nullValue"in n?ka:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?wc(ml.empty(),Zt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:rn()}function nw(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?wc(ml.empty(),Zt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Zu:rn()}function DS(n,t){const e=vc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function ak(n,t){const e=vc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class hs{constructor(t){this.value=t}static empty(){return new hs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Ig(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Eh(e)}setAll(t){let e=tr.emptyPath(),i={},r=[];t.forEach((a,u)=>{if(!e.isImmediateParentOf(u)){const h=this.getFieldsMap(e);this.applyChanges(h,i,r),i={},r=[],e=u.popLast()}a?i[u.lastSegment()]=Eh(a):r.push(u.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());Ig(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return gl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Ig(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){_c(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new hs(Eh(this.value))}}function iw(n){const t=[];return _c(n.fields,(e,i)=>{const r=new tr([e]);if(Ig(i)){const s=iw(i.mapValue).fields;if(0===s.length)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new Lo(t)}class Ui{constructor(t,e,i,r,s,a,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(t){return new Ui(t,0,fn.min(),fn.min(),fn.min(),hs.empty(),0)}static newFoundDocument(t,e,i,r){return new Ui(t,1,e,fn.min(),i,r,0)}static newNoDocument(t,e){return new Ui(t,2,e,fn.min(),fn.min(),hs.empty(),0)}static newUnknownDocument(t,e){return new Ui(t,3,e,fn.min(),fn.min(),hs.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(fn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ui&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ui(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cc{constructor(t,e){this.position=t,this.inclusive=e}}function rw(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],a=n.position[r];if(i=s.field.isKeyField()?Zt.comparator(Zt.fromName(a.referenceValue),e.key):vc(a,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function SS(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!gl(n.position[e],t.position[e]))return!1;return!0}class Kr{constructor(t,e="asc"){this.field=t,this.dir=e}}function ES(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class MS{}class ei extends MS{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new lk(t,e,i):"array-contains"===e?new uk(t,i):"in"===e?new Ra(t,i):"not-in"===e?new uw(t,i):"array-contains-any"===e?new dk(t,i):new ei(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new ck(t,i):new IS(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(vc(e,this.value)):null!==e&&yc(this.value)===yc(e)&&this.matchesComparison(vc(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return rn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vi extends MS{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new vi(t,e)}matches(t){return Xu(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function Xu(n){return"and"===n.op}function Gy(n){return"or"===n.op}function sw(n){return AS(n)&&Xu(n)}function AS(n){for(const t of n.filters)if(t instanceof vi)return!1;return!0}function ow(n){if(n instanceof ei)return n.field.canonicalString()+n.op.toString()+Sp(n.value);if(sw(n))return n.filters.map(t=>ow(t)).join(",");{const t=n.filters.map(e=>ow(e)).join(",");return`${n.op}(${t})`}}function aw(n,t){return n instanceof ei?(e=n,(i=t)instanceof ei&&e.op===i.op&&e.field.isEqual(i.field)&&gl(e.value,i.value)):n instanceof vi?function(e,i){return i instanceof vi&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,s,a)=>r&&aw(s,i.filters[a]),!0)}(n,t):void rn();var e,i}function TS(n,t){const e=n.filters.concat(t);return vi.create(e,n.op)}function lw(n){return n instanceof ei?`${(t=n).field.canonicalString()} ${t.op} ${Sp(t.value)}`:n instanceof vi?function(t){return t.op.toString()+" {"+t.getFilters().map(lw).join(" ,")+"}"}(n):"Filter";var t}class lk extends ei{constructor(t,e,i){super(t,e,i),this.key=Zt.fromName(i.referenceValue)}matches(t){const e=Zt.comparator(t.key,this.key);return this.matchesComparison(e)}}class ck extends ei{constructor(t,e){super(t,"in",e),this.keys=cw(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class IS extends ei{constructor(t,e){super(t,"not-in",e),this.keys=cw(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function cw(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Zt.fromName(i.referenceValue))}class uk extends ei{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Sh(e)&&Ag(e.arrayValue,this.value)}}class Ra extends ei{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Ag(this.value.arrayValue,e)}}class uw extends ei{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ag(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Ag(this.value.arrayValue,e)}}class dk extends ei{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Sh(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Ag(this.value.arrayValue,i))}}class hk{constructor(t,e=null,i=[],r=[],s=null,a=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=u,this.dt=null}}function kS(n,t=null,e=[],i=[],r=null,s=null,a=null){return new hk(n,t,e,i,r,s,a)}function Qu(n){const t=Ut(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>ow(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Vy(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Sp(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Sp(i)).join(",")),t.dt=e}return t.dt}function kg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!ES(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!aw(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!SS(n.startAt,t.startAt)&&SS(n.endAt,t.endAt)}function $y(n){return Zt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Wy(n,t){return n.filters.filter(e=>e instanceof ei&&e.field.isEqual(t))}function Yy(n,t,e){let i=ka,r=!0;for(const s of Wy(n,t)){let a=ka,u=!0;switch(s.op){case"<":case"<=":a=xS(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,u=!1;break;case"!=":case"not-in":a=ka}DS({value:i,inclusive:r},{value:a,inclusive:u})<0&&(i=a,r=u)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const a=e.position[s];DS({value:i,inclusive:r},{value:a,inclusive:e.inclusive})<0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}function RS(n,t,e){let i=Zu,r=!0;for(const s of Wy(n,t)){let a=Zu,u=!0;switch(s.op){case">=":case">":a=nw(s.value),u=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,u=!1;break;case"!=":case"not-in":a=Zu}ak({value:i,inclusive:r},{value:a,inclusive:u})>0&&(i=a,r=u)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const a=e.position[s];ak({value:i,inclusive:r},{value:a,inclusive:e.inclusive})>0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}class xc{constructor(t,e=null,i=[],r=[],s=null,a="F",u=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=h,this.wt=null,this._t=null}}function Rg(n,t,e,i,r,s,a,u){return new xc(n,t,e,i,r,s,a,u)}function Ju(n){return new xc(n)}function Og(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function OS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Mp(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function PS(n){return null!==n.collectionGroup}function ed(n){const t=Ut(n);if(null===t.wt){t.wt=[];const e=Mp(t),i=OS(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new Kr(e)),t.wt.push(new Kr(tr.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Kr(tr.keyField(),s))}}}return t.wt}function Ds(n){const t=Ut(n);if(!t._t)if("F"===t.limitType)t._t=kS(t.path,t.collectionGroup,ed(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of ed(t))e.push(new Kr(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new Cc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cc(t.startAt.position,t.startAt.inclusive):null;t._t=kS(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function qy(n,t){t.getFirstInequalityField(),Mp(n);const e=n.filters.concat([t]);return new xc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Pg(n,t,e){return new xc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Mh(n,t){return kg(Ds(n),Ds(t))&&n.limitType===t.limitType}function _l(n){return`${Qu(Ds(n))}|lt:${n.limitType}`}function Ap(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>lw(i)).join(", ")}]`),Vy(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Sp(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Sp(i)).join(",")),`Target(${e})`}(Ds(n))}; limitType=${n.limitType})`}function td(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Zt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of ed(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,a){const u=rw(r,s,a);return r.inclusive?u<=0:u<0}(e.startAt,ed(e),i)||e.endAt&&!function(r,s,a){const u=rw(r,s,a);return r.inclusive?u>=0:u>0}(e.endAt,ed(e),i)));var e,i}function Tp(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function FS(n){return(t,e)=>{let i=!1;for(const r of ed(n)){const s=dw(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function dw(n,t,e){const i=n.field.isKeyField()?Zt.comparator(t.key,e.key):function(r,s,a){const u=s.data.field(r),h=a.data.field(r);return null!==u&&null!==h?vc(u,h):rn()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return rn()}}class yl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){_c(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return ew(this.inner)}size(){return this.innerSize}}const fk=new Bi(Zt.comparator);function uo(){return fk}const Ip=new Bi(Zt.comparator);function Fg(...n){let t=Ip;for(const e of n)t=t.insert(e.key,e);return t}function pk(n){let t=Ip;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function vl(){return Lg()}function mk(){return Lg()}function Lg(){return new yl(n=>n.toString(),(n,t)=>n.isEqual(t))}const gk=new Bi(Zt.comparator),_k=new Zi(Zt.comparator);function Ln(...n){let t=_k;for(const e of n)t=t.add(e);return t}const hw=new Zi(In);function fw(){return hw}function Zy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(t)?"-0":t}}function LS(n){return{integerValue:""+n}}function NS(n,t){return fS(t)?LS(t):Zy(n,t)}class Ky{constructor(){this._=void 0}}function yk(n,t,e){return n instanceof Dc?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Uy(r)&&(r=Mg(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof No?bk(n,t):n instanceof Oa?VS(n,t):function(i,r){const s=BS(i,r),a=Xy(s)+Xy(i.gt);return Ku(s)&&Ku(i.gt)?LS(a):Zy(i.serializer,a)}(n,t)}function vk(n,t,e){return n instanceof No?bk(n,t):n instanceof Oa?VS(n,t):e}function BS(n,t){return n instanceof kp?Ku(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Dc extends Ky{}class No extends Ky{constructor(t){super(),this.elements=t}}function bk(n,t){const e=HS(t);for(const i of n.elements)e.some(r=>gl(r,i))||e.push(i);return{arrayValue:{values:e}}}class Oa extends Ky{constructor(t){super(),this.elements=t}}function VS(n,t){let e=HS(t);for(const i of n.elements)e=e.filter(r=>!gl(r,i));return{arrayValue:{values:e}}}class kp extends Ky{constructor(t,e){super(),this.serializer=t,this.gt=e}}function Xy(n){return yi(n.integerValue||n.doubleValue)}function HS(n){return Sh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ho{constructor(t,e){this.field=t,this.transform=e}}class Ss{constructor(t,e){this.version=t,this.transformResults=e}}class mi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new mi}static exists(t){return new mi(void 0,t)}static updateTime(t){return new mi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ah(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class zs{}function Qy(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Oh(n.key,mi.none()):new Pa(n.key,n.data,mi.none());{const e=n.data,i=hs.empty();let r=new Zi(tr.comparator);for(let s of t.fields)if(!r.has(s)){let a=e.field(s);null===a&&s.length>1&&(s=s.popLast(),a=e.field(s)),null===a?i.delete(s):i.set(s,a),r=r.add(s)}return new fo(n.key,i,new Lo(r.toArray()),mi.none())}}function Rp(n,t,e){n instanceof Pa?function(i,r,s){const a=i.value.clone(),u=kh(i.fieldTransforms,r,s.transformResults);a.setAll(u),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):n instanceof fo?function(i,r,s){if(!Ah(i.precondition,r))return void r.convertToUnknownDocument(s.version);const a=kh(i.fieldTransforms,r,s.transformResults),u=r.data;u.setAll(Ih(i)),u.setAll(a),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function bl(n,t,e,i){return n instanceof Pa?function(r,s,a,u){if(!Ah(r.precondition,s))return a;const h=r.value.clone(),p=Rh(r.fieldTransforms,u,s);return h.setAll(p),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(n,t,e,i):n instanceof fo?function(r,s,a,u){if(!Ah(r.precondition,s))return a;const h=Rh(r.fieldTransforms,u,s),p=s.data;return p.setAll(Ih(r)),p.setAll(h),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null===a?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(v=>v.field))}(n,t,e,i):(a=e,Ah(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Op(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=BS(i.transform,r||null);null!=s&&(null===e&&(e=hs.empty()),e.set(i.field,s))}return e||null}function Th(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Cp(e,i,(r,s)=>function Ng(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof No&&i instanceof No||e instanceof Oa&&i instanceof Oa?Cp(e.elements,i.elements,gl):e instanceof kp&&i instanceof kp?gl(e.gt,i.gt):e instanceof Dc&&i instanceof Dc);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Pa extends zs{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fo extends zs{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ih(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function kh(n,t,e){const i=new Map;hn(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],a=s.transform,u=t.data.field(s.field);i.set(s.field,vk(a,u,e[r]))}return i}function Rh(n,t,e){const i=new Map;for(const r of n){const s=r.transform,a=e.data.field(r.field);i.set(r.field,yk(s,a,t))}return i}class Oh extends zs{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jy extends zs{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ev{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&Rp(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=bl(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=bl(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=mk();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=e.has(r.key)?null:u;const h=Qy(a,u);null!==h&&i.set(r.key,h),a.isValidDocument()||a.convertToNoDocument(fn.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ln())}isEqual(t){return this.batchId===t.batchId&&Cp(this.mutations,t.mutations,(e,i)=>Th(e,i))&&Cp(this.baseMutations,t.baseMutations,(e,i)=>Th(e,i))}}class tv{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){hn(t.mutations.length===i.length);let r=gk;const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new tv(t,e,i,r)}}class nv{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class US{constructor(t,e){this.count=t,this.unchangedNames=e}}var _r,ti;function zS(n){switch(n){default:return rn();case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0}}function GS(n){if(void 0===n)return Ir("GRPC error has no .code"),gt.UNKNOWN;switch(n){case _r.OK:return gt.OK;case _r.CANCELLED:return gt.CANCELLED;case _r.UNKNOWN:return gt.UNKNOWN;case _r.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case _r.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case _r.INTERNAL:return gt.INTERNAL;case _r.UNAVAILABLE:return gt.UNAVAILABLE;case _r.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case _r.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case _r.NOT_FOUND:return gt.NOT_FOUND;case _r.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case _r.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case _r.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case _r.ABORTED:return gt.ABORTED;case _r.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case _r.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case _r.DATA_LOSS:return gt.DATA_LOSS;default:return rn()}}(ti=_r||(_r={}))[ti.OK=0]="OK",ti[ti.CANCELLED=1]="CANCELLED",ti[ti.UNKNOWN=2]="UNKNOWN",ti[ti.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ti[ti.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ti[ti.NOT_FOUND=5]="NOT_FOUND",ti[ti.ALREADY_EXISTS=6]="ALREADY_EXISTS",ti[ti.PERMISSION_DENIED=7]="PERMISSION_DENIED",ti[ti.UNAUTHENTICATED=16]="UNAUTHENTICATED",ti[ti.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ti[ti.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ti[ti.ABORTED=10]="ABORTED",ti[ti.OUT_OF_RANGE=11]="OUT_OF_RANGE",ti[ti.UNIMPLEMENTED=12]="UNIMPLEMENTED",ti[ti.INTERNAL=13]="INTERNAL",ti[ti.UNAVAILABLE=14]="UNAVAILABLE",ti[ti.DATA_LOSS=15]="DATA_LOSS";class iv{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return rv}static getOrCreateInstance(){return null===rv&&(rv=new iv),rv}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let rv=null;function pw(){return new TextEncoder}const mw=new ao([4294967295,4294967295],0);function sv(n){const t=pw().encode(n),e=new wp;return e.update(t),new Uint8Array(e.digest())}function $S(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ao([e,i],0),new ao([r,s],0)]}class Pp{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new nd(`Invalid padding: ${e}`);if(i<0)throw new nd(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new nd(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new nd(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=ao.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply(ao.fromNumber(i)));return 1===r.compare(mw)&&(r=new ao([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=sv(t),[i,r]=$S(e);for(let s=0;s<this.hashCount;s++){const a=this.Et(i,r,s);if(!this.At(a))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new Pp(s,r,e);return i.forEach(u=>a.insert(u)),a}insert(t){if(0===this.It)return;const e=sv(t),[i,r]=$S(e);for(let s=0;s<this.hashCount;s++){const a=this.Et(i,r,s);this.Rt(a)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class nd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ph{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Bg.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Ph(fn.min(),r,new Bi(In),uo(),Ln())}}class Bg{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Bg(i,e,Ln(),Ln(),Ln())}}class Fh{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class Vg{constructor(t,e){this.targetId=t,this.Vt=e}}class ov{constructor(t,e,i=Zr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class gw{constructor(){this.St=0,this.Dt=vw(),this.Ct=Zr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=Ln(),e=Ln(),i=Ln();return this.Dt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:rn()}}),new Bg(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=vw()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class _w{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=uo(),this.zt=yw(),this.Wt=new Bi(In)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:rn()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,s=this.se(i);if(s){const a=s.target;if($y(a))if(0===r){const u=new Zt(a.path);this.Yt(i,u,Ui.newNoDocument(u,fn.min()))}else hn(1===r);else{const u=this.ie(i);if(u!==r){const h=this.re(t,u);0!==h&&(this.ee(i),this.Wt=this.Wt.insert(i,2===h?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=iv.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(p,v,w){var O,Y,he,_e,ke,We;const Je={localCacheCount:v,existenceFilterCount:w.count},ct=w.unchangedNames;return ct&&(Je.bloomFilter={applied:0===p,hashCount:null!==(O=ct?.hashCount)&&void 0!==O?O:0,bitmapLength:null!==(_e=null===(he=null===(Y=ct?.bits)||void 0===Y?void 0:Y.bitmap)||void 0===he?void 0:he.length)&&void 0!==_e?_e:0,padding:null!==(We=null===(ke=ct?.bits)||void 0===ke?void 0:ke.padding)&&void 0!==We?We:0}),Je}(h,u,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=i;let h,p;try{h=Ia(s).toUint8Array()}catch(v){if(v instanceof ok)return Fo("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw v}try{p=new Pp(h,a,u)}catch(v){return Fo(v instanceof nd?"BloomFilter error: ":"Applying bloom filter failed: ",v),1}return 0===p.It?1:r!==e-this.oe(t.targetId,p)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const a=this.Gt.ue(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.vt(u)||(this.Yt(t,s,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((s,a)=>{const u=this.se(a);if(u){if(s.current&&$y(u.target)){const h=new Zt(u.target.path);null!==this.jt.get(h)||this.ae(a,h)||this.Yt(a,h,Ui.newNoDocument(h,t))}s.Mt&&(e.set(a,s.Ot()),s.Ft())}});let i=Ln();this.zt.forEach((s,a)=>{let u=!0;a.forEachWhile(h=>{const p=this.se(h);return!p||"TargetPurposeLimboResolution"===p.purpose||(u=!1,!1)}),u&&(i=i.add(s))}),this.jt.forEach((s,a)=>a.setReadTime(t));const r=new Ph(t,e,this.Wt,this.jt,i);return this.jt=uo(),this.zt=yw(),this.Wt=new Bi(In),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new gw,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Zi(In),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||Pt("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new gw),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function yw(){return new Bi(Zt.comparator)}function vw(){return new Bi(Zt.comparator)}const bw={asc:"ASCENDING",desc:"DESCENDING"},ww={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wk={and:"AND",or:"OR"};class WS{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function av(n,t){return n.useProto3Json||Vy(t)?t:{value:t}}function Lh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Cw(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Ck(n,t){return Lh(n,t.toTimestamp())}function pr(n){return hn(!!n),fn.fromTimestamp(function(t){const e=xh(t);return new qi(e.seconds,e.nanos)}(n))}function lv(n,t){return(e=n,new ri(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function cv(n){const t=ri.fromString(n);return hn(Tw(t)),t}function Nh(n,t){return lv(n.databaseId,t.path)}function Fa(n,t){const e=cv(t);if(e.get(1)!==n.databaseId.projectId)throw new St(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new St(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Zt(Dw(e))}function uv(n,t){return lv(n.databaseId,t)}function xw(n){const t=cv(n);return 4===t.length?ri.emptyPath():Dw(t)}function Fp(n){return new ri(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Dw(n){return hn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Sw(n,t,e){return{name:Nh(n,t),fields:e.value.mapValue.fields}}function Ew(n,t,e){const i=Fa(n,t.name),r=pr(t.updateTime),s=t.createTime?pr(t.createTime):fn.min(),a=new hs({mapValue:{fields:t.fields}}),u=Ui.newFoundDocument(i,r,s,a);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function Hg(n,t){let e;if(t instanceof Pa)e={update:Sw(n,t.key,t.value)};else if(t instanceof Oh)e={delete:Nh(n,t.key)};else if(t instanceof fo)e={update:Sw(n,t.key,t.data),updateMask:Sk(t.fieldMask)};else{if(!(t instanceof Jy))return rn();e={verify:Nh(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const a=s.transform;if(a instanceof Dc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof No)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof kp)return{fieldPath:s.field.canonicalString(),increment:a.gt};throw rn()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:Ck(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:rn()),e;var r}function Mw(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?mi.updateTime(pr(r.updateTime)):void 0!==r.exists?mi.exists(r.exists):mi.none():mi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let u=null;"setToServerValue"in a?(hn("REQUEST_TIME"===a.setToServerValue),u=new Dc):"appendMissingElements"in a?u=new No(a.appendMissingElements.values||[]):"removeAllFromArray"in a?u=new Oa(a.removeAllFromArray.values||[]):"increment"in a?u=new kp(s,a.increment):rn();const h=tr.fromServerFormat(a.fieldPath);return new ho(h,u)}(n,r)):[];var r;if(t.update){const r=Fa(n,t.update.name),s=new hs({mapValue:{fields:t.update.fields}});if(t.updateMask){const a=new Lo((t.updateMask.fieldPaths||[]).map(p=>tr.fromServerFormat(p)));return new fo(r,s,a,e,i)}return new Pa(r,s,e,i)}if(t.delete){const r=Fa(n,t.delete);return new Oh(r,e)}if(t.verify){const r=Fa(n,t.verify);return new Jy(r,e)}return rn()}function ZS(n,t){return{documents:[uv(n,t.path)]}}function yr(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=uv(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=uv(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(h){if(0!==h.length)return JS(vi.create(h,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(h){if(0!==h.length)return h.map(p=>{return{field:Sc((v=p).field),direction:XS(v.dir)};var v})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const a=av(n,t.limit);var u,h;return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(u=t.startAt).inclusive,values:u.position}),t.endAt&&(e.structuredQuery.endAt={before:!(h=t.endAt).inclusive,values:h.position}),e}function Aw(n){let t=xw(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){hn(1===i);const v=e.from[0];v.allDescendants?r=v.collectionId:t=t.child(v.collectionId)}let s=[];e.where&&(s=function(v){const w=KS(v);return w instanceof vi&&sw(w)?w.getFilters():[w]}(e.where));let a=[];e.orderBy&&(a=e.orderBy.map(v=>{return new Kr(La((w=v).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction));var w}));let u=null;e.limit&&(u=function(v){let w;return w="object"==typeof v?v.value:v,Vy(w)?null:w}(e.limit));let h=null;var v;e.startAt&&(h=new Cc((v=e.startAt).values||[],!!v.before));let p=null;return e.endAt&&(p=function(v){return new Cc(v.values||[],!v.before)}(e.endAt)),Rg(t,r,a,s,u,"F",h,p)}function KS(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=La(t.unaryFilter.field);return ei.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=La(t.unaryFilter.field);return ei.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=La(t.unaryFilter.field);return ei.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=La(t.unaryFilter.field);return ei.create(s,"!=",{nullValue:"NULL_VALUE"});default:return rn()}}(n):void 0!==n.fieldFilter?ei.create(La((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rn()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return vi.create(t.compositeFilter.filters.map(e=>KS(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return rn()}}(t.compositeFilter.op))}(n):rn();var t}function XS(n){return bw[n]}function Dk(n){return ww[n]}function QS(n){return wk[n]}function Sc(n){return{fieldPath:n.canonicalString()}}function La(n){return tr.fromServerFormat(n.fieldPath)}function JS(n){return n instanceof ei?function(t){if("=="===t.op){if(tw(t.value))return{unaryFilter:{field:Sc(t.field),op:"IS_NAN"}};if(Tg(t.value))return{unaryFilter:{field:Sc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(tw(t.value))return{unaryFilter:{field:Sc(t.field),op:"IS_NOT_NAN"}};if(Tg(t.value))return{unaryFilter:{field:Sc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sc(t.field),op:Dk(t.op),value:t.value}}}(n):n instanceof vi?function(t){const e=t.getFilters().map(i=>JS(i));return 1===e.length?e[0]:{compositeFilter:{op:QS(t.op),filters:e}}}(n):rn()}function Sk(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Tw(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ec{constructor(t,e,i,r,s=fn.min(),a=fn.min(),u=Zr.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(t){return new Ec(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ec(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ec(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ec(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Iw{constructor(t){this.fe=t}}function dv(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Lp(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Nh(r=n.fe,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:Lh(r,s.version.toTimestamp()),createTime:Lh(r,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Es(t.version)};else{if(!t.isUnknownDocument())return rn();i.unknownDocument={path:e.path.toArray(),version:Es(t.version)}}var r,s;return i}function Lp(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Es(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Bh(n){const t=new qi(n.seconds,n.nanoseconds);return fn.fromTimestamp(t)}function Vh(n,t){const e=(t.baseMutations||[]).map(s=>Mw(n.fe,s));for(let s=0;s<t.mutations.length-1;++s){const a=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(a.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>Mw(n.fe,s)),r=qi.fromMillis(t.localWriteTimeMs);return new ev(t.batchId,r,e,i)}function po(n){const t=Bh(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Bh(n.lastLimboFreeSnapshotVersion):fn.min();let i;var r;return void 0!==n.query.documents?(hn(1===(r=n.query).documents.length),i=Ds(Ju(xw(r.documents[0])))):i=Ds(Aw(n.query)),new Ec(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Zr.fromBase64String(n.resumeToken))}function ia(n,t){const e=Es(t.snapshotVersion),i=Es(t.lastLimboFreeSnapshotVersion);let r;r=$y(t.target)?ZS(n.fe,t.target):yr(n.fe,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Qu(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Bo(n){const t=Aw({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Pg(t,t.limit,"L"):t}function hv(n,t){return new nv(t.largestBatchId,Mw(n.fe,t.overlayMutation))}function kw(n,t){const e=t.path.lastSegment();return[n,Us(t.path.popLast()),e]}function eE(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Es(i.readTime),documentKey:Us(i.documentKey.path),largestBatchId:i.largestBatchId}}class Ek{getBundleMetadata(t,e){return tE(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Bh(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return tE(t).put({bundleId:(i=e).id,createTime:Es(pr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return nE(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:Bo(r.bundledQuery),readTime:Bh(r.readTime)};var r})}saveNamedQuery(t,e){return nE(t).put({name:(i=e).name,readTime:Es(pr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function tE(n){return qr(n,"bundles")}function nE(n){return qr(n,"namedQueries")}class Np{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new Np(t,e.uid||"")}getOverlay(t,e){return Mc(t).get(kw(this.userId,e)).next(i=>i?hv(this.serializer,i):null)}getOverlays(t,e){const i=vl();return ut.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,a)=>{const u=new nv(e,a);r.push(this.we(t,u))}),ut.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(a=>r.add(Us(a.getCollectionPath())));const s=[];return r.forEach(a=>{const u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,i+1],!1,!0);s.push(Mc(t).J("collectionPathOverlayIndex",u))}),ut.waitFor(s)}getOverlaysForCollection(t,e,i){const r=vl(),s=Us(e),a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Mc(t).j("collectionPathOverlayIndex",a).next(u=>{for(const h of u){const p=hv(this.serializer,h);r.set(p.getKey(),p)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=vl();let a;const u=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Mc(t).X({index:"collectionGroupOverlayIndex",range:u},(h,p,v)=>{const w=hv(this.serializer,p);s.size()<r||w.largestBatchId===a?(s.set(w.getKey(),w),a=w.largestBatchId):v.done()}).next(()=>s)}we(t,e){return Mc(t).put(function(i,r,s){const[a,u,h]=kw(r,s.mutation.key);return{userId:r,collectionPath:u,documentId:h,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Hg(i.fe,s.mutation)}}(this.serializer,this.userId,e))}}function Mc(n){return qr(n,"documentOverlays")}class Hh{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(yi(t.integerValue));else if("doubleValue"in t){const i=yi(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),Ch(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(Ia(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?zy(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):rn()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),Zt.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function iE(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function rE(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=iE(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}Hh.Ve=new Hh;class sE{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=e.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=e.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(t){const e=this.Fe(t),i=rE(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),i=rE(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class oE{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class fv{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class jg{constructor(){this.je=new sE,this.ze=new oE(this.je),this.We=new fv(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class id{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new id(this.indexId,this.documentKey,this.arrayValue,i)}}function Ac(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=pv(n.arrayValue,t.arrayValue),0!==e?e:(e=pv(n.directionalValue,t.directionalValue),0!==e?e:Zt.comparator(n.documentKey,t.documentKey)))}function pv(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class mv{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){hn(t.collectionGroup===this.collectionId);const e=U0(t);if(void 0!==e&&!this.en(e))return!1;const i=mc(t);let r=new Set,s=0,a=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const u=i[s];if(!this.nn(this.Ze,u)||!this.sn(this.Ye[a++],u))return!1}++s}for(;s<i.length;++s){const u=i[s];if(a>=this.Ye.length||!this.sn(this.Ye[a++],u))return!1}return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function Rw(n){var t,e;if(hn(n instanceof ei||n instanceof vi),n instanceof ei){if(n instanceof Ra){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>ei.create(n.field,"==",s)))||[];return vi.create(r,"or")}return n}const i=n.filters.map(r=>Rw(r));return vi.create(i,n.op)}function aE(n){if(0===n.getFilters().length)return[];const t=yv(Rw(n));return hn(Ow(t)),gv(t)||_v(t)?[t]:t.getFilters()}function gv(n){return n instanceof ei}function _v(n){return n instanceof vi&&sw(n)}function Ow(n){return gv(n)||_v(n)||function(t){if(t instanceof vi&&Gy(t)){for(const e of t.getFilters())if(!gv(e)&&!_v(e))return!1;return!0}return!1}(n)}function yv(n){if(hn(n instanceof ei||n instanceof vi),n instanceof ei)return n;if(1===n.filters.length)return yv(n.filters[0]);const t=n.filters.map(i=>yv(i));let e=vi.create(t,n.op);return e=Ug(e),Ow(e)?e:(hn(e instanceof vi),hn(Xu(e)),hn(e.filters.length>1),e.filters.reduce((i,r)=>vv(i,r)))}function vv(n,t){let e;return hn(n instanceof ei||n instanceof vi),hn(t instanceof ei||t instanceof vi),e=n instanceof ei?t instanceof ei?vi.create([n,t],"and"):Pw(n,t):t instanceof ei?Pw(t,n):function(i,r){if(hn(i.filters.length>0&&r.filters.length>0),Xu(i)&&Xu(r))return TS(i,r.getFilters());const s=Gy(i)?i:r,a=Gy(i)?r:i,u=s.filters.map(h=>vv(h,a));return vi.create(u,"or")}(n,t),Ug(e)}function Pw(n,t){if(Xu(t))return TS(t,n.getFilters());{const e=t.filters.map(i=>vv(n,i));return vi.create(e,"or")}}function Ug(n){if(hn(n instanceof ei||n instanceof vi),n instanceof ei)return n;const t=n.getFilters();if(1===t.length)return Ug(t[0]);if(AS(n))return n;const e=t.map(r=>Ug(r)),i=[];return e.forEach(r=>{r instanceof ei?i.push(r):r instanceof vi&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:vi.create(i,n.op)}class Mk{constructor(){this.rn=new Fw}addToCollectionParentIndex(t,e){return this.rn.add(e),ut.resolve()}getCollectionParents(t,e){return ut.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return ut.resolve()}deleteFieldIndex(t,e){return ut.resolve()}getDocumentsMatchingTarget(t,e){return ut.resolve(null)}getIndexType(t,e){return ut.resolve(0)}getFieldIndexes(t,e){return ut.resolve([])}getNextCollectionGroupToUpdate(t){return ut.resolve(null)}getMinOffset(t,e){return ut.resolve(lo.min())}getMinOffsetFromCollectionGroup(t,e){return ut.resolve(lo.min())}updateCollectionGroup(t,e,i){return ut.resolve()}updateIndexEntries(t,e){return ut.resolve()}}class Fw{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Zi(ri.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Zi(ri.comparator)).toArray()}}const bv=new Uint8Array(0);class Ak{constructor(t,e){this.user=t,this.databaseId=e,this.on=new Fw,this.un=new yl(i=>Qu(i),(i,r)=>kg(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const s={collectionId:i,parent:Us(r)};return lE(t).put(s)}return ut.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[j0(e),""],!1,!0);return lE(t).j(r).next(s=>{for(const a of s){if(a.collectionId!==e)break;i.push(Ta(a.parent))}return i})}addFieldIndex(t,e){const i=wv(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;delete r.indexId;const s=i.add(r);if(e.indexState){const a=Gg(t);return s.next(u=>{a.put(eE(u,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=wv(t),r=Gg(t),s=zg(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=zg(t);let r=!0;const s=new Map;return ut.forEach(this.cn(e),a=>this.an(t,a).next(u=>{r&&(r=!!u),s.set(a,u)})).next(()=>{if(r){let a=Ln();const u=[];return ut.forEach(s,(h,p)=>{var v;Pt("IndexedDbIndexManager",`Using index ${v=h,`id=${v.indexId}|cg=${v.collectionGroup}|f=${v.fields.map(ct=>`${ct.fieldPath}:${ct.kind}`).join(",")}`} to execute ${Qu(e)}`);const w=function(ct,ht){const ft=U0(ht);if(void 0===ft)return null;for(const xt of Wy(ct,ft.fieldPath))switch(xt.op){case"array-contains-any":return xt.value.arrayValue.values||[];case"array-contains":return[xt.value]}return null}(p,h),O=function(ct,ht){const ft=new Map;for(const xt of mc(ht))for(const Tt of Wy(ct,xt.fieldPath))switch(Tt.op){case"==":case"in":ft.set(xt.fieldPath.canonicalString(),Tt.value);break;case"not-in":case"!=":return ft.set(xt.fieldPath.canonicalString(),Tt.value),Array.from(ft.values())}return null}(p,h),Y=function(ct,ht){const ft=[];let xt=!0;for(const Tt of mc(ht)){const Vt=0===Tt.kind?Yy(ct,Tt.fieldPath,ct.startAt):RS(ct,Tt.fieldPath,ct.startAt);ft.push(Vt.value),xt&&(xt=Vt.inclusive)}return new Cc(ft,xt)}(p,h),he=function(ct,ht){const ft=[];let xt=!0;for(const Tt of mc(ht)){const Vt=0===Tt.kind?RS(ct,Tt.fieldPath,ct.endAt):Yy(ct,Tt.fieldPath,ct.endAt);ft.push(Vt.value),xt&&(xt=Vt.inclusive)}return new Cc(ft,xt)}(p,h),_e=this.hn(h,p,Y),ke=this.hn(h,p,he),We=this.ln(h,p,O),Je=this.fn(h.indexId,w,_e,Y.inclusive,ke,he.inclusive,We);return ut.forEach(Je,ct=>i.H(ct,e.limit).next(ht=>{ht.forEach(ft=>{const xt=Zt.fromSegments(ft.documentKey);a.has(xt)||(a=a.add(xt),u.push(xt))})}))}).next(()=>u)}return ut.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:aE(vi.create(t.filters,"and")).map(i=>kS(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,r,s,a,u){const h=(null!=e?e.length:1)*Math.max(i.length,s.length),p=h/(null!=e?e.length:1),v=[];for(let w=0;w<h;++w){const O=e?this.dn(e[w/p]):bv,Y=this.wn(t,O,i[w%p],r),he=this._n(t,O,s[w%p],a),_e=u.map(ke=>this.wn(t,O,ke,!0));v.push(...this.createRange(Y,he,_e))}return v}wn(t,e,i,r){const s=new id(t,Zt.empty(),e,i);return r?s:s.Je()}_n(t,e,i,r){const s=new id(t,Zt.empty(),e,i);return r?s.Je():s}an(t,e){const i=new mv(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let a=null;for(const u of s)i.tn(u)&&(!a||u.fields.length>a.fields.length)&&(a=u);return a})}getIndexType(t,e){let i=2;const r=this.cn(e);return ut.forEach(r,s=>this.an(t,s).next(a=>{a?0!==i&&a.fields.length<function(u){let h=new Zi(tr.comparator),p=!1;for(const v of u.filters)for(const w of v.getFlattenedFilters())w.field.isKeyField()||("array-contains"===w.op||"array-contains-any"===w.op?p=!0:h=h.add(w.field));for(const v of u.orderBy)v.field.isKeyField()||(h=h.add(v.field));return h.size+(p?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}mn(t,e){const i=new jg;for(const r of mc(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const a=i.He(r.kind);Hh.Ve._e(s,a)}return i.Qe()}dn(t){const e=new jg;return Hh.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new jg;return Hh.Ve._e(wc(this.databaseId,e),i.He(function(r){const s=mc(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let r=[];r.push(new jg);let s=0;for(const a of mc(t)){const u=i[s++];for(const h of r)if(this.yn(e,a.fieldPath)&&Sh(u))r=this.pn(r,a,u);else{const p=h.He(a.kind);Hh.Ve._e(u,p)}}return this.In(r)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const r=[...t],s=[];for(const a of i.arrayValue.values||[])for(const u of r){const h=new jg;h.seed(u.Qe()),Hh.Ve._e(a,h.He(e.kind)),s.push(h)}return s}yn(t,e){return!!t.filters.find(i=>i instanceof ei&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=wv(t),r=Gg(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(s=>{const a=[];return ut.forEach(s,u=>r.get([u.indexId,this.uid]).next(h=>{a.push(function(p,v){const w=v?new Ly(v.sequenceNumber,new lo(Bh(v.readTime),new Zt(Ta(v.documentKey)),v.largestBatchId)):Ly.empty(),O=p.fields.map(([Y,he])=>new Fy(tr.fromServerFormat(Y),he));return new pl(p.indexId,p.collectionGroup,O,w)}(u,h))})).next(()=>a)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:In(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=wv(t),s=Gg(t);return this.Tn(t).next(a=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(u=>ut.forEach(u,h=>s.put(eE(h.indexId,this.user,a,i)))))}updateIndexEntries(t,e){const i=new Map;return ut.forEach(e,(r,s)=>{const a=i.get(r.collectionGroup);return(a?ut.resolve(a):this.getFieldIndexes(t,r.collectionGroup)).next(u=>(i.set(r.collectionGroup,u),ut.forEach(u,h=>this.En(t,r,h).next(p=>{const v=this.An(s,h);return p.isEqual(v)?ut.resolve():this.vn(t,s,h,p,v)}))))})}Rn(t,e,i,r){return zg(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,r){return zg(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const r=zg(t);let s=new Zi(Ac);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(a,u)=>{s=s.add(new id(i.indexId,e,u.arrayValue,u.directionalValue))}).next(()=>s)}An(t,e){let i=new Zi(Ac);const r=this.mn(e,t);if(null==r)return i;const s=U0(e);if(null!=s){const a=t.data.field(s.fieldPath);if(Sh(a))for(const u of a.arrayValue.values||[])i=i.add(new id(e.indexId,t.key,this.dn(u),r))}else i=i.add(new id(e.indexId,t.key,bv,r));return i}vn(t,e,i,r,s){Pt("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const a=[];return function(u,h,p,v,w){const O=u.getIterator(),Y=h.getIterator();let he=Eg(O),_e=Eg(Y);for(;he||_e;){let ke=!1,We=!1;if(he&&_e){const Je=p(he,_e);Je<0?We=!0:Je>0&&(ke=!0)}else null!=he?We=!0:ke=!0;ke?(v(_e),_e=Eg(Y)):We?(w(he),he=Eg(O)):(he=Eg(O),_e=Eg(Y))}}(r,s,Ac,u=>{a.push(this.Rn(t,e,i,u))},u=>{a.push(this.Pn(t,e,i,u))}),ut.waitFor(a)}Tn(t){let e=1;return Gg(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((a,u)=>Ac(a,u)).filter((a,u,h)=>!u||0!==Ac(a,h[u-1]));const r=[];r.push(t);for(const a of i){const u=Ac(a,t),h=Ac(a,e);if(0===u)r[0]=t.Je();else if(u>0&&h<0)r.push(a),r.push(a.Je());else if(h>0)break}r.push(e);const s=[];for(let a=0;a<r.length;a+=2){if(this.bn(r[a],r[a+1]))return[];s.push(IDBKeyRange.bound([r[a].indexId,this.uid,r[a].arrayValue,r[a].directionalValue,bv,[]],[r[a+1].indexId,this.uid,r[a+1].arrayValue,r[a+1].directionalValue,bv,[]]))}return s}bn(t,e){return Ac(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(cE)}getMinOffset(t,e){return ut.mapArray(this.cn(e),i=>this.an(t,i).next(r=>r||rn())).next(cE)}}function lE(n){return qr(n,"collectionParents")}function zg(n){return qr(n,"indexEntries")}function wv(n){return qr(n,"indexConfiguration")}function Gg(n){return qr(n,"indexState")}function cE(n){hn(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;cS(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new lo(t.readTime,t.documentKey,e)}const uE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ms{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Ms(t,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function dE(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],a=IDBKeyRange.only(e.batchId);let u=0;const h=i.X({range:a},(v,w,O)=>(u++,O.delete()));s.push(h.next(()=>{hn(1===u)}));const p=[];for(const v of e.mutations){const w=Y0(t,v.key.path,e.batchId);s.push(r.delete(w)),p.push(v.key)}return ut.waitFor(s).next(()=>p)}function Cv(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw rn();t=n.noDocument}return JSON.stringify(t).length}Ms.DEFAULT_COLLECTION_PERCENTILE=10,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ms.DEFAULT=new Ms(41943040,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ms.DISABLED=new Ms(-1,0,0);class xv{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(t,e,i,r){hn(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new xv(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rd(t).X({index:"userMutationsIndex",range:i},(r,s,a)=>{e=!1,a.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=Bp(t),a=rd(t);return a.add({}).next(u=>{hn("number"==typeof u);const h=new ev(u,e,i,r),p=function(O,Y,he){const _e=he.baseMutations.map(We=>Hg(O.fe,We)),ke=he.mutations.map(We=>Hg(O.fe,We));return{userId:Y,batchId:he.batchId,localWriteTimeMs:he.localWriteTime.toMillis(),baseMutations:_e,mutations:ke}}(this.serializer,this.userId,h),v=[];let w=new Zi((O,Y)=>In(O.canonicalString(),Y.canonicalString()));for(const O of r){const Y=Y0(this.userId,O.key.path,u);w=w.add(O.key.path.popLast()),v.push(a.put(p)),v.push(s.put(Y,nk))}return w.forEach(O=>{v.push(this.indexManager.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(()=>{this.Vn[u]=h.keys()}),ut.waitFor(v).next(()=>h)})}lookupMutationBatch(t,e){return rd(t).get(e).next(i=>i?(hn(i.userId===this.userId),Vh(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?ut.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return rd(t).X({index:"userMutationsIndex",range:r},(a,u,h)=>{u.userId===this.userId&&(hn(u.batchId>=i),s=Vh(this.serializer,u)),h.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return rd(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,s,a)=>{i=s.batchId,a.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rd(t).j("userMutationsIndex",e).next(i=>i.map(r=>Vh(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=co(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return Bp(t).X({range:r},(a,u,h)=>{const[p,v,w]=a,O=Ta(v);if(p===this.userId&&e.path.isEqual(O))return rd(t).get(w).next(Y=>{if(!Y)throw rn();hn(Y.userId===this.userId),s.push(Vh(this.serializer,Y))});h.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Zi(In);const r=[];return e.forEach(s=>{const a=co(this.userId,s.path),u=IDBKeyRange.lowerBound(a),h=Bp(t).X({range:u},(p,v,w)=>{const[O,Y,he]=p,_e=Ta(Y);O===this.userId&&s.path.isEqual(_e)?i=i.add(he):w.done()});r.push(h)}),ut.waitFor(r).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=co(this.userId,i),a=IDBKeyRange.lowerBound(s);let u=new Zi(In);return Bp(t).X({range:a},(h,p,v)=>{const[w,O,Y]=h,he=Ta(O);w===this.userId&&i.isPrefixOf(he)?he.length===r&&(u=u.add(Y)):v.done()}).next(()=>this.Dn(t,u))}Dn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(rd(t).get(s).next(a=>{if(null===a)throw rn();hn(a.userId===this.userId),i.push(Vh(this.serializer,a))}))}),ut.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return dE(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),ut.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ut.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Bp(t).X({range:i},(s,a,u)=>{if(s[0]===this.userId){const h=Ta(s[1]);r.push(h)}else u.done()}).next(()=>{hn(0===r.length)})})}containsKey(t,e){return hE(t,this.userId,e)}xn(t){return Lw(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function hE(n,t,e){const i=co(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let a=!1;return Bp(n).X({range:s,Y:!0},(u,h,p)=>{const[v,w,O]=u;v===t&&w===r&&(a=!0),p.done()}).next(()=>a)}function rd(n){return qr(n,"mutations")}function Bp(n){return qr(n,"documentMutations")}function Lw(n){return qr(n,"mutationQueues")}class sd{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new sd(0)}static Mn(){return new sd(-1)}}class fE{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new sd(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>fn.fromTimestamp(new qi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>jh(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(hn(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return jh(t).X((a,u)=>{const h=po(u);h.sequenceNumber<=e&&null===i.get(h.targetId)&&(r++,s.push(this.removeTargetData(t,h)))}).next(()=>ut.waitFor(s)).next(()=>r)}forEachTarget(t,e){return jh(t).X((i,r)=>{const s=po(r);e(s)})}$n(t){return Nw(t).get("targetGlobalKey").next(e=>(hn(null!==e),e))}On(t,e){return Nw(t).put("targetGlobalKey",e)}Fn(t,e){return jh(t).put(ia(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Qu(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return jh(t).X({range:r,index:"queryTargetsIndex"},(a,u,h)=>{const p=po(u);kg(e,p.target)&&(s=p,h.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Tc(t);return e.forEach(a=>{const u=Us(a.path);r.push(s.put({targetId:i,path:u})),r.push(this.referenceDelegate.addReference(t,i,a))}),ut.waitFor(r)}removeMatchingKeys(t,e,i){const r=Tc(t);return ut.forEach(e,s=>{const a=Us(s.path);return ut.waitFor([r.delete([i,a]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Tc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Tc(t);let s=Ln();return r.X({range:i,Y:!0},(a,u,h)=>{const p=Ta(a[1]),v=new Zt(p);s=s.add(v)}).next(()=>s)}containsKey(t,e){const i=Us(e.path),r=IDBKeyRange.bound([i],[j0(i)],!1,!0);let s=0;return Tc(t).X({index:"documentTargetsIndex",Y:!0,range:r},([a,u],h,p)=>{0!==a&&(s++,p.done())}).next(()=>s>0)}le(t,e){return jh(t).get(e).next(i=>i?po(i):null)}}function jh(n){return qr(n,"targets")}function Nw(n){return qr(n,"targetGlobal")}function Tc(n){return qr(n,"targetDocuments")}function Bw([n,t],[e,i]){const r=In(n,e);return 0===r?In(t,i):r}class pE{constructor(t){this.Ln=t,this.buffer=new Zi(Bw),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Bw(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Vw{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;Pt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,vt.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){qu(i)?Pt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Yu(i)}yield e.Qn(3e5)}))}}class Hw{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ut.resolve(js.ct);const i=new pE(e);return this.jn.forEachTarget(t,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(t,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector","Garbage collection skipped; disabled"),ut.resolve(uE)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uE):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,r,s,a,u,h,p;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(Pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),r=this.params.maximumSequenceNumbersToCollect):r=w,a=Date.now(),this.nthSequenceNumber(t,r))).next(w=>(i=w,u=Date.now(),this.removeTargets(t,i,e))).next(w=>(s=w,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(w=>(p=Date.now(),Py()<=Yo.in.DEBUG&&Pt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-v}ms\n\tDetermined least recently used ${r} in `+(u-a)+`ms\n\tRemoved ${s} targets in `+(h-u)+`ms\n\tRemoved ${w} documents in `+(p-h)+`ms\nTotal Duration: ${p-v}ms`),ut.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:w})))}}class Uh{constructor(t,e){this.db=t,this.garbageCollector=function Dv(n,t){return new Hw(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,r)=>e(r))}addReference(t,e,i){return Sv(t,i)}removeReference(t,e,i){return Sv(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Sv(t,e)}Xn(t,e){return function(i,r){let s=!1;return Lw(i).Z(a=>hE(i,a,r).next(u=>(u&&(s=!0),ut.resolve(!u)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(t,(a,u)=>{if(u<=e){const h=this.Xn(t,a).next(p=>{if(!p)return s++,i.getEntry(t,a).next(()=>(i.removeEntry(a,fn.min()),Tc(t).delete([0,Us(a.path)])))});r.push(h)}}).next(()=>ut.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Sv(t,e)}Yn(t,e){const i=Tc(t);let r,s=js.ct;return i.X({index:"documentTargetsIndex"},([a,u],{path:h,sequenceNumber:p})=>{0===a?(s!==js.ct&&e(new Zt(Ta(r)),s),s=p,r=h):s=js.ct}).next(()=>{s!==js.ct&&e(new Zt(Ta(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Sv(n,t){return Tc(n).put((i=n.currentSequenceNumber,{targetId:0,path:Us(t.path),sequenceNumber:i}));var i}class mE{constructor(){this.changes=new yl(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ui.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ut.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Vp{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return od(t).put(i)}removeEntry(t,e,i){return od(t).delete(function(r,s){const a=r.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Lp(s),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=Ui.newInvalidDocument(e);return od(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Hp(e))},(r,s)=>{i=this.ts(e,s)}).next(()=>i)}es(t,e){let i={size:0,document:Ui.newInvalidDocument(e)};return od(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Hp(e))},(r,s)=>{i={document:this.ts(e,s),size:Cv(s)}}).next(()=>i)}getEntries(t,e){let i=uo();return this.ns(t,e,(r,s)=>{const a=this.ts(r,s);i=i.insert(r,a)}).next(()=>i)}ss(t,e){let i=uo(),r=new Bi(Zt.comparator);return this.ns(t,e,(s,a)=>{const u=this.ts(s,a);i=i.insert(s,u),r=r.insert(s,Cv(a))}).next(()=>({documents:i,rs:r}))}ns(t,e,i){if(e.isEmpty())return ut.resolve();let r=new Zi(wn);e.forEach(h=>r=r.add(h));const s=IDBKeyRange.bound(Hp(r.first()),Hp(r.last())),a=r.getIterator();let u=a.getNext();return od(t).X({index:"documentKeyIndex",range:s},(h,p,v)=>{const w=Zt.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;u&&wn(u,w)<0;)i(u,null),u=a.getNext();u&&u.isEqual(w)&&(i(u,p),u=a.hasNext()?a.getNext():null),u?v.G(Hp(u)):v.done()}).next(()=>{for(;u;)i(u,null),u=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const s=e.path,a=[s.popLast().toArray(),s.lastSegment(),Lp(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],u=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return od(t).j(IDBKeyRange.bound(a,u,!0)).next(h=>{let p=uo();for(const v of h){const w=this.ts(Zt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);w.isFoundDocument()&&(td(e,w)||r.has(w.key))&&(p=p.insert(w.key,w))}return p})}getAllFromCollectionGroup(t,e,i,r){let s=uo();const a=kk(e,i),u=kk(e,lo.max());return od(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,u,!0)},(h,p,v)=>{const w=this.ts(Zt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);s=s.insert(w.key,w),s.size===r&&v.done()}).next(()=>s)}newChangeBuffer(t){return new jw(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return Ik(t).get("remoteDocumentGlobalKey").next(e=>(hn(!!e),e))}Zn(t,e){return Ik(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function JF(n,t){let e;if(t.document)e=Ew(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Zt.fromSegments(t.noDocument.path),r=Bh(t.noDocument.readTime);e=Ui.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return rn();{const i=Zt.fromSegments(t.unknownDocument.path),r=Bh(t.unknownDocument.version);e=Ui.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new qi(i[0],i[1]);return fn.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(fn.min()))return i}return Ui.newInvalidDocument(t)}}function Tk(n){return new Vp(n)}class jw extends mE{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new yl(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Zi((s,a)=>In(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const u=this.us.get(s);if(e.push(this.os.removeEntry(t,s,u.readTime)),a.isValidDocument()){const h=dv(this.os.serializer,a);r=r.add(s.path.popLast()),i+=Cv(h)-u.size,e.push(this.os.addEntry(t,s,h))}else if(i-=u.size,this.trackRemovals){const h=dv(this.os.serializer,a.convertToNoDocument(fn.min()));e.push(this.os.addEntry(t,s,h))}}),r.forEach(s=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.os.updateMetadata(t,i)),ut.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:r})=>(r.forEach((s,a)=>{this.us.set(s,{size:a,readTime:i.get(s).readTime})}),i))}}function Ik(n){return qr(n,"remoteDocumentGlobal")}function od(n){return qr(n,"remoteDocumentsV14")}function Hp(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function kk(n,t){const e=t.documentKey.path.toArray();return[n,Lp(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function wn(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=In(e[s],i[s]),r)return r;return r=In(e.length,i.length),r||(r=In(e[e.length-2],i[i.length-2]),r||In(e[e.length-1],i[i.length-1]))}class Rk{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class gE{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&bl(i.mutation,r,Lo.empty(),qi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Ln()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Ln()){const r=vl();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let a=Fg();return s.forEach((u,h)=>{a=a.insert(u,h.overlayedDocument)}),a}))}getOverlayedDocuments(t,e){const i=vl();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Ln()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,u)=>{e.set(a,u)})})}computeViews(t,e,i,r){let s=uo();const a=Lg(),u=Lg();return e.forEach((h,p)=>{const v=i.get(p.key);r.has(p.key)&&(void 0===v||v.mutation instanceof fo)?s=s.insert(p.key,p):void 0!==v?(a.set(p.key,v.mutation.getFieldMask()),bl(v.mutation,p,v.mutation.getFieldMask(),qi.now())):a.set(p.key,Lo.empty())}),this.recalculateAndSaveOverlays(t,s).next(h=>(h.forEach((p,v)=>a.set(p,v)),e.forEach((p,v)=>{var w;return u.set(p,new Rk(v,null!==(w=a.get(p))&&void 0!==w?w:null))}),u))}recalculateAndSaveOverlays(t,e){const i=Lg();let r=new Bi((a,u)=>a-u),s=Ln();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(a=>{for(const u of a)u.keys().forEach(h=>{const p=e.get(h);if(null===p)return;let v=i.get(h)||Lo.empty();v=u.applyToLocalView(p,v),i.set(h,v);const w=(r.get(u.batchId)||Ln()).add(h);r=r.insert(u.batchId,w)})}).next(()=>{const a=[],u=r.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,v=h.value,w=mk();v.forEach(O=>{if(!s.has(O)){const Y=Qy(e.get(O),i.get(O));null!==Y&&w.set(O,Y),s=s.add(O)}}),a.push(this.documentOverlayCache.saveOverlays(t,p,w))}return ut.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Zt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):PS(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):ut.resolve(vl());let u=-1,h=s;return a.next(p=>ut.forEach(p,(v,w)=>(u<w.largestBatchId&&(u=w.largestBatchId),s.get(v)?ut.resolve():this.remoteDocumentCache.getEntry(t,v).next(O=>{h=h.insert(v,O)}))).next(()=>this.populateOverlays(t,p,s)).next(()=>this.computeViews(t,h,p,Ln())).next(v=>({batchId:u,changes:pk(v)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Zt(e)).next(i=>{let r=Fg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=Fg();return this.indexManager.getCollectionParents(t,r).next(a=>ut.forEach(a,u=>{const h=(p=e,v=u.child(r),new xc(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,v;return this.getDocumentsMatchingCollectionQuery(t,h,i).next(p=>{p.forEach((v,w)=>{s=s.insert(v,w)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(s=>{r.forEach((u,h)=>{const p=h.getKey();null===s.get(p)&&(s=s.insert(p,Ui.newInvalidDocument(p)))});let a=Fg();return s.forEach((u,h)=>{const p=r.get(u);void 0!==p&&bl(p.mutation,h,Lo.empty(),qi.now()),td(e,h)&&(a=a.insert(u,h))}),a})}}class Ok{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return ut.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:pr(i.createTime)}),ut.resolve()}getNamedQuery(t,e){return ut.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:Bo(i.bundledQuery),readTime:pr(i.readTime)}),ut.resolve();var i}}class jp{constructor(){this.overlays=new Bi(Zt.comparator),this.ls=new Map}getOverlay(t,e){return ut.resolve(this.overlays.get(e))}getOverlays(t,e){const i=vl();return ut.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.we(t,e,s)}),ut.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),ut.resolve()}getOverlaysForCollection(t,e,i){const r=vl(),s=e.length+1,a=new Zt(e.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===s&&h.largestBatchId>i&&r.set(h.getKey(),h)}return ut.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Bi((p,v)=>p-v);const a=this.overlays.getIterator();for(;a.hasNext();){const p=a.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>i){let v=s.get(p.largestBatchId);null===v&&(v=vl(),s=s.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const u=vl(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,v)=>u.set(p,v)),!(u.size()>=r)););return ut.resolve(u)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const a=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new nv(e,i));let s=this.ls.get(e);void 0===s&&(s=Ln(),this.ls.set(e,s)),this.ls.set(e,s.add(i.key))}}class Uw{constructor(){this.fs=new Zi(vr.ds),this.ws=new Zi(vr._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new vr(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new vr(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new Zt(new ri([])),i=new vr(e,t),r=new vr(e,t+1),s=[];return this.ws.forEachInRange([i,r],a=>{this.ys(a),s.push(a.key)}),s}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new Zt(new ri([])),i=new vr(e,t),r=new vr(e,t+1);let s=Ln();return this.ws.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const e=new vr(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class vr{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return Zt.comparator(t.key,e.key)||In(t.As,e.As)}static _s(t,e){return In(t.As,e.As)||Zt.comparator(t.key,e.key)}}class Ev{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Zi(vr.ds)}checkEmpty(t){return ut.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.vs;this.vs++;const a=new ev(s,e,i,r);this.mutationQueue.push(a);for(const u of r)this.Rs=this.Rs.add(new vr(u.key,s)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ut.resolve(a)}lookupMutationBatch(t,e){return ut.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),s=r<0?0:r;return ut.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new vr(e,0),r=new vr(e,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],a=>{const u=this.Ps(a.As);s.push(u)}),ut.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Zi(In);return e.forEach(r=>{const s=new vr(r,0),a=new vr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,a],u=>{i=i.add(u.As)})}),ut.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Zt.isDocumentKey(s)||(s=s.child(""));const a=new vr(new Zt(s),0);let u=new Zi(In);return this.Rs.forEachWhile(h=>{const p=h.key.path;return!!i.isPrefixOf(p)&&(p.length===r&&(u=u.add(h.As)),!0)},a),ut.resolve(this.Vs(u))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){hn(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ut.forEach(e.mutations,r=>{const s=new vr(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new vr(e,0),r=this.Rs.firstAfterOrEqual(i);return ut.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ut.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class mr{constructor(t){this.Ds=t,this.docs=new Bi(Zt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,a=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ut.resolve(i?i.document.mutableCopy():Ui.newInvalidDocument(e))}getEntries(t,e){let i=uo();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ui.newInvalidDocument(r))}),ut.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=uo();const a=e.path,u=new Zt(a.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:v}}=h.getNext();if(!a.isPrefixOf(p.path))break;p.path.length>a.length+1||cS(lS(v),i)<=0||(r.has(v.key)||td(e,v))&&(s=s.insert(v.key,v.mutableCopy()))}return ut.resolve(s)}getAllFromCollectionGroup(t,e,i,r){rn()}Cs(t,e){return ut.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new eL(this)}getSize(t){return ut.resolve(this.size)}}class eL extends mE{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),ut.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class _E{constructor(t){this.persistence=t,this.xs=new yl(e=>Qu(e),kg),this.lastRemoteSnapshotVersion=fn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Uw,this.targetCount=0,this.Ms=sd.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),ut.resolve()}getLastRemoteSnapshotVersion(t){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ut.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),ut.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new sd(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,ut.resolve()}updateTargetData(t,e){return this.Fn(e),ut.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,ut.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.xs.forEach((a,u)=>{u.sequenceNumber<=e&&null===i.get(u.targetId)&&(this.xs.delete(a),s.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),ut.waitFor(s).next(()=>r)}getTargetCount(t){return ut.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return ut.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),ut.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),ut.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),ut.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return ut.resolve(i)}containsKey(t,e){return ut.resolve(this.ks.containsKey(e))}}class Mv{constructor(t,e){this.$s={},this.overlays={},this.Os=new js(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new _E(this),this.indexManager=new Mk,this.remoteDocumentCache=new mr(i=>this.referenceDelegate.Ls(i)),this.serializer=new Iw(e),this.qs=new Ok(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new jp,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new Ev(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){Pt("MemoryPersistence","Starting transaction:",t);const r=new Pk(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(t,e){return ut.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class Pk extends bh{constructor(t){super(),this.currentSequenceNumber=t}}class $g{constructor(t){this.persistence=t,this.Qs=new Uw,this.js=null}static zs(t){return new $g(t)}get Ws(){if(this.js)return this.js;throw rn()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),ut.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),ut.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),ut.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.Ws,i=>{const r=Zt.fromPath(i);return this.Hs(t,r).next(s=>{s||e.removeEntry(r,fn.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return ut.or([()=>ut.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class yE{constructor(t){this.serializer=t}O(t,e,i,r){const s=new By("createOrUpgrade",e);var u;i<1&&r>=1&&(t.createObjectStore("owner"),(u=t).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Sg,{unique:!0}),u.createObjectStore("documentMutations"),zw(t),function(u){u.createObjectStore("remoteDocuments")}(t));let a=ut.resolve();return i<3&&r>=3&&(0!==i&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(t),zw(t)),a=a.next(()=>function(u){const h=u.store("targetGlobal"),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:fn.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",p)}(s))),i<4&&r>=4&&(0!==i&&(a=a.next(()=>function(u,h){return h.store("mutations").j().next(p=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Sg,{unique:!0});const v=h.store("mutations"),w=p.map(O=>v.put(O));return ut.waitFor(w)})}(t,s))),a=a.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(a=a.next(()=>this.Ys(s))),i<6&&r>=6&&(a=a.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(s)))),i<7&&r>=7&&(a=a.next(()=>this.Zs(s))),i<8&&r>=8&&(a=a.next(()=>this.ti(t,s))),i<9&&r>=9&&(a=a.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(a=a.next(()=>this.ei(s))),i<11&&r>=11&&(a=a.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(a=a.next(()=>{!function(u){const h=u.createObjectStore("documentOverlays",{keyPath:Q0});h.createIndex("collectionPathOverlayIndex",J0,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",ZF,{unique:!1})}(t)})),i<13&&r>=13&&(a=a.next(()=>function(u){const h=u.createObjectStore("remoteDocumentsV14",{keyPath:q0});h.createIndex("documentKeyIndex",gc),h.createIndex("collectionGroupIndex",Z0)}(t)).next(()=>this.ni(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(a=a.next(()=>this.si(t,s))),i<15&&r>=15&&(a=a.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:qF}).createIndex("sequenceNumberIndex",Hy,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:jy}).createIndex("documentKeyIndex",X0,{unique:!1})}(t))),a}Xs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=Cv(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>ut.forEach(r,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",a).next(u=>ut.forEach(u,h=>{hn(h.userId===s.userId);const p=Vh(this.serializer,h);return dE(t,s.userId,p).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((a,u)=>{const h=new ri(a),p=[0,Us(h)];s.push(e.get(p).next(v=>v?ut.resolve():e.put({targetId:0,path:Us(h),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ut.waitFor(s))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:mS});const i=e.store("collectionParents"),r=new Fw,s=a=>{if(r.add(a)){const u=a.lastSegment(),h=a.popLast();return i.put({collectionId:u,parent:Us(h)})}};return e.store("remoteDocuments").X({Y:!0},(a,u)=>{const h=new ri(a);return s(h.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([a,u,h],p)=>{const v=Ta(u);return s(v.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,r)=>{const s=po(r),a=ia(this.serializer,s);return e.put(a)})}ni(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((s,a)=>{const u=e.store("remoteDocumentsV14"),h=(p=a,p.document?new Zt(ri.fromString(p.document.name).popFirst(5)):p.noDocument?Zt.fromSegments(p.noDocument.path):p.unknownDocument?Zt.fromSegments(p.unknownDocument.path):rn()).path.toArray();var p;const v={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(u.put(v))}).next(()=>ut.waitFor(r))}si(t,e){const i=e.store("mutations"),r=Tk(this.serializer),s=new Mv($g.zs,this.serializer.fe);return i.j().next(a=>{const u=new Map;return a.forEach(h=>{var p;let v=null!==(p=u.get(h.userId))&&void 0!==p?p:Ln();Vh(this.serializer,h).keys().forEach(w=>v=v.add(w)),u.set(h.userId,v)}),ut.forEach(u,(h,p)=>{const v=new Yr(p),w=Np.de(this.serializer,v),O=s.getIndexManager(v),Y=xv.de(v,this.serializer,O,s.referenceDelegate);return new gE(r,Y,w,O).recalculateAndSaveOverlaysForDocumentKeys(new bS(e,js.ct),h).next()})})}}function zw(n){n.createObjectStore("targetDocuments",{keyPath:K0}).createIndex("documentTargetsIndex",YF,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",pS,{unique:!0}),n.createObjectStore("targetGlobal")}const Gw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $w{constructor(t,e,i,r,s,a,u,h,p,v,w=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=s,this.window=a,this.document=u,this.ri=p,this.oi=v,this.ui=w,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=O=>Promise.resolve(),!$w.D())throw new St(gt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Uh(this,r),this.di=e+"main",this.serializer=new Iw(h),this.wi=new na(this.di,this.ui,new yE(this.serializer)),this.Bs=new fE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Tk(this.serializer),this.qs=new Ek,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===v&&Ir("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new St(gt.FAILED_PRECONDITION,Gw);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new js(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,vt.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,vt.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,vt.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>ad(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(qu(t))return Pt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Pt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return Yg(t).get("owner").next(e=>ut.resolve(this.Ri(e)))}Pi(t){return ad(t).delete(this.clientId)}bi(){var t=this;return(0,vt.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=qr(i,"clientMetadata");return r.j().next(s=>{const a=t.Si(s,18e5),u=s.filter(h=>-1===a.indexOf(h));return ut.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?ut.resolve(!0):Yg(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new St(gt.FAILED_PRECONDITION,Gw);return!1}}return!(!this.networkEnabled||!this.inForeground)||ad(t).j().next(i=>void 0===this.Si(i,5e3).find(r=>{if(this.clientId!==r.clientId){const a=!this.inForeground&&r.inForeground,u=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||a&&u)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Pt("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,vt.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new bS(e,js.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>ad(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return xv.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Ak(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return Np.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){Pt("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(a=this.ui)?vS:14===a?yS:13===a?_S:12===a?ik:11===a?gS:void rn();var a;let u;return this.wi.runTransaction(t,r,s,h=>(u=new bS(h,this.Os?this.Os.next():js.ct),"readwrite-primary"===e?this.Ti(u).next(p=>!!p||this.Ei(u)).next(p=>{if(!p)throw Ir(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new St(gt.FAILED_PRECONDITION,uS);return i(u)}).next(p=>this.vi(u).next(()=>p)):this.Oi(u).next(()=>i(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}Oi(t){return Yg(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new St(gt.FAILED_PRECONDITION,Gw)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yg(t).put("owner",e)}static D(){return na.D()}Ai(t){const e=Yg(t);return e.get("owner").next(i=>this.Ri(i)?(Pt("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ut.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Ir(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,Nn.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return Pt("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ir("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){Ir("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Yg(n){return qr(n,"owner")}function ad(n){return qr(n,"clientMetadata")}function Ww(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class Yw{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=Ln(),r=Ln();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Yw(t,e.fromCache,i,r)}}class vE{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(s=>s||this.Gi(t,e,r,i)).next(s=>s||this.Qi(t,e))}Ki(t,e){if(Og(e))return ut.resolve(null);let i=Ds(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Pg(e,null,"F"),i=Ds(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=Ln(...s);return this.Ui.getDocuments(t,a).next(u=>this.indexManager.getMinOffset(t,i).next(h=>{const p=this.ji(e,u);return this.zi(e,p,a,h.readTime)?this.Ki(t,Pg(e,null,"F")):this.Wi(t,p,e,h)}))})))}Gi(t,e,i,r){return Og(e)||r.isEqual(fn.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(s=>{const a=this.ji(e,s);return this.zi(e,a,i,r)?this.Qi(t,e):(Py()<=Yo.in.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ap(e)),this.Wi(t,a,e,JI(r,-1)))})}ji(t,e){let i=new Zi(FS(t));return e.forEach((r,s)=>{td(t,s)&&(i=i.add(s))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(t,e){return Py()<=Yo.in.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",Ap(e)),this.Ui.getDocumentsMatchingQuery(t,e,lo.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(a=>{s=s.insert(a.key,a)}),s))}}class Av{constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new Bi(In),this.Yi=new yl(s=>Qu(s),kg),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new gE(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function qw(n,t,e,i){return new Av(n,t,e,i)}function Zw(n,t){return Tv.apply(this,arguments)}function Tv(){return Tv=(0,vt.Z)(function*(n,t){const e=Ut(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],u=[];let h=Ln();for(const p of r){a.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}for(const p of s){u.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}return e.localDocuments.getDocuments(i,h).next(p=>({er:p,removedBatchIds:a,addedBatchIds:u}))})})}),Tv.apply(this,arguments)}function Fk(n,t){const e=Ut(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Zi.newChangeBuffer({trackRemovals:!0});return function(a,u,h,p){const v=h.batch,w=v.keys();let O=ut.resolve();return w.forEach(Y=>{O=O.next(()=>p.getEntry(u,Y)).next(he=>{const _e=h.docVersions.get(Y);hn(null!==_e),he.version.compareTo(_e)<0&&(v.applyToRemoteDocument(he,h),he.isValidDocument()&&(he.setReadTime(h.commitVersion),p.addEntry(he)))})}),O.next(()=>a.mutationQueue.removeMutationBatch(u,v))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let u=Ln();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(u=u.add(a.batch.mutations[h].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function Up(n){const t=Ut(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function qg(n,t){const e=Ut(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const u=[];t.targetChanges.forEach((v,w)=>{const O=r.get(w);if(!O)return;u.push(e.Bs.removeMatchingKeys(s,v.removedDocuments,w).next(()=>e.Bs.addMatchingKeys(s,v.addedDocuments,w)));let Y=O.withSequenceNumber(s.currentSequenceNumber);var he,_e,ke;null!==t.targetMismatches.get(w)?Y=Y.withResumeToken(Zr.EMPTY_BYTE_STRING,fn.min()).withLastLimboFreeSnapshotVersion(fn.min()):v.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(v.resumeToken,i)),r=r.insert(w,Y),_e=Y,ke=v,(0===(he=O).resumeToken.approximateByteSize()||_e.snapshotVersion.toMicroseconds()-he.snapshotVersion.toMicroseconds()>=3e8||ke.addedDocuments.size+ke.modifiedDocuments.size+ke.removedDocuments.size>0)&&u.push(e.Bs.updateTargetData(s,Y))});let h=uo(),p=Ln();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(s,v))}),u.push(bE(s,a,t.documentUpdates).next(v=>{h=v.nr,p=v.sr})),!i.isEqual(fn.min())){const v=e.Bs.getLastRemoteSnapshotVersion(s).next(w=>e.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));u.push(v)}return ut.waitFor(u).next(()=>a.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,h,p)).next(()=>h)}).then(s=>(e.Ji=r,s))}function bE(n,t,e){let i=Ln(),r=Ln();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let a=uo();return e.forEach((u,h)=>{const p=s.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(r=r.add(u)),h.isNoDocument()&&h.version.isEqual(fn.min())?(t.removeEntry(u,h.readTime),a=a.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||0===h.version.compareTo(p.version)&&p.hasPendingWrites?(t.addEntry(h),a=a.insert(u,h)):Pt("LocalStore","Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)}),{nr:a,sr:r}})}function Lk(n,t){const e=Ut(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function zp(n,t){const e=Ut(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(s=>s?(r=s,ut.resolve(r)):e.Bs.allocateTargetId(i).next(a=>(r=new Ec(t,a,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function zh(n,t,e){return Iv.apply(this,arguments)}function Iv(){return Iv=(0,vt.Z)(function*(n,t,e){const i=Ut(n),r=i.Ji.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!qu(a))throw a;Pt("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),Iv.apply(this,arguments)}function Zg(n,t,e){const i=Ut(n);let r=fn.min(),s=Ln();return i.persistence.runTransaction("Execute query","readonly",a=>function(u,h,p){const v=Ut(u),w=v.Yi.get(p);return void 0!==w?ut.resolve(v.Ji.get(w)):v.Bs.getTargetData(h,p)}(i,a,Ds(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(a,u.targetId).next(h=>{s=h})}).next(()=>i.Hi.getDocumentsMatchingQuery(a,t,e?r:fn.min(),e?s:Ln())).next(u=>(CE(i,Tp(t),u),{documents:u,ir:s})))}function wE(n,t){const e=Ut(n),i=Ut(e.Bs),r=e.Ji.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.le(s,t).next(a=>a?a.target:null))}function Kw(n,t){const e=Ut(n),i=e.Xi.get(t)||fn.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Zi.getAllFromCollectionGroup(r,t,JI(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(CE(e,t,r),r))}function CE(n,t,e){let i=n.Xi.get(t)||fn.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(t,i)}function xE(){return xE=(0,vt.Z)(function*(n,t,e,i){const r=Ut(n);let s=Ln(),a=uo();for(const p of e){const v=t.rr(p.metadata.name);p.document&&(s=s.add(v));const w=t.ur(p);w.setReadTime(t.cr(p.metadata.readTime)),a=a.insert(v,w)}const u=r.Zi.newChangeBuffer({trackRemovals:!0}),h=yield zp(r,(p=i,Ds(Ju(ri.fromString(`__bundle__/docs/${p}`)))));var p;return r.persistence.runTransaction("Apply bundle documents","readwrite",p=>bE(p,u,a).next(v=>(u.apply(p),v)).next(v=>r.Bs.removeMatchingKeysForTargetId(p,h.targetId).next(()=>r.Bs.addMatchingKeys(p,s,h.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(p,v.nr,v.sr)).next(()=>v.nr)))}),xE.apply(this,arguments)}function tL(n,t){return DE.apply(this,arguments)}function DE(){return DE=(0,vt.Z)(function*(n,t,e=Ln()){const i=yield zp(n,Ds(Bo(t.bundledQuery))),r=Ut(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const a=pr(t.readTime);if(i.snapshotVersion.compareTo(a)>=0)return r.qs.saveNamedQuery(s,t);const u=i.withResumeToken(Zr.EMPTY_BYTE_STRING,a);return r.Ji=r.Ji.insert(u.targetId,u),r.Bs.updateTargetData(s,u).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,e,i.targetId)).next(()=>r.qs.saveNamedQuery(s,t))})}),DE.apply(this,arguments)}function Bk(n,t){return`firestore_clients_${n}_${t}`}function Xw(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function Gp(n,t){return`firestore_targets_${n}_${t}`}class kv{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static ar(t,e,i){const r=JSON.parse(i);let s,a="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(s=new St(r.error.code,r.error.message))),a?new kv(t,e,r.state,s):(Ir("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Kg{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new St(i.error.code,i.error.message))),s?new Kg(t,i.state,r):(Ir("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Xg{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=fw();for(let a=0;r&&a<i.activeTargetIds.length;++a)r=fS(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return r?new Xg(t,s):(Ir("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class Gh{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Gh(e.clientId,e.onlineState):(Ir("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Qw{constructor(){this.activeTargetIds=fw()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Jw{constructor(t,e,i,r,s){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Bi(In),this.started=!1,this.yr=[];const a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=Bk(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Qw),this.Tr=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,vt.Z)(function*(){const e=yield t.syncEngine.$i();for(const r of e){if(r===t.wr)continue;const s=t.getItem(Bk(t.persistenceKey,r));if(s){const a=Xg.ar(r,s);a&&(t.gr=t.gr.insert(a.clientId,a))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const r=t.br(i);r&&t.Vr(r)}for(const r of t.yr)t.mr(r);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(Gp(this.persistenceKey,t));if(i){const r=Kg.ar(t,i);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Gp(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Cr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Pt("SharedClientState","READ",t,e),e}setItem(t,e){Pt("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Pt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Pt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void Ir("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,vt.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.Fr(r,null)}{const r=e.Br(i.key,i.newValue);if(r)return e.Fr(r.clientId,r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.Lr(i.key,i.newValue);if(r)return e.qr(r)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const r=e.Ur(i.key,i.newValue);if(r)return e.Kr(r)}}else if(i.key===e.vr){if(null!==i.newValue){const r=e.br(i.newValue);if(r)return e.Vr(r)}}else if(i.key===e.Ir){const r=function(s){let a=js.ct;if(null!=s)try{const u=JSON.parse(s);hn("number"==typeof u),a=u}catch(u){Ir("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(i.newValue);r!==js.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Gr(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Qr(s)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const r=new kv(this.currentUser,t,e,i),s=Xw(this.persistenceKey,this.currentUser,t);this.setItem(s,r.hr())}Cr(t){const e=Xw(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const r=Gp(this.persistenceKey,t),s=new Kg(t,e,i);this.setItem(r,s.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return Xg.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return kv.ar(new Yr(void 0!==i[2]?i[2]:null),r,e)}Ur(t,e){const i=this.Ar.exec(t),r=Number(i[1]);return Kg.ar(r,e)}br(t){return Gh.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,vt.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);Pt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),s=this.Sr(i),a=[],u=[];return s.forEach(h=>{r.has(h)||a.push(h)}),r.forEach(h=>{s.has(h)||u.push(h)}),this.syncEngine.Wr(a,u).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=fw();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class SE{constructor(){this.Hr=new Qw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new Qw,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Vk{Yr(t){}shutdown(){}}class EE{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Pt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Pt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qg=null;function eC(){return null===Qg?Qg=268435456+Math.round(2147483648*Math.random()):Qg++,"0x"+Qg.toString(16)}const Hk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jg{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const As="WebChannelConnection";class ME extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,s){const a=eC(),u=this.To(t,e);Pt("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const h={};return this.Eo(h,r,s),this.Ao(t,u,h,i).then(p=>(Pt("RestConnection",`Received RPC '${t}' ${a}: `,p),p),p=>{throw Fo("RestConnection",`RPC '${t}' ${a} failed with error: `,p,"url: ",u,"request:",i),p})}vo(t,e,i,r,s,a){return this.Io(t,e,i,r,s)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Cg,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}To(t,e){return`${this.mo}/v1/${e}:${Hk[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const s=eC();return new Promise((a,u)=>{const h=new WI;h.setWithCredentials(!0),h.listenOnce(zI.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case B0.NO_ERROR:const v=h.getResponseJson();Pt(As,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(v)),a(v);break;case B0.TIMEOUT:Pt(As,`RPC '${t}' ${s} timed out`),u(new St(gt.DEADLINE_EXCEEDED,"Request time out"));break;case B0.HTTP_ERROR:const w=h.getStatus();if(Pt(As,`RPC '${t}' ${s} failed with status:`,w,"response text:",h.getResponseText()),w>0){let O=h.getResponseJson();Array.isArray(O)&&(O=O[0]);const Y=O?.error;if(Y&&Y.status&&Y.message){const he=function(_e){const ke=_e.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(ke)>=0?ke:gt.UNKNOWN}(Y.status);u(new St(he,Y.message))}else u(new St(gt.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new St(gt.UNAVAILABLE,"Connection failed."));break;default:rn()}}finally{Pt(As,`RPC '${t}' ${s} completed.`)}});const p=JSON.stringify(r);Pt(As,`RPC '${t}' ${s} sending request:`,r),h.send(e,"POST",p,i,15)})}Ro(t,e,i){const r=eC(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=N0(),u=wg(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;void 0!==p&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.xmlHttpFactory=new $I({})),this.Eo(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const v=s.join("");Pt(As,`Creating RPC '${t}' stream ${r}: ${v}`,h);const w=a.createWebChannel(v,h);let O=!1,Y=!1;const he=new Jg({ro:ke=>{Y?Pt(As,`Not sending because RPC '${t}' stream ${r} is closed:`,ke):(O||(Pt(As,`Opening RPC '${t}' stream ${r} transport.`),w.open(),O=!0),Pt(As,`RPC '${t}' stream ${r} sending:`,ke),w.send(ke))},oo:()=>w.close()}),_e=(ke,We,Je)=>{ke.listen(We,ct=>{try{Je(ct)}catch(ht){setTimeout(()=>{throw ht},0)}})};return _e(w,Oy.EventType.OPEN,()=>{Y||Pt(As,`RPC '${t}' stream ${r} transport opened.`)}),_e(w,Oy.EventType.CLOSE,()=>{Y||(Y=!0,Pt(As,`RPC '${t}' stream ${r} transport closed`),he.wo())}),_e(w,Oy.EventType.ERROR,ke=>{Y||(Y=!0,Fo(As,`RPC '${t}' stream ${r} transport errored:`,ke),he.wo(new St(gt.UNAVAILABLE,"The operation could not be completed")))}),_e(w,Oy.EventType.MESSAGE,ke=>{var We;if(!Y){const Je=ke.data[0];hn(!!Je);const ct=Je,ht=ct.error||(null===(We=ct[0])||void 0===We?void 0:We.error);if(ht){Pt(As,`RPC '${t}' stream ${r} received error:`,ht);const ft=ht.status;let xt=function(Vt){const un=_r[Vt];if(void 0!==un)return GS(un)}(ft),Tt=ht.message;void 0===xt&&(xt=gt.INTERNAL,Tt="Unknown error status: "+ft+" with message "+ht.message),Y=!0,he.wo(new St(xt,Tt)),w.close()}else Pt(As,`RPC '${t}' stream ${r} received:`,Je),he._o(Je)}}),_e(u,GI.STAT_EVENT,ke=>{ke.stat===nS.PROXY?Pt(As,`RPC '${t}' stream ${r} detected buffering proxy`):ke.stat===nS.NOPROXY&&Pt(As,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{he.fo()},0),he}}function AE(){return typeof window<"u"?window:null}function e_(){return typeof document<"u"?document:null}function t_(n){return new WS(n,!0)}class Rv{constructor(t,e,i=1e3,r=1.5,s=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&Pt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class TE{constructor(t,e,i,r,s,a,u,h){this.ii=t,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Rv(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,vt.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,vt.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,vt.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===gt.RESOURCE_EXHAUSTED?(Ir(e.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===gt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new St(gt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,vt.Z)(function*(){t.state=0,t.start()}))}tu(t){return Pt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(Pt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tC extends TE{constructor(t,e,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,a),this.serializer=s}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function QF(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(h=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===h?1:"REMOVE"===h?2:"CURRENT"===h?3:"RESET"===h?4:rn(),r=t.targetChange.targetIds||[],s=function(h,p){return h.useProto3Json?(hn(void 0===p||"string"==typeof p),Zr.fromBase64String(p||"")):(hn(void 0===p||p instanceof Uint8Array),Zr.fromUint8Array(p||new Uint8Array))}(n,t.targetChange.resumeToken),a=t.targetChange.cause,u=a&&function(h){const p=void 0===h.code?gt.UNKNOWN:GS(h.code);return new St(p,h.message||"")}(a);e=new ov(i,r,s,u||null)}else if("documentChange"in t){const i=t.documentChange,r=Fa(n,i.document.name),s=pr(i.document.updateTime),a=i.document.createTime?pr(i.document.createTime):fn.min(),u=new hs({mapValue:{fields:i.document.fields}}),h=Ui.newFoundDocument(r,s,a,u);e=new Fh(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=Fa(n,i.document),s=i.readTime?pr(i.readTime):fn.min(),a=Ui.newNoDocument(r,s);e=new Fh([],i.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){const i=t.documentRemove,r=Fa(n,i.document);e=new Fh([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return rn();{const i=t.filter,{count:r=0,unchangedNames:s}=i,a=new US(r,s);e=new Vg(i.targetId,a)}}var h;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return fn.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?fn.min():s.readTime?pr(s.readTime):fn.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=Fp(this.serializer),e.addTarget=function(r,s){let a;const u=s.target;if(a=$y(u)?{documents:ZS(r,u)}:{query:yr(r,u)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Cw(r,s.resumeToken);const h=av(r,s.expectedCount);null!==h&&(a.expectedCount=h)}else if(s.snapshotVersion.compareTo(fn.min())>0){a.readTime=Lh(r,s.snapshotVersion.toTimestamp());const h=av(r,s.expectedCount);null!==h&&(a.expectedCount=h)}return a}(this.serializer,t);const i=function xk(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rn()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=Fp(this.serializer),e.removeTarget=t,this.Wo(e)}}class jk extends TE{constructor(t,e,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,a),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(hn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function qS(n,t){return n&&n.length>0?(hn(void 0!==t),n.map(e=>function(i,r){let s=pr(i.updateTime?i.updateTime:r);return s.isEqual(fn.min())&&(s=pr(r)),new Ss(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=pr(t.commitTime);return this.listener.cu(i,e)}return hn(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=Fp(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Hg(this.serializer,i))};this.Wo(e)}}class IE extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new St(gt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new St(gt.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(t,e,i,s,a,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new St(gt.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Uk{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ir(e),this.mu=!1):Pt("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class zk{constructor(t,e,i,r,s){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(u=>{i.enqueueAndForget((0,vt.Z)(function*(){var h;ld(a)&&(Pt("RemoteStore","Restarting streams for network reachability change."),yield(h=(0,vt.Z)(function*(p){const v=Ut(p);v.vu.add(4),yield Wh(v),v.bu.set("Unknown"),v.vu.delete(4),yield $h(v)}),function(p){return h.apply(this,arguments)})(a))}))}),this.bu=new Uk(i,r)}}function $h(n){return iC.apply(this,arguments)}function iC(){return iC=(0,vt.Z)(function*(n){if(ld(n))for(const t of n.Ru)yield t(!0)}),iC.apply(this,arguments)}function Wh(n){return rC.apply(this,arguments)}function rC(){return rC=(0,vt.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),rC.apply(this,arguments)}function Ov(n,t){const e=Ut(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),aC(e)?oC(e):qh(e).Ko()&&sC(e,t))}function n_(n,t){const e=Ut(n),i=qh(e);e.Au.delete(t),i.Ko()&&RE(e,t),0===e.Au.size&&(i.Ko()?i.jo():ld(e)&&e.bu.set("Unknown"))}function sC(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(fn.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}qh(n).su(t)}function RE(n,t){n.Vu.qt(t),qh(n).iu(t)}function oC(n){n.Vu=new _w({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),qh(n).start(),n.bu.gu()}function aC(n){return ld(n)&&!qh(n).Uo()&&n.Au.size>0}function ld(n){return 0===Ut(n).vu.size}function lC(n){n.Vu=void 0}function OE(n){return cC.apply(this,arguments)}function cC(){return cC=(0,vt.Z)(function*(n){n.Au.forEach((t,e)=>{sC(n,t)})}),cC.apply(this,arguments)}function Gk(n,t){return Pv.apply(this,arguments)}function Pv(){return Pv=(0,vt.Z)(function*(n,t){lC(n),aC(n)?(n.bu.Iu(t),oC(n)):n.bu.set("Unknown")}),Pv.apply(this,arguments)}function $k(n,t,e){return uC.apply(this,arguments)}function uC(){return uC=(0,vt.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof ov&&2===t.state&&t.cause)try{yield(i=(0,vt.Z)(function*(r,s){const a=s.cause;for(const u of s.targetIds)r.Au.has(u)&&(yield r.remoteSyncer.rejectListen(u,a),r.Au.delete(u),r.Vu.removeTarget(u))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Pt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield Fv(n,i)}else if(t instanceof Fh?n.Vu.Ht(t):t instanceof Vg?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(fn.min()))try{const i=yield Up(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const a=r.Vu.ce(s);return a.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const p=r.Au.get(h);p&&r.Au.set(h,p.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,h)=>{const p=r.Au.get(u);if(!p)return;r.Au.set(u,p.withResumeToken(Zr.EMPTY_BYTE_STRING,p.snapshotVersion)),RE(r,u);const v=new Ec(p.target,u,h,p.sequenceNumber);sC(r,v)}),r.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){Pt("RemoteStore","Failed to raise snapshot:",i),yield Fv(n,i)}var i}),uC.apply(this,arguments)}function Fv(n,t,e){return i_.apply(this,arguments)}function i_(){return i_=(0,vt.Z)(function*(n,t,e){if(!qu(t))throw t;n.vu.add(1),yield Wh(n),n.bu.set("Offline"),e||(e=()=>Up(n.localStore)),n.asyncQueue.enqueueRetryable((0,vt.Z)(function*(){Pt("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield $h(n)}))}),i_.apply(this,arguments)}function Lv(n,t){return t().catch(e=>Fv(n,e,t))}function Yh(n){return r_.apply(this,arguments)}function r_(){return r_=(0,vt.Z)(function*(n){const t=Ut(n),e=Ic(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Wk(t);)try{const r=yield Lk(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,Yk(t,r)}catch(r){yield Fv(t,r)}Nv(t)&&PE(t)}),r_.apply(this,arguments)}function Wk(n){return ld(n)&&n.Eu.length<10}function Yk(n,t){n.Eu.push(t);const e=Ic(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function Nv(n){return ld(n)&&!Ic(n).Uo()&&n.Eu.length>0}function PE(n){Ic(n).start()}function FE(n){return cd.apply(this,arguments)}function cd(){return cd=(0,vt.Z)(function*(n){Ic(n).hu()}),cd.apply(this,arguments)}function LE(n){return dC.apply(this,arguments)}function dC(){return dC=(0,vt.Z)(function*(n){const t=Ic(n);for(const e of n.Eu)t.uu(e.mutations)}),dC.apply(this,arguments)}function nL(n,t,e){return Bv.apply(this,arguments)}function Bv(){return Bv=(0,vt.Z)(function*(n,t,e){const i=n.Eu.shift(),r=tv.from(i,t,e);yield Lv(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Yh(n)}),Bv.apply(this,arguments)}function hC(n,t){return fC.apply(this,arguments)}function fC(){return fC=(0,vt.Z)(function*(n,t){var e;t&&Ic(n).ou&&(yield(e=(0,vt.Z)(function*(i,r){if(zS(s=r.code)&&s!==gt.ABORTED){const a=i.Eu.shift();Ic(i).Qo(),yield Lv(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),yield Yh(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),Nv(n)&&PE(n)}),fC.apply(this,arguments)}function Vv(n,t){return pC.apply(this,arguments)}function pC(){return pC=(0,vt.Z)(function*(n,t){const e=Ut(n);e.asyncQueue.verifyOperationInProgress(),Pt("RemoteStore","RemoteStore received new credentials");const i=ld(e);e.vu.add(3),yield Wh(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield $h(e)}),pC.apply(this,arguments)}function Hv(n,t){return s_.apply(this,arguments)}function s_(){return s_=(0,vt.Z)(function*(n,t){const e=Ut(n);t?(e.vu.delete(2),yield $h(e)):t||(e.vu.add(2),yield Wh(e),e.bu.set("Unknown"))}),s_.apply(this,arguments)}function qh(n){return n.Su||(n.Su=function(t,e,i){const r=Ut(t);return r.fu(),new tC(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:OE.bind(null,n),ao:Gk.bind(null,n),nu:$k.bind(null,n)}),n.Ru.push(function(){var t=(0,vt.Z)(function*(e){e?(n.Su.Qo(),aC(n)?oC(n):n.bu.set("Unknown")):(yield n.Su.stop(),lC(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function Ic(n){return n.Du||(n.Du=function(t,e,i){const r=Ut(t);return r.fu(),new jk(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:FE.bind(null,n),ao:hC.bind(null,n),au:LE.bind(null,n),cu:nL.bind(null,n)}),n.Ru.push(function(){var t=(0,vt.Z)(function*(e){e?(n.Du.Qo(),yield Yh(n)):(yield n.Du.stop(),n.Eu.length>0&&(Pt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class jv{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(t,e,i,r,s){const a=Date.now()+i,u=new jv(t,e,a,r,s);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new St(gt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zh(n,t){if(Ir("AsyncQueue",`${t}: ${n}`),qu(n))return new St(gt.UNAVAILABLE,`${t}: ${n}`);throw n}class $p{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Zt.comparator(e.key,i.key):(e,i)=>Zt.comparator(e.key,i.key),this.keyedMap=Fg(),this.sortedSet=new Bi(this.comparator)}static emptySet(t){return new $p(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof $p)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new $p;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class NE{constructor(){this.Cu=new Bi(Zt.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):rn():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Wp{constructor(t,e,i,r,s,a,u,h,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(t,e,i,r,s){const a=[];return e.forEach(u=>{a.push({type:0,doc:u})}),new Wp(t,e,$p.emptySet(e),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class qk{constructor(){this.Nu=void 0,this.listeners=[]}}class BE{constructor(){this.queries=new yl(t=>_l(t),Mh),this.onlineState="Unknown",this.ku=new Set}}function VE(n,t){return Uv.apply(this,arguments)}function Uv(){return Uv=(0,vt.Z)(function*(n,t){const e=Ut(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new qk),r)try{s.Nu=yield e.onListen(i)}catch(a){const u=Zh(a,`Initialization of query '${Ap(t.query)}' failed`);return void t.onError(u)}e.queries.set(i,s),s.listeners.push(t),t.Mu(e.onlineState),s.Nu&&t.$u(s.Nu)&&_C(e)}),Uv.apply(this,arguments)}function mC(n,t){return gC.apply(this,arguments)}function gC(){return gC=(0,vt.Z)(function*(n,t){const e=Ut(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const a=s.listeners.indexOf(t);a>=0&&(s.listeners.splice(a,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),gC.apply(this,arguments)}function iL(n,t){const e=Ut(n);let i=!1;for(const r of t){const a=e.queries.get(r.query);if(a){for(const u of a.listeners)u.$u(r)&&(i=!0);a.Nu=r}}i&&_C(e)}function rL(n,t,e){const i=Ut(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function _C(n){n.ku.forEach(t=>{t.next()})}class yC{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Wp(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=Wp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class HE{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class vC{constructor(t){this.serializer=t}rr(t){return Fa(this.serializer,t)}ur(t){return t.metadata.exists?Ew(this.serializer,t.document,!1):Ui.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return pr(t)}}class Zk{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=jE(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=ri.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new vC(this.serializer);for(const r of t)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const a of r.metadata.queries){const u=(e.get(a)||Ln()).add(s);e.set(a,u)}}return e}complete(){var t=this;return(0,vt.Z)(function*(){const e=yield function Nk(n,t,e,i){return xE.apply(this,arguments)}(t.localStore,new vC(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const r of t.queries)yield tL(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function jE(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class UE{constructor(t){this.key=t}}class zE{constructor(t){this.key=t}}class GE{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ln(),this.mutatedKeys=Ln(),this.tc=FS(t),this.ec=new $p(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new NE,r=e?e.ec:this.ec;let s=e?e.mutatedKeys:this.mutatedKeys,a=r,u=!1;const h="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,p="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((v,w)=>{const O=r.get(v),Y=td(this.query,w)?w:null,he=!!O&&this.mutatedKeys.has(O.key),_e=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let ke=!1;O&&Y?O.data.isEqual(Y.data)?he!==_e&&(i.track({type:3,doc:Y}),ke=!0):this.rc(O,Y)||(i.track({type:2,doc:Y}),ke=!0,(h&&this.tc(Y,h)>0||p&&this.tc(Y,p)<0)&&(u=!0)):!O&&Y?(i.track({type:0,doc:Y}),ke=!0):O&&!Y&&(i.track({type:1,doc:O}),ke=!0,(h||p)&&(u=!0)),ke&&(Y?(a=a.add(Y),s=_e?s.add(v):s.delete(v)):(a=a.delete(v),s=s.delete(v)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const v="F"===this.query.limitType?a.last():a.first();a=a.delete(v.key),s=s.delete(v.key),i.track({type:1,doc:v})}return{ec:a,ic:i,zi:u,mutatedKeys:s}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const s=t.ic.xu();s.sort((p,v)=>function(w,O){const Y=he=>{switch(he){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rn()}};return Y(w)-Y(O)}(p.type,v.type)||this.tc(p.doc,v.doc)),this.oc(i);const a=e?this.uc():[],u=0===this.Zu.size&&this.current?1:0,h=u!==this.Xu;return this.Xu=u,0!==s.length||h?{snapshot:new Wp(this.query,t.ec,r,s,t.mutatedKeys,0===u,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new NE,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=Ln(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new zE(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new UE(i))}),e}hc(t){this.Yu=t.ir,this.Zu=Ln();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return Wp.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Kk{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Xk{constructor(t){this.key=t,this.fc=!1}}class Qk{constructor(t,e,i,r,s,a){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new yl(u=>_l(u),Mh),this._c=new Map,this.mc=new Set,this.gc=new Bi(Zt.comparator),this.yc=new Map,this.Ic=new Uw,this.Tc={},this.Ec=new Map,this.Ac=sd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function o_(n,t){return zv.apply(this,arguments)}function zv(){return zv=(0,vt.Z)(function*(n,t){const e=Jv(n);let i,r;const s=e.wc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const a=yield zp(e.localStore,Ds(t)),u=e.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield Gv(e,t,i,"current"===u,a.resumeToken),e.isPrimaryClient&&Ov(e.remoteStore,a)}return r}),zv.apply(this,arguments)}function Gv(n,t,e,i,r){return $v.apply(this,arguments)}function $v(){return $v=(0,vt.Z)(function*(n,t,e,i,r){n.Rc=(w,O,Y)=>{return(he=(0,vt.Z)(function*(_e,ke,We,Je){let ct=ke.view.sc(We);ct.zi&&(ct=yield Zg(_e.localStore,ke.query,!1).then(({documents:xt})=>ke.view.sc(xt,ct)));const ht=Je&&Je.targetChanges.get(ke.targetId),ft=ke.view.applyChanges(ct,_e.isPrimaryClient,ht);return xC(_e,ke.targetId,ft.cc),ft.snapshot}),function(_e,ke,We,Je){return he.apply(this,arguments)})(n,w,O,Y);var he};const s=yield Zg(n.localStore,t,!0),a=new GE(t,s.ir),u=a.sc(s.documents),h=Bg.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),p=a.applyChanges(u,n.isPrimaryClient,h);xC(n,e,p.cc);const v=new Kk(t,e,a);return n.wc.set(t,v),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),p.snapshot}),$v.apply(this,arguments)}function $E(n,t){return Wv.apply(this,arguments)}function Wv(){return Wv=(0,vt.Z)(function*(n,t){const e=Ut(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(s=>!Mh(s,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield zh(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),n_(e.remoteStore,i.targetId),qp(e,i.targetId)}).catch(Yu))):(qp(e,i.targetId),yield zh(e.localStore,i.targetId,!0))}),Wv.apply(this,arguments)}function bC(){return bC=(0,vt.Z)(function*(n,t,e){const i=eb(n);try{const r=yield function(s,a){const u=Ut(s),h=qi.now(),p=a.reduce((O,Y)=>O.add(Y.key),Ln());let v,w;return u.persistence.runTransaction("Locally write mutations","readwrite",O=>{let Y=uo(),he=Ln();return u.Zi.getEntries(O,p).next(_e=>{Y=_e,Y.forEach((ke,We)=>{We.isValidDocument()||(he=he.add(ke))})}).next(()=>u.localDocuments.getOverlayedDocuments(O,Y)).next(_e=>{v=_e;const ke=[];for(const We of a){const Je=Op(We,v.get(We.key).overlayedDocument);null!=Je&&ke.push(new fo(We.key,Je,iw(Je.value.mapValue),mi.exists(!0)))}return u.mutationQueue.addMutationBatch(O,h,ke,a)}).next(_e=>{w=_e;const ke=_e.applyToLocalDocumentSet(v,he);return u.documentOverlayCache.saveOverlays(O,_e.batchId,ke)})}).then(()=>({batchId:w.batchId,changes:pk(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,u){let h=s.Tc[s.currentUser.toKey()];h||(h=new Bi(In)),h=h.insert(a,u),s.Tc[s.currentUser.toKey()]=h}(i,r.batchId,e),yield kc(i,r.changes),yield Yh(i.remoteStore)}catch(r){const s=Zh(r,"Failed to persist write");e.reject(s)}}),bC.apply(this,arguments)}function Jk(n,t){return Yv.apply(this,arguments)}function Yv(){return Yv=(0,vt.Z)(function*(n,t){const e=Ut(n);try{const i=yield qg(e.localStore,t);t.targetChanges.forEach((r,s)=>{const a=e.yc.get(s);a&&(hn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.fc=!0:r.modifiedDocuments.size>0?hn(a.fc):r.removedDocuments.size>0&&(hn(a.fc),a.fc=!1))}),yield kc(e,i,t)}catch(i){yield Yu(i)}}),Yv.apply(this,arguments)}function YE(n,t,e){const i=Ut(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((s,a)=>{const u=a.view.Mu(t);u.snapshot&&r.push(u.snapshot)}),function(s,a){const u=Ut(s);u.onlineState=a;let h=!1;u.queries.forEach((p,v)=>{for(const w of v.listeners)w.Mu(a)&&(h=!0)}),h&&_C(u)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function e1(n,t,e){return wC.apply(this,arguments)}function wC(){return wC=(0,vt.Z)(function*(n,t,e){const i=Ut(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),s=r&&r.key;if(s){let a=new Bi(Zt.comparator);a=a.insert(s,Ui.newNoDocument(s,fn.min()));const u=Ln().add(s),h=new Ph(fn.min(),new Map,new Bi(In),a,u);yield Jk(i,h),i.gc=i.gc.remove(s),i.yc.delete(t),Zp(i)}else yield zh(i.localStore,t,!1).then(()=>qp(i,t,e)).catch(Yu)}),wC.apply(this,arguments)}function t1(n,t){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,vt.Z)(function*(n,t){const e=Ut(n),i=t.batch.batchId;try{const r=yield Fk(e.localStore,t);Xh(e,i,null),Yp(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield kc(e,r)}catch(r){yield Yu(r)}}),Kh.apply(this,arguments)}function n1(n,t,e){return a_.apply(this,arguments)}function a_(){return a_=(0,vt.Z)(function*(n,t,e){const i=Ut(n);try{const r=yield function(s,a){const u=Ut(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return u.mutationQueue.lookupMutationBatch(h,a).next(v=>(hn(null!==v),p=v.keys(),u.mutationQueue.removeMutationBatch(h,v))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>u.localDocuments.getDocuments(h,p))})}(i.localStore,t);Xh(i,t,e),Yp(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield kc(i,r)}catch(r){yield Yu(r)}}),a_.apply(this,arguments)}function CC(){return CC=(0,vt.Z)(function*(n,t){const e=Ut(n);ld(e.remoteStore)||Pt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=Ut(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ec.get(i)||[];r.push(t),e.Ec.set(i,r)}catch(i){const r=Zh(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),CC.apply(this,arguments)}function Yp(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function Xh(n,t,e){const i=Ut(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function qp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||qE(n,i)})}function qE(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(n_(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),Zp(n))}function xC(n,t,e){for(const i of e)i instanceof UE?(n.Ic.addReference(i.key,t),qv(n,i)):i instanceof zE?(Pt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||qE(n,i.key)):rn()}function qv(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(Pt("SyncEngine","New document in limbo: "+e),n.mc.add(i),Zp(n))}function Zp(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new Zt(ri.fromString(t)),i=n.Ac.next();n.yc.set(i,new Xk(e)),n.gc=n.gc.insert(e,i),Ov(n.remoteStore,new Ec(Ds(Ju(e.path)),i,"TargetPurposeLimboResolution",js.ct))}}function kc(n,t,e){return DC.apply(this,arguments)}function DC(){return DC=(0,vt.Z)(function*(n,t,e){const i=Ut(n),r=[],s=[],a=[];var u;i.wc.isEmpty()||(i.wc.forEach((u,h)=>{a.push(i.Rc(h,t,e).then(p=>{if((p||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,p?.fromCache?"not-current":"current"),p){r.push(p);const v=Yw.Li(h.targetId,p);s.push(v)}}))}),yield Promise.all(a),i.dc.nu(r),yield(u=(0,vt.Z)(function*(h,p){const v=Ut(h);try{yield v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ut.forEach(p,O=>ut.forEach(O.Fi,Y=>v.persistence.referenceDelegate.addReference(w,O.targetId,Y)).next(()=>ut.forEach(O.Bi,Y=>v.persistence.referenceDelegate.removeReference(w,O.targetId,Y)))))}catch(w){if(!qu(w))throw w;Pt("LocalStore","Failed to update sequence numbers: "+w)}for(const w of p){const O=w.targetId;if(!w.fromCache){const Y=v.Ji.get(O),_e=Y.withLastLimboFreeSnapshotVersion(Y.snapshotVersion);v.Ji=v.Ji.insert(O,_e)}}}),function(h,p){return u.apply(this,arguments)})(i.localStore,s))}),DC.apply(this,arguments)}function ZE(n,t){return Zv.apply(this,arguments)}function Zv(){return Zv=(0,vt.Z)(function*(n,t){const e=Ut(n);if(!e.currentUser.isEqual(t)){Pt("SyncEngine","User change. New user:",t.toKey());const i=yield Zw(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(a=>{a.forEach(u=>{u.reject(new St(gt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield kc(e,i.er)}var r}),Zv.apply(this,arguments)}function SC(n,t){const e=Ut(n),i=e.yc.get(t);if(i&&i.fc)return Ln().add(i.key);{let r=Ln();const s=e._c.get(t);if(!s)return r;for(const a of s){const u=e.wc.get(a);r=r.unionWith(u.view.nc)}return r}}function KE(n,t){return EC.apply(this,arguments)}function EC(){return EC=(0,vt.Z)(function*(n,t){const e=Ut(n),i=yield Zg(e.localStore,t.query,!0),r=t.view.hc(i);return e.isPrimaryClient&&xC(e,t.targetId,r.cc),r}),EC.apply(this,arguments)}function r1(n,t){return XE.apply(this,arguments)}function XE(){return XE=(0,vt.Z)(function*(n,t){const e=Ut(n);return Kw(e.localStore,t).then(i=>kc(e,i))}),XE.apply(this,arguments)}function MC(n,t,e,i){return l_.apply(this,arguments)}function l_(){return l_=(0,vt.Z)(function*(n,t,e,i){const r=Ut(n),s=yield function(a,u){const h=Ut(a),p=Ut(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",v=>p.Sn(v,u).next(w=>w?h.localDocuments.getDocuments(v,w):ut.resolve(null)))}(r.localStore,t);var u;null!==s?("pending"===e?yield Yh(r.remoteStore):"acknowledged"===e||"rejected"===e?(Xh(r,t,i||null),Yp(r,t),u=t,Ut(Ut(r.localStore).mutationQueue).Cn(u)):rn(),yield kc(r,s)):Pt("SyncEngine","Cannot apply mutation batch with id: "+t)}),l_.apply(this,arguments)}function c_(){return c_=(0,vt.Z)(function*(n,t){const e=Ut(n);if(Jv(e),eb(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield Kv(e,i.toArray());e.vc=!0,yield Hv(e.remoteStore,!0);for(const s of r)Ov(e.remoteStore,s)}else if(!1===t&&!1!==e.vc){const i=[];let r=Promise.resolve();e._c.forEach((s,a)=>{e.sharedClientState.isLocalQueryTarget(a)?i.push(a):r=r.then(()=>(qp(e,a),zh(e.localStore,a,!0))),n_(e.remoteStore,a)}),yield r,yield Kv(e,i),function(s){const a=Ut(s);a.yc.forEach((u,h)=>{n_(a.remoteStore,h)}),a.Ic.Ts(),a.yc=new Map,a.gc=new Bi(Zt.comparator)}(e),e.vc=!1,yield Hv(e.remoteStore,!1)}}),c_.apply(this,arguments)}function Kv(n,t,e){return AC.apply(this,arguments)}function AC(){return AC=(0,vt.Z)(function*(n,t,e){const i=Ut(n),r=[],s=[];for(const a of t){let u;const h=i._c.get(a);if(h&&0!==h.length){u=yield zp(i.localStore,Ds(h[0]));for(const p of h){const v=i.wc.get(p),w=yield KE(i,v);w.snapshot&&s.push(w.snapshot)}}else{const p=yield wE(i.localStore,a);u=yield zp(i.localStore,p),yield Gv(i,JE(p),a,!1,u.resumeToken)}r.push(u)}return i.dc.nu(s),r}),AC.apply(this,arguments)}function JE(n){return Rg(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function s1(n){const t=Ut(n);return Ut(Ut(t.localStore).persistence).$i()}function o1(n,t,e,i){return Xv.apply(this,arguments)}function Xv(){return Xv=(0,vt.Z)(function*(n,t,e,i){const r=Ut(n);if(r.vc)return void Pt("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const a=yield Kw(r.localStore,Tp(s[0])),u=Ph.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Zr.EMPTY_BYTE_STRING);yield kc(r,a,u);break}case"rejected":yield zh(r.localStore,t,!0),qp(r,t,i);break;default:rn()}}),Xv.apply(this,arguments)}function TC(n,t,e){return Qv.apply(this,arguments)}function Qv(){return Qv=(0,vt.Z)(function*(n,t,e){const i=Jv(n);if(i.vc){for(const r of t){if(i._c.has(r)){Pt("SyncEngine","Adding an already active target "+r);continue}const s=yield wE(i.localStore,r),a=yield zp(i.localStore,s);yield Gv(i,JE(s),a.targetId,!1,a.resumeToken),Ov(i.remoteStore,a)}for(const r of e)i._c.has(r)&&(yield zh(i.localStore,r,!1).then(()=>{n_(i.remoteStore,r),qp(i,r)}).catch(Yu))}}),Qv.apply(this,arguments)}function Jv(n){const t=Ut(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Jk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=e1.bind(null,t),t.dc.nu=iL.bind(null,t.eventManager),t.dc.Pc=rL.bind(null,t.eventManager),t}function eb(n){const t=Ut(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=t1.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=n1.bind(null,t),t}class u_{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,vt.Z)(function*(){e.serializer=t_(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return qw(this.persistence,new vE,t.initialUser,this.serializer)}createPersistence(t){return new Mv($g.zs,this.serializer)}createSharedClientState(t){return new SE}terminate(){var t=this;return(0,vt.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class tb extends u_{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,vt.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield eb(i.Vc.syncEngine),yield Yh(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return qw(this.persistence,new vE,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new Vw(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new hS(e,this.persistence);return new dS(t.asyncQueue,i)}createPersistence(t){const e=Ww(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ms.withCacheSize(this.cacheSizeBytes):Ms.DEFAULT;return new $w(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,AE(),e_(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new SE}}class nM extends tb{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,vt.Z)(function*(){yield e().call(i,t);const r=i.Vc.syncEngine;i.sharedClientState instanceof Jw&&(i.sharedClientState.syncEngine={jr:MC.bind(null,r),zr:o1.bind(null,r),Wr:TC.bind(null,r),$i:s1.bind(null,r),Qr:r1.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,vt.Z)(function*(a){yield function QE(n,t){return c_.apply(this,arguments)}(i.Vc.syncEngine,a),i.gcScheduler&&(a&&!i.gcScheduler.started?i.gcScheduler.start():a||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(a&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():a||i.indexBackfillerScheduler.stop())});return function(a){return s.apply(this,arguments)}}())})()}createSharedClientState(t){const e=AE();if(!Jw.D(e))throw new St(gt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Ww(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Jw(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Qh{initialize(t,e){var i=this;return(0,vt.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>YE(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=ZE.bind(null,i.syncEngine),yield Hv(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new BE}createDatastore(t){const e=t_(t.databaseInfo.databaseId),i=new ME(t.databaseInfo);return new IE(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=u=>YE(this.syncEngine,u,0),a=EE.D()?new EE:new Vk,new zk(e,i,r,s,a);var e,i,r,s,a}createSyncEngine(t,e){return function(i,r,s,a,u,h,p){const v=new Qk(i,r,s,a,u,h);return p&&(v.vc=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,vt.Z)(function*(e){const i=Ut(e);Pt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Wh(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function iM(n,t=10240){let e=0;return{read:()=>(0,vt.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,vt.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Xr{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Ir("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Kp{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new Br,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,vt.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,vt.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,vt.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),r=Number(i);isNaN(r)&&t.Mc(`length string (${i}) is not valid number`);const s=yield t.$c(r);return new HE(JSON.parse(s),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,vt.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,vt.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,vt.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class a1{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,vt.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new St(gt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,vt.Z)(function*(s,a){const u=Ut(s),h=Fp(u.serializer)+"/documents",p={documents:a.map(Y=>Nh(u.serializer,Y))},v=yield u.vo("BatchGetDocuments",h,p,a.length),w=new Map;v.forEach(Y=>{const he=function YS(n,t){return"found"in t?function(e,i){hn(!!i.found);const r=Fa(e,i.found.name),s=pr(i.found.updateTime),a=i.found.createTime?pr(i.found.createTime):fn.min(),u=new hs({mapValue:{fields:i.found.fields}});return Ui.newFoundDocument(r,s,a,u)}(n,t):"missing"in t?function(e,i){hn(!!i.missing),hn(!!i.readTime);const r=Fa(e,i.missing),s=pr(i.readTime);return Ui.newNoDocument(r,s)}(n,t):rn()}(u.serializer,Y);w.set(he.key.toString(),he)});const O=[];return a.forEach(Y=>{const he=w.get(Y.toString());hn(!!he),O.push(he)}),O}),function(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Oh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,vt.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=Zt.fromPath(r);t.mutations.push(new Jy(s,t.precondition(s)))}),yield(i=(0,vt.Z)(function*(r,s){const a=Ut(r),u=Fp(a.serializer)+"/documents",h={writes:s.map(p=>Hg(a.serializer,p))};yield a.Io("Commit",u,h)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw rn();e=fn.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new St(gt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(fn.min())?mi.exists(!1):mi.updateTime(e):mi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(fn.min()))throw new St(gt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mi.updateTime(e)}return mi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class l1{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new Rv(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,vt.Z)(function*(){const e=new a1(t.datastore),i=t.qc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Uc(s)}))}).catch(r=>{t.Uc(r)})}))}qc(t){try{const e=this.updateFunction(t);return!Vy(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!zS(e)}return!1}}class sL{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Yr.UNAUTHENTICATED,this.clientId=H0.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=(0,vt.Z)(function*(u){Pt("FirestoreClient","Received user=",u.uid),yield s.authCredentialListener(u),s.user=u});return function(u){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(Pt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var t=this;return(0,vt.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new St(gt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,vt.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Zh(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function IC(n,t){return nb.apply(this,arguments)}function nb(){return nb=(0,vt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Pt("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,vt.Z)(function*(s){i.isEqual(s)||(yield Zw(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),nb.apply(this,arguments)}function ib(n,t){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,vt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield d_(n);Pt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>Vv(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Vv(t.remoteStore,s)),n._onlineComponents=t}),Jh.apply(this,arguments)}function rM(n){return"FirebaseError"===n.name?n.code===gt.FAILED_PRECONDITION||n.code===gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function d_(n){return kC.apply(this,arguments)}function kC(){return kC=(0,vt.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Pt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield IC(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!rM(e))throw e;Fo("Error using user provided cache. Falling back to memory cache: "+e),yield IC(n,new u_)}}else Pt("FirestoreClient","Using default OfflineComponentProvider"),yield IC(n,new u_);return n._offlineComponents}),kC.apply(this,arguments)}function h_(n){return RC.apply(this,arguments)}function RC(){return RC=(0,vt.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Pt("FirestoreClient","Using user provided OnlineComponentProvider"),yield ib(n,n._uninitializedComponentsProvider._online)):(Pt("FirestoreClient","Using default OnlineComponentProvider"),yield ib(n,new Qh))),n._onlineComponents}),RC.apply(this,arguments)}function sM(n){return d_(n).then(t=>t.persistence)}function rb(n){return d_(n).then(t=>t.localStore)}function sb(n){return h_(n).then(t=>t.remoteStore)}function ob(n){return h_(n).then(t=>t.syncEngine)}function Rc(n){return f_.apply(this,arguments)}function f_(){return f_=(0,vt.Z)(function*(n){const t=yield h_(n),e=t.eventManager;return e.onListen=o_.bind(null,t.syncEngine),e.onUnlisten=$E.bind(null,t.syncEngine),e}),f_.apply(this,arguments)}function PC(n,t,e={}){const i=new Br;return n.asyncQueue.enqueueAndForget((0,vt.Z)(function*(){return function(r,s,a,u,h){const p=new Xr({next:w=>{s.enqueueAndForget(()=>mC(r,v));const O=w.docs.has(a);!O&&w.fromCache?h.reject(new St(gt.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&w.fromCache&&u&&"server"===u.source?h.reject(new St(gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(w)},error:w=>h.reject(w)}),v=new yC(Ju(a.path),p,{includeMetadataChanges:!0,Ku:!0});return VE(r,v)}(yield Rc(n),n.asyncQueue,t,e,i)})),i.promise}function aM(n,t,e={}){const i=new Br;return n.asyncQueue.enqueueAndForget((0,vt.Z)(function*(){return function(r,s,a,u,h){const p=new Xr({next:w=>{s.enqueueAndForget(()=>mC(r,v)),w.fromCache&&"server"===u.source?h.reject(new St(gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(w)},error:w=>h.reject(w)}),v=new yC(a,p,{includeMetadataChanges:!0,Ku:!0});return VE(r,v)}(yield Rc(n),n.asyncQueue,t,e,i)})),i.promise}function d1(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const cM=new Map;function LC(n,t,e){if(!e)throw new St(gt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function uM(n,t,e,i){if(!0===t&&!0===i)throw new St(gt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function NC(n){if(!Zt.isDocumentKey(n))throw new St(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function BC(n){if(Zt.isDocumentKey(n))throw new St(gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ab(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":rn()}function qn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new St(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=ab(n);throw new St(gt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function VC(n,t){if(t<=0)throw new St(gt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class dM{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new St(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new St(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}uM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=d1(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new St(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new St(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new St(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class p_{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dM({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new St(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new St(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dM(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new qI;switch(e.type){case"firstParty":return new XI(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new St(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=cM.get(t);e&&(Pt("ComponentProvider","Removing Datastore"),cM.delete(t),e.terminate())}(this),Promise.resolve()}}class zi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zi(this.firestore,t,this._key)}}class Qr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Qr(this.firestore,t,this._query)}}class Na extends Qr{constructor(t,e,i){super(t,e,Ju(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zi(this.firestore,null,new Zt(t))}withConverter(t){return new Na(this.firestore,t,this._path)}}function jC(n,t,...e){if(n=(0,Nn.m9)(n),LC("collection","path",t),n instanceof p_){const i=ri.fromString(t,...e);return BC(i),new Na(n,null,i)}{if(!(n instanceof zi||n instanceof Na))throw new St(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ri.fromString(t,...e));return BC(i),new Na(n.firestore,null,i)}}function lb(n,t,...e){if(n=(0,Nn.m9)(n),1===arguments.length&&(t=H0.A()),LC("doc","path",t),n instanceof p_){const i=ri.fromString(t,...e);return NC(i),new zi(n,null,new Zt(i))}{if(!(n instanceof zi||n instanceof Na))throw new St(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ri.fromString(t,...e));return NC(i),new zi(n.firestore,n instanceof Na?n.converter:null,new Zt(i))}}function fM(n,t){return n=(0,Nn.m9)(n),t=(0,Nn.m9)(t),(n instanceof zi||n instanceof Na)&&(t instanceof zi||t instanceof Na)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function pM(n,t){return n=(0,Nn.m9)(n),t=(0,Nn.m9)(t),n instanceof Qr&&t instanceof Qr&&n.firestore===t.firestore&&Mh(n._query,t._query)&&n.converter===t.converter}class mM{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Rv(this,"async_queue_retry"),this.Xc=()=>{const e=e_();e&&Pt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=e_();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=e_();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new Br;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,vt.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!qu(e))throw e;Pt("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,Ir("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=jv.createAndSchedule(this,t,e,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&rn()}verifyOperationInProgress(){}sa(){var t=this;return(0,vt.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function gM(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class lL{constructor(){this._progressObserver={},this._taskCompletionResolver=new Br,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ki extends p_{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new mM,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||h1(this),this._firestoreClient.terminate()}}function kr(n){return n._firestoreClient||h1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function h1(n){var t,e,i;const r=n._freezeSettings(),s=(u=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new wS(n._databaseId,u,n._persistenceKey,(p=r).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,d1(p.experimentalLongPollingOptions),p.useFetchStreams));var u,p;n._firestoreClient=new sL(n._authCredentials,n._appCheckCredentials,n._queue,s),(null===(e=r.cache)||void 0===e?void 0:e._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function UC(n,t,e){const i=new Br;return n.asyncQueue.enqueue((0,vt.Z)(function*(){try{yield IC(n,e),yield ib(n,t),i.resolve()}catch(r){const s=r;if(!rM(s))throw s;Fo("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function zC(n){if(n._initialized||n._terminated)throw new St(gt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Cl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Cl(Zr.fromBase64String(t))}catch(e){throw new St(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Cl(Zr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Oc{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new St(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ef{constructor(t){this._methodName=t}}class $C{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new St(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new St(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return In(this._lat,t._lat)||In(this._long,t._long)}}const hL=/^__.*__$/;class fL{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new fo(t,this.data,this.fieldMask,e,this.fieldTransforms):new Pa(t,this.data,e,this.fieldTransforms)}}class wM{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new fo(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function CM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rn()}}class hb{constructor(t,e,i,r,s,a){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new hb(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return __(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(CM(this.ca)&&hL.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class pL{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||t_(t)}ya(t,e,i,r=!1){return new hb({ca:t,methodName:e,ga:i,path:tr.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tf(n){const t=n._freezeSettings(),e=t_(n._databaseId);return new pL(n._databaseId,!!t.ignoreUndefinedProperties,e)}function m_(n,t,e,i,r,s={}){const a=n.ya(s.merge||s.mergeFields?2:0,t,e,r);mb("Data must be an object, but it was:",a,i);const u=xM(i,a);let h,p;if(s.merge)h=new Lo(a.fieldMask),p=a.fieldTransforms;else if(s.mergeFields){const v=[];for(const w of s.mergeFields){const O=Jp(t,w,e);if(!a.contains(O))throw new St(gt.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);DM(v,O)||v.push(O)}h=new Lo(v),p=a.fieldTransforms.filter(w=>h.covers(w.field))}else h=null,p=a.fieldTransforms;return new fL(new hs(u),h,p)}class Qp extends ef{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Qp}}function m1(n,t,e){return new hb({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Vo extends ef{_toFieldTransform(t){return new ho(t.path,new Dc)}isEqual(t){return t instanceof Vo}}class g1 extends ef{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=m1(this,t,!0),i=this.pa.map(s=>nf(s,e)),r=new No(i);return new ho(t.path,r)}isEqual(t){return this===t}}class WC extends ef{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=m1(this,t,!0),i=this.pa.map(s=>nf(s,e)),r=new Oa(i);return new ho(t.path,r)}isEqual(t){return this===t}}class _1 extends ef{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new kp(t.serializer,NS(t.serializer,this.Ia));return new ho(t.path,e)}isEqual(t){return this===t}}function mo(n,t,e,i){const r=n.ya(1,t,e);mb("Data must be an object, but it was:",r,i);const s=[],a=hs.empty();_c(i,(h,p)=>{const v=g_(t,h,e);p=(0,Nn.m9)(p);const w=r.da(v);if(p instanceof Qp)s.push(v);else{const O=nf(p,w);null!=O&&(s.push(v),a.set(v,O))}});const u=new Lo(s);return new wM(a,u,r.fieldTransforms)}function YC(n,t,e,i,r,s){const a=n.ya(1,t,e),u=[Jp(t,i,e)],h=[r];if(s.length%2!=0)throw new St(gt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<s.length;O+=2)u.push(Jp(t,s[O])),h.push(s[O+1]);const p=[],v=hs.empty();for(let O=u.length-1;O>=0;--O)if(!DM(p,u[O])){const Y=u[O];let he=h[O];he=(0,Nn.m9)(he);const _e=a.da(Y);if(he instanceof Qp)p.push(Y);else{const ke=nf(he,_e);null!=ke&&(p.push(Y),v.set(Y,ke))}}const w=new Lo(p);return new wM(v,w,a.fieldTransforms)}function fb(n,t,e,i=!1){return nf(e,n.ya(i?4:3,t))}function nf(n,t){if(pb(n=(0,Nn.m9)(n)))return mb("Unsupported field value:",t,n),xM(n,t);if(n instanceof ef)return function(e,i){if(!CM(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const a of e){let u=nf(a,i.wa(s));null==u&&(u={nullValue:"NULL_VALUE"}),r.push(u),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,Nn.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return NS(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=qi.fromDate(e);return{timestampValue:Lh(i.serializer,r)}}if(e instanceof qi){const r=new qi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Lh(i.serializer,r)}}if(e instanceof $C)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Cl)return{bytesValue:Cw(i.serializer,e._byteString)};if(e instanceof zi){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:lv(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${ab(e)}`)}(n,t)}function xM(n,t){const e={};return ew(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_c(n,(i,r)=>{const s=nf(r,t.ha(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function pb(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof qi||n instanceof $C||n instanceof Cl||n instanceof zi||n instanceof ef)}function mb(n,t,e){if(!pb(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=ab(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function Jp(n,t,e){if((t=(0,Nn.m9)(t))instanceof Oc)return t._internalPath;if("string"==typeof t)return g_(n,t);throw __("Field path arguments must be of type string or ",n,!1,void 0,e)}const y1=new RegExp("[~\\*/\\[\\]]");function g_(n,t,e){if(t.search(y1)>=0)throw __(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Oc(...t.split("."))._internalPath}catch{throw __(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function __(n,t,e,i,r){const s=i&&!i.isEmpty(),a=void 0!==r;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(s||a)&&(h+=" (found",s&&(h+=` in field ${i}`),a&&(h+=` in document ${r}`),h+=")"),new St(gt.INVALID_ARGUMENT,u+n+h)}function DM(n,t){return n.some(e=>e.isEqual(t))}class em{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new v1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(tm("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class v1 extends em{data(){return super.data()}}function tm(n,t){return"string"==typeof t?g_(n,t):t instanceof Oc?t._internalPath:t._delegate._internalPath}function Pc(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new St(gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gb{}class rf extends gb{}function Ts(n,t,...e){let i=[];t instanceof gb&&i.push(t),i=i.concat(e),function(r){const s=r.filter(u=>u instanceof nm).length,a=r.filter(u=>u instanceof y_).length;if(s>1||s>0&&a>0)throw new St(gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class y_ extends rf{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new y_(t,e,i)}_apply(t){const e=this._parse(t);return C_(t._query,e),new Qr(t.firestore,t.converter,qy(t._query,e))}_parse(t){const e=tf(t.firestore);return function(r,s,a,u,h,p,v){let w;if(h.isKeyField()){if("array-contains"===p||"array-contains-any"===p)throw new St(gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if("in"===p||"not-in"===p){w_(v,p);const O=[];for(const Y of v)O.push(QC(u,r,Y));w={arrayValue:{values:O}}}else w=QC(u,r,v)}else"in"!==p&&"not-in"!==p&&"array-contains-any"!==p||w_(v,p),w=fb(a,"where",v,"in"===p||"not-in"===p);return ei.create(h,p,w)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class nm extends gb{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new nm(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:vi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let s=i;const a=r.getFlattenedFilters();for(const u of a)C_(s,u),s=qy(s,u)}(t._query,e),new Qr(t.firestore,t.converter,qy(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class qC extends rf{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new qC(t,e)}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new St(gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new St(gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Kr(r,s);return function(u,h){if(null===OS(u)){const p=Mp(u);null!==p&&JC(0,p,h.field)}}(i,a),a}(t._query,this._field,this._direction);return new Qr(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new xc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class ZC extends rf{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new ZC(t,e,i)}_apply(t){return new Qr(t.firestore,t.converter,Pg(t._query,this._limit,this._limitType))}}class v_ extends rf{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new v_(t,e,i)}_apply(t){const e=XC(t,this.type,this._docOrFields,this._inclusive);return new Qr(t.firestore,t.converter,(r=e,new xc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class b_ extends rf{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new b_(t,e,i)}_apply(t){const e=XC(t,this.type,this._docOrFields,this._inclusive);return new Qr(t.firestore,t.converter,(r=e,new xc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function XC(n,t,e,i){if(e[0]=(0,Nn.m9)(e[0]),e[0]instanceof em)return function(r,s,a,u,h){if(!u)throw new St(gt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const p=[];for(const v of ed(r))if(v.field.isKeyField())p.push(wc(s,u.key));else{const w=u.data.field(v.field);if(Uy(w))throw new St(gt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===w){const O=v.field.canonicalString();throw new St(gt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}p.push(w)}return new Cc(p,h)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=tf(n.firestore);return function(s,a,u,h,p,v){const w=s.explicitOrderBy;if(p.length>w.length)throw new St(gt.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let Y=0;Y<p.length;Y++){const he=p[Y];if(w[Y].field.isKeyField()){if("string"!=typeof he)throw new St(gt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof he}`);if(!PS(s)&&-1!==he.indexOf("/"))throw new St(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${he}' contains a slash.`);const _e=s.path.child(ri.fromString(he));if(!Zt.isDocumentKey(_e))throw new St(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${_e}' is not because it contains an odd number of segments.`);const ke=new Zt(_e);O.push(wc(a,ke))}else{const _e=fb(u,h,he);O.push(_e)}}return new Cc(O,v)}(n._query,n.firestore._databaseId,r,t,e,i)}}function QC(n,t,e){if("string"==typeof(e=(0,Nn.m9)(e))){if(""===e)throw new St(gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PS(t)&&-1!==e.indexOf("/"))throw new St(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ri.fromString(e));if(!Zt.isDocumentKey(i))throw new St(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return wc(n,new Zt(i))}if(e instanceof zi)return wc(n,e._key);throw new St(gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ab(e)}.`)}function w_(n,t){if(!Array.isArray(n)||0===n.length)throw new St(gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function C_(n,t){if(t.isInequality()){const i=Mp(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new St(gt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=OS(n);null!==s&&JC(0,r,s)}const e=function(i,r){for(const s of i)for(const a of s.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new St(gt.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function JC(n,t,e){if(!e.isEqual(t))throw new St(gt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class _b{convertValue(t,e="none"){switch(yc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return yi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ia(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw rn()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return _c(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new $C(yi(t.latitude),yi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Mg(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Dh(t));default:return null}}convertTimestamp(t){const e=xh(t);return new qi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ri.fromString(t);hn(Tw(i));const r=new ml(i.get(1),i.get(3)),s=new Zt(i.popFirst(5));return r.isEqual(e)||Ir(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function x_(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class w1 extends _b{constructor(t){super(),this.firestore=t}convertBytes(t){return new Cl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new zi(this.firestore,null,e)}}class sf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fc extends em{constructor(t,e,i,r,s,a){super(t,e,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new yb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(tm("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class yb extends Fc{data(t={}){return super.data(t)}}class af{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new sf(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new yb(this._firestore,this._userDataWriter,i.key,i,new sf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new St(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new yb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new sf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||3!==a.type).map(a=>{const u=new yb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new sf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return 0!==a.type&&(h=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),p=s.indexOf(a.doc.key)),{type:CL(a.type),doc:u,oldIndex:h,newIndex:p}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function CL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rn()}}function x1(n,t){return n instanceof Fc&&t instanceof Fc?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof af&&t instanceof af&&n._firestore===t._firestore&&pM(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class ud extends _b{constructor(t){super(),this.firestore=t}convertBytes(t){return new Cl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new zi(this.firestore,null,e)}}function ex(n,t,e){n=qn(n,zi);const i=qn(n.firestore,Ki),r=x_(n.converter,t,e);return Lc(i,[m_(tf(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,mi.none())])}function bb(n,t,e,...i){n=qn(n,zi);const r=qn(n.firestore,Ki),s=tf(r);let a;return a="string"==typeof(t=(0,Nn.m9)(t))||t instanceof Oc?YC(s,"updateDoc",n._key,t,e,i):mo(s,"updateDoc",n._key,t),Lc(r,[a.toMutation(n._key,mi.exists(!0))])}function wb(n,...t){var e,i,r;n=(0,Nn.m9)(n);let s={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||gM(t[a])||(s=t[a],a++);const u={includeMetadataChanges:s.includeMetadataChanges};if(gM(t[a])){const w=t[a];t[a]=null===(e=w.next)||void 0===e?void 0:e.bind(w),t[a+1]=null===(i=w.error)||void 0===i?void 0:i.bind(w),t[a+2]=null===(r=w.complete)||void 0===r?void 0:r.bind(w)}let h,p,v;if(n instanceof zi)p=qn(n.firestore,Ki),v=Ju(n._key.path),h={next:w=>{t[a]&&t[a](kM(p,n,w))},error:t[a+1],complete:t[a+2]};else{const w=qn(n,Qr);p=qn(w.firestore,Ki),v=w._query;const O=new ud(p);h={next:Y=>{t[a]&&t[a](new af(p,O,w,Y))},error:t[a+1],complete:t[a+2]},Pc(n._query)}return function(w,O,Y,he){const _e=new Xr(he),ke=new yC(O,_e,Y);return w.asyncQueue.enqueueAndForget((0,vt.Z)(function*(){return VE(yield Rc(w),ke)})),()=>{_e.Dc(),w.asyncQueue.enqueueAndForget((0,vt.Z)(function*(){return mC(yield Rc(w),ke)}))}}(kr(p),v,u,h)}function Lc(n,t){return function(e,i){const r=new Br;return e.asyncQueue.enqueueAndForget((0,vt.Z)(function*(){return function WE(n,t,e){return bC.apply(this,arguments)}(yield ob(e),i,r)})),r.promise}(kr(n),t)}function kM(n,t,e){const i=e.docs.get(t._key),r=new ud(n);return new Fc(n,r,t._key,i,new sf(e.hasPendingWrites,e.fromCache),t.converter)}const ix={maxAttempts:5};class P1{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=tf(t)}set(t,e,i){this._verifyNotCommitted();const r=Nc(t,this._firestore),s=x_(r.converter,e,i),a=m_(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(a.toMutation(r._key,mi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=Nc(t,this._firestore);let a;return a="string"==typeof(e=(0,Nn.m9)(e))||e instanceof Oc?YC(this._dataReader,"WriteBatch.update",s._key,e,i,r):mo(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(a.toMutation(s._key,mi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Nc(t,this._firestore);return this._mutations=this._mutations.concat(new Oh(e._key,mi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new St(gt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nc(n,t){if((n=(0,Nn.m9)(n)).firestore!==t)throw new St(gt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class rx extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=tf(t)}get(t){const e=Nc(t,this._firestore),i=new w1(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return rn();const s=r[0];if(s.isFoundDocument())return new em(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new em(this._firestore,i,e._key,null,e.converter);throw rn()})}set(t,e,i){const r=Nc(t,this._firestore),s=x_(r.converter,e,i),a=m_(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,a),this}update(t,e,i,...r){const s=Nc(t,this._firestore);let a;return a="string"==typeof(e=(0,Nn.m9)(e))||e instanceof Oc?YC(this._dataReader,"Transaction.update",s._key,e,i,r):mo(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,a),this}delete(t){const e=Nc(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Nc(t,this._firestore),i=new ud(this._firestore);return super.get(t).then(r=>new Fc(this._firestore,i,e._key,r._document,new sf(!1,!1),e.converter))}}function PM(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new St("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function FM(){if(typeof Uint8Array>"u")throw new St("unimplemented","Uint8Arrays are not available in this environment.")}function H1(){if(!function KF(){return typeof atob<"u"}())throw new St("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Cg=vs.SDK_VERSION,(0,vs._registerComponent)(new Jl.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),a=new Ki(new sS(e.getProvider("auth-internal")),new Rn(e.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new St(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ml(u.options.projectId,h)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),(0,vs.registerVersion)(iS,"3.13.0",n),(0,vs.registerVersion)(iS,"3.13.0","esm2017")}();class Cb{constructor(t){this._delegate=t}static fromBase64String(t){return H1(),new Cb(Cl.fromBase64String(t))}static fromUint8Array(t){return FM(),new Cb(Cl.fromUint8Array(t))}toBase64(){return H1(),this._delegate.toBase64()}toUint8Array(){return FM(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function LM(n){return function OL(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class PL{enableIndexedDbPersistence(t,e){return function cb(n,t){zC(n=qn(n,Ki));const e=kr(n);if(e._uninitializedComponentsProvider)throw new St(gt.FAILED_PRECONDITION,"SDK cache is already specified.");Fo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Qh;return UC(e,r,new tb(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function uL(n){zC(n=qn(n,Ki));const t=kr(n);if(t._uninitializedComponentsProvider)throw new St(gt.FAILED_PRECONDITION,"SDK cache is already specified.");Fo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new Qh;return UC(t,i,new nM(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function ub(n){if(n._initialized&&!n._terminated)throw new St(gt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Br;return n._queue.enqueueAndForgetEvenWhileRestricted((0,vt.Z)(function*(){try{yield(e=(0,vt.Z)(function*(i){if(!na.D())return Promise.resolve();const r=i+"main";yield na.delete(r)}),function(i){return e.apply(this,arguments)})(Ww(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class j1{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof ml||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Fo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function HC(n,t,e,i={}){var r;const s=(n=qn(n,p_))._getSettings(),a=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&Fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Yr.MOCK_USER;else{u=(0,Nn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new St(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Yr(p)}n._authCredentials=new ZI(new rS(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function yM(n){return function oL(n){return n.asyncQueue.enqueue((0,vt.Z)(function*(){const t=yield sM(n),e=yield sb(n);return t.setNetworkEnabled(!0),function(i){const r=Ut(i);return r.vu.delete(0),$h(r)}(e)}))}(kr(n=qn(n,Ki)))}(this._delegate)}disableNetwork(){return function dL(n){return function oM(n){return n.asyncQueue.enqueue((0,vt.Z)(function*(){const t=yield sM(n),e=yield sb(n);return t.setNetworkEnabled(!1),(i=(0,vt.Z)(function*(r){const s=Ut(r);s.vu.add(0),yield Wh(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(kr(n=qn(n,Ki)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,uM("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function _M(n){return function(t){const e=new Br;return t.asyncQueue.enqueueAndForget((0,vt.Z)(function*(){return function wl(n,t){return CC.apply(this,arguments)}(yield ob(t),e)})),e.promise}(kr(n=qn(n,Ki)))}(this._delegate)}onSnapshotsInSync(t){return function nx(n,t){return function lM(n,t){const e=new Xr(t);return n.asyncQueue.enqueueAndForget((0,vt.Z)(function*(){return i=yield Rc(n),r=e,Ut(i).ku.add(r),void r.next();var i,r})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,vt.Z)(function*(){return i=yield Rc(n),r=e,void Ut(i).ku.delete(r);var i,r}))}}(kr(n=qn(n,Ki)),gM(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new St("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new bt(this,jC(this._delegate,t))}catch(e){throw C(e,"collection()","Firestore.collection()")}}doc(t){try{return new y(this,lb(this._delegate,t))}catch(e){throw C(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Be(this,function hM(n,t){if(n=qn(n,p_),LC("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new St(gt.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qr(n,null,(e=t,new xc(ri.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw C(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function F1(n,t,e){n=qn(n,Ki);const i=Object.assign(Object.assign({},ix),e);return function(r){if(r.maxAttempts<1)throw new St(gt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,a){const u=new Br;return r.asyncQueue.enqueueAndForget((0,vt.Z)(function*(){const h=yield function OC(n){return h_(n).then(t=>t.datastore)}(r);new l1(r.asyncQueue,h,a,s,u).run()})),u.promise}(kr(n),r=>t(new rx(n,r)),i)}(this._delegate,e=>t(new d(this,e)))}batch(){return kr(this._delegate),new f(new P1(this._delegate,t=>Lc(this._delegate,t)))}loadBundle(t){return function bM(n,t){const e=kr(n=qn(n,Ki)),i=new lL;return function FC(n,t,e,i){const r=function(s,a){let u;return u="string"==typeof s?pw().encode(s):s,h=function(h,p){if(h instanceof Uint8Array)return iM(h,p);if(h instanceof ArrayBuffer)return iM(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new Kp(h,a);var h}(e,t_(t));n.asyncQueue.enqueueAndForget((0,vt.Z)(function*(){!function eM(n,t,e){const i=Ut(n);var r;(r=(0,vt.Z)(function*(s,a,u){try{const h=yield a.getMetadata();if(yield function(O,Y){const he=Ut(O),_e=pr(Y.createTime);return he.persistence.runTransaction("hasNewerBundle","readonly",ke=>he.qs.getBundleMetadata(ke,Y.id)).then(ke=>!!ke&&ke.createTime.compareTo(_e)>=0)}(s.localStore,h))return yield a.close(),u._completeWith({taskState:"Success",documentsLoaded:(O=h).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);u._updateProgress(jE(h));const p=new Zk(h,s.localStore,a.serializer);let v=yield a.bc();for(;v;){const O=yield p.zu(v);O&&u._updateProgress(O),v=yield a.bc()}const w=yield p.complete();return yield kc(s,w.Ju,void 0),yield function(O,Y){const he=Ut(O);return he.persistence.runTransaction("Save bundle","readwrite",_e=>he.qs.saveBundleMetadata(_e,Y))}(s.localStore,h),u._completeWith(w.progress),Promise.resolve(w.Hu)}catch(h){return Fo("SyncEngine",`Loading bundle failed with ${h}`),u._failWith(h),Promise.resolve(new Set)}var O}),function(s,a,u){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield ob(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function f1(n,t){return function aL(n,t){return n.asyncQueue.enqueue((0,vt.Z)(function*(){return function(e,i){const r=Ut(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield rb(n),t)}))}(kr(n=qn(n,Ki)),t).then(e=>e?new Qr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Be(this,e):null)}}class l extends _b{constructor(t){super(),this.firestore=t}convertBytes(t){return new Cb(new Cl(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return y.forKey(e,this.firestore,null)}}class d{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new l(t)}get(t){const e=Lt(t);return this._delegate.get(e).then(i=>new se(this._firestore,new Fc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Lt(t);return i?(PM("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Lt(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Lt(t);return this._delegate.delete(e),this}}class f{constructor(t){this._delegate=t}set(t,e,i){const r=Lt(t);return i?(PM("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Lt(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Lt(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class m{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new yb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Se(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=m.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new m(t,new l(t),e),r.set(e,s)),s}}m.INSTANCES=new WeakMap;class y{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new l(t)}static forPath(t,e,i){if(t.length%2!=0)throw new St("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new y(e,new zi(e._delegate,i,new Zt(t)))}static forKey(t,e,i){return new y(e,new zi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new bt(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new bt(this.firestore,jC(this._delegate,t))}catch(e){throw C(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Nn.m9)(t))instanceof zi&&fM(this._delegate,t)}set(t,e){e=PM("DocumentReference.set",e);try{return e?ex(this._delegate,t,e):ex(this._delegate,t)}catch(i){throw C(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?bb(this._delegate,t):bb(this._delegate,t,e,...i)}catch(r){throw C(r,"updateDoc()","DocumentReference.update()")}}delete(){return function tx(n){return Lc(qn(n.firestore,Ki),[new Oh(n._key,mi.none())])}(this._delegate)}onSnapshot(...t){const e=k(t),i=L(t,r=>new se(this.firestore,new Fc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return wb(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function vb(n){n=qn(n,zi);const t=qn(n.firestore,Ki),e=kr(t),i=new ud(t);return function c1(n,t){const e=new Br;return n.asyncQueue.enqueueAndForget((0,vt.Z)(function*(){return(i=(0,vt.Z)(function*(r,s,a){try{const u=yield function(h,p){const v=Ut(h);return v.persistence.runTransaction("read document","readonly",w=>v.localDocuments.getDocument(w,p))}(r,s);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new St(gt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const h=Zh(u,`Failed to get document '${s} from cache`);a.reject(h)}}),function(r,s,a){return i.apply(this,arguments)})(yield rb(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Fc(t,i,n._key,r,new sf(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function D1(n){n=qn(n,zi);const t=qn(n.firestore,Ki);return PC(kr(t),n._key,{source:"server"}).then(e=>kM(t,n,e))}(this._delegate):function xL(n){n=qn(n,zi);const t=qn(n.firestore,Ki);return PC(kr(t),n._key).then(e=>kM(t,n,e))}(this._delegate),e.then(i=>new se(this.firestore,new Fc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new y(this.firestore,this._delegate.withConverter(t?m.getInstance(this.firestore,t):null))}}function C(n,t,e){return n.message=n.message.replace(t,e),n}function k(n){for(const t of n)if("object"==typeof t&&!LM(t))return t;return{}}function L(n,t){var e,i;let r;return r=LM(n[0])?n[0]:LM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class se{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new y(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return x1(this._delegate,t._delegate)}}class Se extends se{data(t){const e=this._delegate.data(t);return function YI(n,t){n||rn()}(void 0!==e),e}}class Be{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new l(t)}where(t,e,i){try{return new Be(this.firestore,Ts(this._delegate,function mL(n,t,e){const i=t,r=tm("where",n);return y_._create(r,i,e)}(t,e,i)))}catch(r){throw C(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Be(this.firestore,Ts(this._delegate,function SM(n,t="asc"){const e=t,i=tm("orderBy",n);return qC._create(i,e)}(t,e)))}catch(i){throw C(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Be(this.firestore,Ts(this._delegate,function EM(n){return VC("limit",n),ZC._create("limit",n,"F")}(t)))}catch(e){throw C(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Be(this.firestore,Ts(this._delegate,function b1(n){return VC("limitToLast",n),ZC._create("limitToLast",n,"L")}(t)))}catch(e){throw C(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Be(this.firestore,Ts(this._delegate,function yL(...n){return v_._create("startAt",n,!0)}(...t)))}catch(e){throw C(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Be(this.firestore,Ts(this._delegate,function KC(...n){return v_._create("startAfter",n,!1)}(...t)))}catch(e){throw C(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Be(this.firestore,Ts(this._delegate,function MM(...n){return b_._create("endBefore",n,!1)}(...t)))}catch(e){throw C(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Be(this.firestore,Ts(this._delegate,function AM(...n){return b_._create("endAt",n,!0)}(...t)))}catch(e){throw C(e,"endAt()","Query.endAt()")}}isEqual(t){return pM(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function IM(n){n=qn(n,Qr);const t=qn(n.firestore,Ki),e=kr(t),i=new ud(t);return function Xp(n,t){const e=new Br;return n.asyncQueue.enqueueAndForget((0,vt.Z)(function*(){return(i=(0,vt.Z)(function*(r,s,a){try{const u=yield Zg(r,s,!0),h=new GE(s,u.ir),p=h.sc(u.documents),v=h.applyChanges(p,!1);a.resolve(v.snapshot)}catch(u){const h=Zh(u,`Failed to execute query '${s} against cache`);a.reject(h)}}),function(r,s,a){return i.apply(this,arguments)})(yield rb(n),t,e);var i})),e.promise}(e,n._query).then(r=>new af(t,i,n,r))}(this._delegate):"server"===t?.source?function lf(n){n=qn(n,Qr);const t=qn(n.firestore,Ki),e=kr(t),i=new ud(t);return aM(e,n._query,{source:"server"}).then(r=>new af(t,i,n,r))}(this._delegate):function S1(n){n=qn(n,Qr);const t=qn(n.firestore,Ki),e=kr(t),i=new ud(t);return Pc(n._query),aM(e,n._query).then(r=>new af(t,i,n,r))}(this._delegate),e.then(i=>new at(this.firestore,new af(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=k(t),i=L(t,r=>new at(this.firestore,new af(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return wb(this._delegate,e,i)}withConverter(t){return new Be(this.firestore,this._delegate.withConverter(t?m.getInstance(this.firestore,t):null))}}class Xe{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Se(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class at{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Be(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Se(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new Xe(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Se(this._firestore,i))})}isEqual(t){return x1(this._delegate,t._delegate)}}class bt extends Be{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new y(this.firestore,t):null}doc(t){try{return new y(this.firestore,void 0===t?lb(this._delegate):lb(this._delegate,t))}catch(e){throw C(e,"doc()","CollectionReference.doc()")}}add(t){return function E1(n,t){const e=qn(n.firestore,Ki),i=lb(n),r=x_(n.converter,t);return Lc(e,[m_(tf(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,mi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new y(this.firestore,e))}isEqual(t){return fM(this._delegate,t._delegate)}withConverter(t){return new bt(this.firestore,this._delegate.withConverter(t?m.getInstance(this.firestore,t):null))}}function Lt(n){return qn(n,zi)}class Yt{constructor(...t){this._delegate=new Oc(...t)}static documentId(){return new Yt(tr.keyField().canonicalString())}isEqual(t){return(t=(0,Nn.m9)(t))instanceof Oc&&this._delegate._internalPath.isEqual(t._internalPath)}}class sn{constructor(t){this._delegate=t}static serverTimestamp(){const t=function AL(){return new Vo("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new sn(t)}static delete(){const t=function L1(){return new Qp("deleteField")}();return t._methodName="FieldValue.delete",new sn(t)}static arrayUnion(...t){const e=function TL(...n){return new g1("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new sn(e)}static arrayRemove(...t){const e=function N1(...n){return new WC("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new sn(e)}static increment(t){const e=function B1(n){return new _1("increment",n)}(t);return e._methodName="FieldValue.increment",new sn(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const bn={Firestore:j1,GeoPoint:$C,Timestamp:qi,Blob:Cb,Transaction:d,WriteBatch:f,DocumentReference:y,DocumentSnapshot:se,Query:Be,QueryDocumentSnapshot:Se,QuerySnapshot:at,CollectionReference:bt,FieldPath:Yt,FieldValue:sn,setLogLevel:function c(n){!function GF(n){vh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Dn(n){(function Mt(n,t){n.INTERNAL.registerComponent(new Jl.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},bn)))})(n,(t,e)=>new j1(t,e,new PL)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(ba.Z);var Ot=He(7579),Xn=He(6451),xl=He(5363),Bc=He(8421);function Xi(n,t){return(0,_i.e)((e,i)=>{let r=null,s=0,a=!1;const u=()=>a&&!r&&i.complete();e.subscribe((0,Si.x)(i,h=>{r?.unsubscribe();let p=0;const v=s++;(0,Bc.Xf)(n(h,v)).subscribe(r=(0,Si.x)(i,w=>i.next(t?t(h,w,v,p++):w),()=>{r=null,u()}))},()=>{a=!0,u()}))})}var sx=He(6063);class ox extends Ot.x{constructor(t=1/0,e=1/0,i=sx.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:a}=this;e||(i.push(t),!r&&i.push(s.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let a=0;a<s.length&&!t.closed;a+=i?1:2)t.next(s[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const a=e.now();let u=0;for(let h=1;h<i.length&&i[h]<=a;h+=2)u=h;u&&i.splice(0,u+1)}}}var xb=He(3099);function D_(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,xb.B)({connector:()=>new ox(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const im=(0,He(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Dl=He(515);function Gi(n){return n<=0?()=>Dl.E:(0,_i.e)((t,e)=>{let i=0;t.subscribe((0,Si.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function NM(n){return(0,_i.e)((t,e)=>{let i=!1;t.subscribe((0,Si.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function FL(n=dG){return(0,_i.e)((t,e)=>{let i=!1;t.subscribe((0,Si.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function dG(){return new im}function cf(n,t){const e=arguments.length>=2;return i=>i.pipe(n?$n((r,s)=>n(r,s,i)):Hs.y,Gi(1),e?NM(t):FL(()=>new im))}var Sl=He(576);function LL(n,t){return(0,Sl.m)(t)?Xi(()=>n,t):Xi(()=>n)}var U1=He(9468);He(259);const G1=new Map,BL={activated:!1,tokenObservers:[]},gG={initialized:!1,enabled:!1};function Rr(n){return G1.get(n)||Object.assign({},BL)}function VM(){return gG}class CG{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,vt.Z)(function*(){e.stop();try{e.pending=new Nn.BH,yield function xG(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Nn.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Gs=new Nn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function W1(n){if(!Rr(n).activated)throw Gs.create("use-before-activation",{appName:n.name})}function UM(n,t){return q1.apply(this,arguments)}function q1(){return q1=(0,vt.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const w=yield r.getHeartbeatsHeader();w&&(i["X-Firebase-Client"]=w)}const s={method:"POST",body:JSON.stringify(t),headers:i};let a,u;try{a=yield fetch(n,s)}catch(w){throw Gs.create("fetch-network-error",{originalErrorMessage:w?.message})}if(200!==a.status)throw Gs.create("fetch-status-error",{httpStatus:a.status});try{u=yield a.json()}catch(w){throw Gs.create("fetch-parse-error",{originalErrorMessage:w?.message})}const h=u.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Gs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const p=1e3*Number(h[1]),v=Date.now();return{token:u.token,expireTimeMillis:v+p,issuedAtTimeMillis:v}}),q1.apply(this,arguments)}function HL(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const lx="firebase-app-check-store";let zM=null;function UL(){return zM||(zM=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Gs.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(lx,{keyPath:"compositeKey"})}}catch(e){t(Gs.create("storage-open",{originalErrorMessage:e?.message}))}}),zM)}function Z1(){return Z1=(0,vt.Z)(function*(n,t){const i=(yield UL()).transaction(lx,"readwrite"),s=i.objectStore(lx).put({compositeKey:n,value:t});return new Promise((a,u)=>{s.onsuccess=h=>{a()},i.onerror=h=>{var p;u(Gs.create("storage-set",{originalErrorMessage:null===(p=h.target.error)||void 0===p?void 0:p.message}))}})}),Z1.apply(this,arguments)}const cx=new Yo.Yd("@firebase/app-check");function Q1(n,t){return(0,Nn.hl)()?function IG(n,t){return function zL(n,t){return Z1.apply(this,arguments)}(function $L(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{cx.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function eR(){return VM().enabled}function tR(){return nR.apply(this,arguments)}function nR(){return nR=(0,vt.Z)(function*(){const n=VM();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),nR.apply(this,arguments)}const LG={error:"UNKNOWN_ERROR"};function NG(n){return Nn.US.encodeString(JSON.stringify(n),!1)}function GM(n){return iR.apply(this,arguments)}function iR(){return iR=(0,vt.Z)(function*(n,t=!1){const e=n.app;W1(e);const i=Rr(e);let s,r=i.token;if(r&&!Db(r)&&(i.token=void 0,r=void 0),!r){const h=yield i.cachedTokenPromise;h&&(Db(h)?r=h:yield Q1(e,void 0))}if(!t&&r&&Db(r))return{token:r.token};let u,a=!1;if(eR()){i.exchangeTokenPromise||(i.exchangeTokenPromise=UM(HL(e,yield tR()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const h=yield i.exchangeTokenPromise;return yield Q1(e,h),i.token=h,{token:h.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),r=yield Rr(e).exchangeTokenPromise}catch(h){"appCheck/throttled"===h.code?cx.warn(h.message):cx.error(h),s=h}return r?s?u=Db(r)?{token:r.token,internalError:s}:ZL(s):(u={token:r.token},i.token=r,yield Q1(e,r)):u=ZL(s),a&&qL(e,u),u}),iR.apply(this,arguments)}function rR(){return rR=(0,vt.Z)(function*(n){const t=n.app;W1(t);const{provider:e}=Rr(t);if(eR()){const i=yield tR(),{token:r}=yield UM(HL(t,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield e.getToken();return{token:i}}}),rR.apply(this,arguments)}function oR(n,t){const e=Rr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function YL(n){const{app:t}=n,e=Rr(t);let i=e.tokenRefresher;i||(i=function BG(n){const{app:t}=n;return new CG((0,vt.Z)(function*(){let i;if(i=Rr(t).token?yield GM(n,!0):yield GM(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Rr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function qL(n,t){const e=Rr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function Db(n){return n.expireTimeMillis-Date.now()>0}function ZL(n){return{token:NG(LG),error:n}}class VG{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Rr(this.app);for(const e of t)oR(this.app,e.next);return Promise.resolve()}}const iN="app-check-internal";!function JG(){(0,vs._registerComponent)(new Jl.wA("app-check",n=>function HG(n,t){return new VG(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(iN).initialize()})),(0,vs._registerComponent)(new Jl.wA(iN,n=>function jG(n){return{getToken:t=>GM(n,t),getLimitedUseToken:()=>function WL(n){return rR.apply(this,arguments)}(n),addTokenListener:t=>function sR(n,t,e,i){const{app:r}=n,s=Rr(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&Db(s.token)){const u=s.token;Promise.resolve().then(()=>{e({token:u.token}),YL(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>YL(n))}(n,"INTERNAL",t),removeTokenListener:t=>oR(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,vs.registerVersion)("@firebase/app-check","0.8.0")}();class uR{constructor(){return(0,er.vb)("app-check")}}typeof window<"u"&&window;var sN=He(9260);const oN=new o.OlP("angularfire2.auth.use-emulator"),aN=new o.OlP("angularfire2.auth.settings"),lN=new o.OlP("angularfire2.auth.tenant-id"),cN=new o.OlP("angularfire2.auth.langugage-code"),uN=new o.OlP("angularfire2.auth.use-device-language"),dN=new o.OlP("angularfire.auth.persistence"),hN=(n,t,e,i,r,s,a,u)=>(0,Sr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const h=t.runOutsideAngular(()=>n.auth());if(e&&h.useEmulator(...e),i&&(h.tenantId=i),h.languageCode=r,s&&h.useDeviceLanguage(),a)for(const[p,v]of Object.entries(a))h.settings[p]=v;return u&&h.setPersistence(u),h},[e,i,r,s,a,u]);let WM=(()=>{class n{constructor(e,i,r,s,a,u,h,p,v,w,O,Y){const he=new Ot.x,_e=Bt(void 0).pipe((0,xl.Q)(a.outsideAngular),Xi(()=>s.runOutsideAngular(()=>Promise.resolve().then(He.bind(He,2644)))),(0,en.U)(()=>(0,Sr.on)(e,s,i)),(0,en.U)(ke=>hN(ke,s,u,p,v,w,h,O)),D_({bufferSize:1,refCount:!1}));if(Zc(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Bt(null);else{_e.pipe(cf()).subscribe();const We=_e.pipe(Xi(ht=>ht.getRedirectResult().then(ft=>ft,()=>null)),er.iC,D_({bufferSize:1,refCount:!1})),Je=_e.pipe(Xi(ht=>new cr.y(ft=>({unsubscribe:s.runOutsideAngular(()=>ht.onAuthStateChanged(xt=>ft.next(xt),xt=>ft.error(xt),()=>ft.complete()))})))),ct=_e.pipe(Xi(ht=>new cr.y(ft=>({unsubscribe:s.runOutsideAngular(()=>ht.onIdTokenChanged(xt=>ft.next(xt),xt=>ft.error(xt),()=>ft.complete()))}))));this.authState=We.pipe(LL(Je),(0,U1.R)(a.outsideAngular),(0,xl.Q)(a.insideAngular)),this.user=We.pipe(LL(ct),(0,U1.R)(a.outsideAngular),(0,xl.Q)(a.insideAngular)),this.idToken=this.user.pipe(Xi(ht=>ht?(0,Hn.D)(ht.getIdToken()):Bt(null))),this.idTokenResult=this.user.pipe(Xi(ht=>ht?(0,Hn.D)(ht.getIdTokenResult()):Bt(null))),this.credential=(0,Xn.T)(We,he,this.authState.pipe($n(ht=>!ht))).pipe((0,en.U)(ht=>ht?.user?ht:null),(0,U1.R)(a.outsideAngular),(0,xl.Q)(a.insideAngular))}return(0,Sr.pX)(this,_e,s,{spy:{apply:(ke,We,Je)=>{(ke.startsWith("signIn")||ke.startsWith("createUser"))&&Je.then(ct=>he.next(ct))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Sr.Dh),o.LFG(Sr.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(er.HU),o.LFG(oN,8),o.LFG(aN,8),o.LFG(lN,8),o.LFG(cN,8),o.LFG(uN,8),o.LFG(dN,8),o.LFG(uR,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),o6=(()=>{class n{constructor(){sN.Z.registerVersion("angularfire",er.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[WM]}),n})();function fN(n,t){return function a6(n,t=no.z){return new cr.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function hR(n,t){return fN(n,t).pipe((0,en.U)(e=>({payload:e,type:"query"})))}function YM(n,t){return hR(n,t).pipe(Yn(void 0),Ei(),(0,en.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(a=>({type:a.type,payload:a}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const h=r.find(v=>v.doc.ref.isEqual(a.ref)),p=e?.payload.docs.find(v=>v.ref.isEqual(a.ref));h&&JSON.stringify(h.doc.metadata)===JSON.stringify(a.metadata)||!h&&p&&JSON.stringify(p.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),s}))}function pN(n,t,e){return YM(n,e).pipe(sl((i,r)=>function c6(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function u6(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return fR(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return fR(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return fR(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),ol(),(0,en.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function fR(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function mN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class gN{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=YM(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,en.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Yn(void 0),Ei(),$n(([i,r])=>r.length>0||!i),(0,en.U)(([i,r])=>r),er.iC)}auditTrail(t){return this.stateChanges(t).pipe(sl((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=mN(t);return pN(this.query,e,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(t={}){return hR(this.query,this.afs.schedulers.outsideAngular).pipe((0,en.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),er.iC)}get(t){return(0,Hn.D)(this.query.get(t)).pipe(er.iC)}add(t){return this.ref.add(t)}doc(t){return new _N(this.ref.doc(t),this.afs)}}class _N{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=bN(i,e);return new gN(r,s,this.afs)}snapshotChanges(){return function l6(n,t){return fN(n,t).pipe(Yn(void 0),Ei(),(0,en.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,en.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Hn.D)(this.ref.get(t)).pipe(er.iC)}}class d6{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?YM(this.query,this.afs.schedulers.outsideAngular).pipe((0,en.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),$n(e=>e.length>0),er.iC):YM(this.query,this.afs.schedulers.outsideAngular).pipe(er.iC)}auditTrail(t){return this.stateChanges(t).pipe(sl((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=mN(t);return pN(this.query,e,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(t={}){return hR(this.query,this.afs.schedulers.outsideAngular).pipe((0,en.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),er.iC)}get(t){return(0,Hn.D)(this.query.get(t)).pipe(er.iC)}}const yN=new o.OlP("angularfire2.enableFirestorePersistence"),vN=new o.OlP("angularfire2.firestore.persistenceSettings"),h6=new o.OlP("angularfire2.firestore.settings"),f6=new o.OlP("angularfire2.firestore.use-emulator");function bN(n,t=(e=>e)){return{query:t(n),ref:n}}let qM=(()=>{class n{constructor(e,i,r,s,a,u,h,p,v,w,O,Y,he,_e,ke,We,Je){this.schedulers=h;const ct=(0,Sr.on)(e,u,i),ht=v;w&&hN(ct,u,O,he,_e,ke,Y,We),[this.firestore,this.persistenceEnabled$]=(0,Sr.cc)(`${ct.name}.firestore`,"AngularFirestore",ct.name,()=>{const ft=u.runOutsideAngular(()=>ct.firestore());if(s&&ft.settings(s),ht&&ft.useEmulator(...ht),r&&!Zc(a)){const xt=()=>{try{return(0,Hn.D)(ft.enablePersistence(p||void 0).then(()=>!0,()=>!1))}catch(Tt){return typeof console<"u"&&console.warn(Tt),Bt(!1)}};return[ft,u.runOutsideAngular(xt)]}return[ft,Bt(!1)]},[s,ht,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:a}=bN(r,i),u=this.schedulers.ngZone.run(()=>s);return new gN(u,a,this)}collectionGroup(e,i){const r=i||(a=>a),s=this.firestore.collectionGroup(e);return new d6(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new _N(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Sr.Dh),o.LFG(Sr.xv,8),o.LFG(yN,8),o.LFG(h6,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(er.HU),o.LFG(vN,8),o.LFG(f6,8),o.LFG(WM,8),o.LFG(oN,8),o.LFG(aN,8),o.LFG(lN,8),o.LFG(cN,8),o.LFG(uN,8),o.LFG(dN,8),o.LFG(uR,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),p6=(()=>{class n{constructor(){sN.Z.registerVersion("angularfire",er.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:yN,useValue:!0},{provide:vN,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[qM]}),n})();class go extends Ot.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:m6}=Array,{getPrototypeOf:g6,prototype:_6,keys:y6}=Object;function wN(n){if(1===n.length){const t=n[0];if(m6(t))return{args:t,keys:null};if(function v6(n){return n&&"object"==typeof n&&g6(n)===_6}(t)){const e=y6(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:b6}=Array;function pR(n){return(0,en.U)(t=>function w6(n,t){return b6(t)?n(...t):n(t)}(n,t))}function CN(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var C6=He(9672);function S_(...n){const t=(0,$r.yG)(n),e=(0,$r.jO)(n),{args:i,keys:r}=wN(n);if(0===i.length)return(0,Hn.D)([],t);const s=new cr.y(function x6(n,t,e=Hs.y){return i=>{xN(t,()=>{const{length:r}=n,s=new Array(r);let a=r,u=r;for(let h=0;h<r;h++)xN(t,()=>{const p=(0,Hn.D)(n[h],t);let v=!1;p.subscribe((0,Si.x)(i,w=>{s[h]=w,v||(v=!0,u--),u||i.next(e(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>CN(r,a):Hs.y));return e?s.pipe(pR(e)):s}function xN(n,t,e){n?(0,C6.f)(e,n,t):t()}function ux(n){return new cr.y(t=>{(0,Bc.Xf)(n()).subscribe(t)})}var D6=He(9635);function Sb(n,t){const e=(0,Sl.m)(n)?n:()=>n,i=r=>r.error(e());return new cr.y(t?r=>t.schedule(i,0,r):i)}var Is=He(727);function mR(){return(0,_i.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Si.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class gR extends cr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,_i.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Is.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Si.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Is.w0.EMPTY)}return t}refCount(){return mR()(this)}}var $s=He(5577);function rm(n,t){return(0,Sl.m)(t)?(0,$s.z)(n,t,1):(0,$s.z)(n,1)}var Jr=He(8505);function uf(n){return(0,_i.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,Si.x)(e,void 0,void 0,a=>{s=(0,Bc.Xf)(n(a,uf(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function _R(n){return n<=0?()=>Dl.E:(0,_i.e)((t,e)=>{let i=[];t.subscribe((0,Si.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function DN(n,t){const e=arguments.length>=2;return i=>i.pipe(n?$n((r,s)=>n(r,s,i)):Hs.y,_R(1),e?NM(t):FL(()=>new im))}function SN(n,t=!1){return(0,_i.e)((e,i)=>{let r=0;e.subscribe((0,Si.x)(i,s=>{const a=n(s,r++);(a||t)&&i.next(s),!a&&i.complete()}))})}function ZM(n){return(0,en.U)(()=>n)}function KM(n){return(0,_i.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Zn="primary",dx=Symbol("RouteTitle");class S6{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Eb(n){return new S6(n)}function E6(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],u=n[s];if(a.startsWith(":"))r[a.substring(1)]=u;else if(a!==u.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function dd(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!EN(n[r],t[r]))return!1;return!0}function EN(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function MN(n){return Array.prototype.concat.apply([],n)}function AN(n){return n.length>0?n[n.length-1]:null}function Ws(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function sm(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,Hn.D)(Promise.resolve(n)):Bt(n)}const T6={exact:function kN(n,t,e){if(!M_(n.segments,t.segments)||!XM(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!kN(n.children[i],t.children[i],e))return!1;return!0},subset:RN},TN={exact:function I6(n,t){return dd(n,t)},subset:function k6(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>EN(n[e],t[e]))},ignored:()=>!0};function IN(n,t,e){return T6[e.paths](n.root,t.root,e.matrixParams)&&TN[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function RN(n,t,e){return ON(n,t,t.segments,e)}function ON(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!M_(r,e)||t.hasChildren()||!XM(r,e,i))}if(n.segments.length===e.length){if(!M_(n.segments,e)||!XM(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!RN(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(M_(n.segments,r)&&XM(n.segments,r,i)&&n.children[Zn])&&ON(n.children[Zn],t,s,i)}}function XM(n,t,e){return t.every((i,r)=>TN[e](n[r].parameters,i.parameters))}class E_{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eb(this.queryParams)),this._queryParamMap}toString(){return P6.serialize(this)}}class Qn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ws(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return QM(this)}}class hx{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Eb(this.parameters)),this._parameterMap}toString(){return NN(this)}}function M_(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let PN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return new vR},providedIn:"root"}),n})();class vR{parse(t){const e=new z6(t);return new E_(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${fx(t.root,!0)}`,i=function N6(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${JM(e)}=${JM(r)}`).join("&"):`${JM(e)}=${JM(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function F6(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const P6=new vR;function QM(n){return n.segments.map(t=>NN(t)).join("/")}function fx(n,t){if(!n.hasChildren())return QM(n);if(t){const e=n.children[Zn]?fx(n.children[Zn],!1):"",i=[];return Ws(n.children,(r,s)=>{s!==Zn&&i.push(`${s}:${fx(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function O6(n,t){let e=[];return Ws(n.children,(i,r)=>{r===Zn&&(e=e.concat(t(i,r)))}),Ws(n.children,(i,r)=>{r!==Zn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Zn?[fx(n.children[Zn],!1)]:[`${r}:${fx(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Zn]?`${QM(n)}/${e[0]}`:`${QM(n)}/(${e.join("//")})`}}function FN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function JM(n){return FN(n).replace(/%3B/gi,";")}function bR(n){return FN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function eA(n){return decodeURIComponent(n)}function LN(n){return eA(n.replace(/\+/g,"%20"))}function NN(n){return`${bR(n.path)}${function L6(n){return Object.keys(n).map(t=>`;${bR(t)}=${bR(n[t])}`).join("")}(n.parameters)}`}const B6=/^[^\/()?;=#]+/;function tA(n){const t=n.match(B6);return t?t[0]:""}const V6=/^[^=?&#]+/,j6=/^[^&#]+/;class z6{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qn([],{}):new Qn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Zn]=new Qn(t,e)),i}parseSegment(){const t=tA(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new o.vHH(4009,!1);return this.capture(t),new hx(eA(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=tA(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=tA(this.remaining);r&&(i=r,this.capture(i))}t[eA(e)]=eA(i)}parseQueryParam(t){const e=function H6(n){const t=n.match(V6);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function U6(n){const t=n.match(j6);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=LN(e),s=LN(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=tA(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new o.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Zn);const a=this.parseChildren();e[s]=1===Object.keys(a).length?a[Zn]:new Qn([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new o.vHH(4011,!1)}}function wR(n){return n.segments.length>0?new Qn([],{[Zn]:n}):n}function nA(n){const t={};for(const i of Object.keys(n.children)){const s=nA(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function G6(n){if(1===n.numberOfChildren&&n.children[Zn]){const t=n.children[Zn];return new Qn(n.segments.concat(t.segments),t.children)}return n}(new Qn(n.segments,t))}function A_(n){return n instanceof E_}function Y6(n,t,e,i,r){if(0===e.length)return Mb(t.root,t.root,t.root,i,r);const s=function HN(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new VN(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const u={};return Ws(s.outlets,(h,p)=>{u[p]="string"==typeof h?h.split("/"):h}),[...r,{outlets:u}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((u,h)=>{0==h&&"."===u||(0==h&&""===u?e=!0:".."===u?t++:""!=u&&r.push(u))}),r):[...r,s]},[]);return new VN(e,t,i)}(e);return s.toRoot()?Mb(t.root,t.root,new Qn([],{}),i,r):function a(h){const p=function Z6(n,t,e,i){if(n.isAbsolute)return new Ab(t.root,!0,0);if(-1===i)return new Ab(e,e===t.root,0);return function jN(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new o.vHH(4005,!1);r=i.segments.length}return new Ab(i,!1,r-s)}(e,i+(px(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,h),v=p.processChildren?gx(p.segmentGroup,p.index,s.commands):xR(p.segmentGroup,p.index,s.commands);return Mb(t.root,p.segmentGroup,v,i,r)}(n.snapshot?._lastPathIndex)}function px(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function mx(n){return"object"==typeof n&&null!=n&&n.outlets}function Mb(n,t,e,i,r){let a,s={};i&&Ws(i,(h,p)=>{s[p]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),a=n===t?e:BN(n,t,e);const u=wR(nA(a));return new E_(u,s,r)}function BN(n,t,e){const i={};return Ws(n.children,(r,s)=>{i[s]=r===t?e:BN(r,t,e)}),new Qn(n.segments,i)}class VN{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&px(i[0]))throw new o.vHH(4003,!1);const r=i.find(mx);if(r&&r!==AN(i))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ab{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function xR(n,t,e){if(n||(n=new Qn([],{})),0===n.segments.length&&n.hasChildren())return gx(n,t,e);const i=function X6(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const a=n.segments[r],u=e[i];if(mx(u))break;const h=`${u}`,p=i<e.length-1?e[i+1]:null;if(r>0&&void 0===h)break;if(h&&p&&"object"==typeof p&&void 0===p.outlets){if(!zN(h,p,a))return s;i+=2}else{if(!zN(h,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Qn(n.segments.slice(0,i.pathIndex),{});return s.children[Zn]=new Qn(n.segments.slice(i.pathIndex),n.children),gx(s,0,r)}return i.match&&0===r.length?new Qn(n.segments,{}):i.match&&!n.hasChildren()?DR(n,t,e):i.match?gx(n,0,r):DR(n,t,e)}function gx(n,t,e){if(0===e.length)return new Qn(n.segments,{});{const i=function K6(n){return mx(n[0])?n[0].outlets:{[Zn]:n}}(e),r={};return Ws(i,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[a]=xR(n.children[a],t,s))}),Ws(n.children,(s,a)=>{void 0===i[a]&&(r[a]=s)}),new Qn(n.segments,r)}}function DR(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(mx(s)){const h=Q6(s.outlets);return new Qn(i,h)}if(0===r&&px(e[0])){i.push(new hx(n.segments[t].path,UN(e[0]))),r++;continue}const a=mx(s)?s.outlets[Zn]:`${s}`,u=r<e.length-1?e[r+1]:null;a&&u&&px(u)?(i.push(new hx(a,UN(u))),r+=2):(i.push(new hx(a,{})),r++)}return new Qn(i,{})}function Q6(n){const t={};return Ws(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=DR(new Qn([],{}),0,e))}),t}function UN(n){const t={};return Ws(n,(e,i)=>t[i]=`${e}`),t}function zN(n,t,e){return n==e.path&&dd(t,e.parameters)}class df{constructor(t,e){this.id=t,this.url=e}}class SR extends df{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class T_ extends df{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class iA extends df{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class GN extends df{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class J6 extends df{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class e$ extends df{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t$ extends df{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class n$ extends df{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class i$ extends df{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r${constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class s${constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class o${constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a${constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class l${constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c${constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $N{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class WN{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ER(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=ER(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=MR(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return MR(t,this._root).map(e=>e.value)}}function ER(n,t){if(n===t.value)return t;for(const e of t.children){const i=ER(n,e);if(i)return i}return null}function MR(n,t){if(n===t.value)return[t];for(const e of t.children){const i=MR(n,e);if(i.length)return i.unshift(t),i}return[]}class hf{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Tb(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class YN extends WN{constructor(t,e){super(t),this.snapshot=e,AR(this,t)}toString(){return this.snapshot.toString()}}function qN(n,t){const e=function d$(n,t){const a=new rA([],{},{},"",{},Zn,t,null,n.root,-1,{});return new KN("",new hf(a,[]))}(n,t),i=new go([new hx("",{})]),r=new go({}),s=new go({}),a=new go({}),u=new go(""),h=new ff(i,r,a,u,s,Zn,t,e.root);return h.snapshot=e.root,new YN(new hf(h,[]),e)}class ff{constructor(t,e,i,r,s,a,u,h){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=u,this.title=this.data?.pipe((0,en.U)(p=>p[dx]))??Bt(void 0),this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,en.U)(t=>Eb(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,en.U)(t=>Eb(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ZN(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function h$(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class rA{constructor(t,e,i,r,s,a,u,h,p,v,w,O){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=u,this.title=this.data?.[dx],this.routeConfig=h,this._urlSegment=p,this._lastPathIndex=v,this._correctedLastPathIndex=O??v,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Eb(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eb(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class KN extends WN{constructor(t,e){super(e),this.url=t,AR(this,e)}toString(){return XN(this._root)}}function AR(n,t){t.value._routerState=n,t.children.forEach(e=>AR(n,e))}function XN(n){const t=n.children.length>0?` { ${n.children.map(XN).join(", ")} } `:"";return`${n.value}${t}`}function TR(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,dd(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),dd(t.params,e.params)||n.params.next(e.params),function M6(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!dd(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),dd(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function IR(n,t){const e=dd(n.params,t.params)&&function R6(n,t){return M_(n,t)&&n.every((e,i)=>dd(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||IR(n.parent,t.parent))}function _x(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function p$(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return _x(n,i,r);return _x(n,i)})}(n,t,e);return new hf(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(u=>_x(n,u)),a}}const i=function m$(n){return new ff(new go(n.url),new go(n.params),new go(n.queryParams),new go(n.fragment),new go(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>_x(n,s));return new hf(i,r)}}const kR="ngNavigationCancelingError";function QN(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=A_(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=JN(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function JN(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[kR]=!0,i.cancellationCode=t,e&&(i.url=e),i}function e2(n){return t2(n)&&A_(n.url)}function t2(n){return n&&n[kR]}class g${constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new yx,this.attachRef=null}}let yx=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new g$,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sA=!1;let oA=(()=>{class n{constructor(e,i,r,s,a){this.parentContexts=e,this.location=i,this.changeDetector=s,this.environmentInjector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=r||Zn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,sA);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,sA);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,sA);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new o.vHH(4013,sA);this._activatedRoute=e;const r=this.location,a=e._futureSnapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,h=new _$(e,u,r.injector);if(i&&function y$(n){return!!n.resolveComponentFactory}(i)){const p=i.resolveComponentFactory(a);this.activated=r.createComponent(p,r.length,h)}else this.activated=r.createComponent(a,{index:r.length,injector:h,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(yx),o.Y36(o.s_b),o.$8M("name"),o.Y36(o.sBO),o.Y36(o.lqb))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class _${constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ff?this.route:t===yx?this.childContexts:this.parent.get(t,e)}}let RR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},dependencies:[oA],encapsulation:2}),n})();function n2(n,t){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function PR(n){const t=n.children&&n.children.map(PR),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Zn&&(e.component=RR),e}function El(n){return n.outlet||Zn}function r2(n,t){const e=n.filter(i=>El(i)===t);return e.push(...n.filter(i=>El(i)!==t)),e}function vx(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class x${constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),TR(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Tb(e);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),Ws(r,(s,a)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Tb(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Tb(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Tb(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new c$(s.value.snapshot))}),t.children.length&&this.forwardEvent(new a$(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(TR(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),TR(u.route.value),this.activateChildRoutes(t,null,a.children)}else{const u=vx(r.snapshot),h=u?.get(o._Vd)??null;a.attachRef=null,a.route=r,a.resolver=h,a.injector=u,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class s2{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class aA{constructor(t,e){this.component=t,this.route=e}}function D$(n,t,e){const i=n._root;return bx(i,t?t._root:null,e,[i.value])}function Ib(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,o.Z0I)(n)?t.get(n):n:i}function bx(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Tb(t);return n.children.forEach(a=>{(function E$(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=t?t.value:null,u=e?e.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const h=function M$(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!M_(n.url,t.url);case"pathParamsOrQueryParamsChange":return!M_(n.url,t.url)||!dd(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!IR(n,t)||!dd(n.queryParams,t.queryParams);default:return!IR(n,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);h?r.canActivateChecks.push(new s2(i)):(s.data=a.data,s._resolvedData=a._resolvedData),bx(n,t,s.component?u?u.children:null:e,i,r),h&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new aA(u.outlet.component,a))}else a&&wx(t,u,r),r.canActivateChecks.push(new s2(i)),bx(n,null,s.component?u?u.children:null:e,i,r)})(a,s[a.value.outlet],e,i.concat([a.value]),r),delete s[a.value.outlet]}),Ws(s,(a,u)=>wx(a,e.getContext(u),r)),r}function wx(n,t,e){const i=Tb(n),r=n.value;Ws(i,(s,a)=>{wx(s,r.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new aA(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Cx(n){return"function"==typeof n}function FR(n){return n instanceof im||"EmptyError"===n?.name}const lA=Symbol("INITIAL_VALUE");function kb(){return Xi(n=>S_(n.map(t=>t.pipe(Gi(1),Yn(lA)))).pipe((0,en.U)(t=>{for(const e of t)if(!0!==e){if(e===lA)return lA;if(!1===e||e instanceof E_)return e}return!0}),$n(t=>t!==lA),Gi(1)))}function o2(n){return(0,D6.z)((0,Jr.b)(t=>{if(A_(t))throw QN(0,t)}),(0,en.U)(t=>!0===t))}const LR={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function a2(n,t,e,i,r){const s=NR(n,t,e);return s.matched?function G$(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Bt(r.map(a=>{const u=Ib(a,n);return sm(function O$(n){return n&&Cx(n.canMatch)}(u)?u.canMatch(t,e):n.runInContext(()=>u(t,e)))})).pipe(kb(),o2()):Bt(!0)}(i=n2(t,i),t,e).pipe((0,en.U)(a=>!0===a?s:{...LR})):Bt(s)}function NR(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...LR}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||E6)(e,n,t);if(!r)return{...LR};const s={};Ws(r.posParams,(u,h)=>{s[h]=u.path});const a=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function cA(n,t,e,i,r="corrected"){if(e.length>0&&function Y$(n,t,e){return e.some(i=>uA(n,t,i)&&El(i)!==Zn)}(n,e,i)){const a=new Qn(t,function W$(n,t,e,i){const r={};r[Zn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&El(s)!==Zn){const a=new Qn([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,r[El(s)]=a}return r}(n,t,i,new Qn(e,n.children)));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function q$(n,t,e){return e.some(i=>uA(n,t,i))}(n,e,i)){const a=new Qn(n.segments,function $$(n,t,e,i,r,s){const a={};for(const u of i)if(uA(n,e,u)&&!r[El(u)]){const h=new Qn([],{});h._sourceSegment=n,h._segmentIndexShift="legacy"===s?n.segments.length:t.length,a[El(u)]=h}return{...r,...a}}(n,t,e,i,n.children,r));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const s=new Qn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function uA(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function l2(n,t,e,i){return!!(El(n)===i||i!==Zn&&uA(t,e,n))&&("**"===n.path||NR(t,n,e).matched)}function c2(n,t,e){return 0===t.length&&!n.children[e]}const dA=!1;class hA{constructor(t){this.segmentGroup=t||null}}class u2{constructor(t){this.urlTree=t}}function xx(n){return Sb(new hA(n))}function d2(n){return Sb(new u2(n))}class Q${constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=cA(this.urlTree.root,[],[],this.config).segmentGroup,e=new Qn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Zn).pipe((0,en.U)(s=>this.createUrlTree(nA(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(uf(s=>{if(s instanceof u2)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof hA?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Zn).pipe((0,en.U)(r=>this.createUrlTree(nA(r),t.queryParams,t.fragment))).pipe(uf(r=>{throw r instanceof hA?this.noMatchError(r):r}))}noMatchError(t){return new o.vHH(4002,dA)}createUrlTree(t,e,i){const r=wR(t);return new E_(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,en.U)(s=>new Qn([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Hn.D)(r).pipe(rm(s=>{const a=i.children[s],u=r2(e,s);return this.expandSegmentGroup(t,u,a,s).pipe((0,en.U)(h=>({segment:h,outlet:s})))}),sl((s,a)=>(s[a.outlet]=a.segment,s),{}),DN())}expandSegment(t,e,i,r,s,a){return(0,Hn.D)(i).pipe(rm(u=>this.expandSegmentAgainstRoute(t,e,i,u,r,s,a).pipe(uf(p=>{if(p instanceof hA)return Bt(null);throw p}))),cf(u=>!!u),uf((u,h)=>{if(FR(u))return c2(e,r,s)?Bt(new Qn([],{})):xx(e);throw u}))}expandSegmentAgainstRoute(t,e,i,r,s,a,u){return l2(r,e,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,a):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a):xx(e):xx(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?d2(s):this.lineralizeSegments(i,s).pipe((0,$s.z)(a=>{const u=new Qn(a,{});return this.expandSegment(t,u,e,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){const{matched:u,consumedSegments:h,remainingSegments:p,positionalParamSegments:v}=NR(e,r,s);if(!u)return xx(e);const w=this.applyRedirectCommands(h,r.redirectTo,v);return r.redirectTo.startsWith("/")?d2(w):this.lineralizeSegments(r,w).pipe((0,$s.z)(O=>this.expandSegment(t,e,i,O.concat(p),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=n2(i,t),i.loadChildren?(i._loadedRoutes?Bt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,en.U)(u=>(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,new Qn(r,{})))):Bt(new Qn(r,{}))):a2(e,i,r,t).pipe(Xi(({matched:a,consumedSegments:u,remainingSegments:h})=>a?this.getChildConfig(t=i._injector??t,i,r).pipe((0,$s.z)(v=>{const w=v.injector??t,O=v.routes,{segmentGroup:Y,slicedSegments:he}=cA(e,u,h,O),_e=new Qn(Y.segments,Y.children);if(0===he.length&&_e.hasChildren())return this.expandChildren(w,O,_e).pipe((0,en.U)(ct=>new Qn(u,ct)));if(0===O.length&&0===he.length)return Bt(new Qn(u,{}));const ke=El(i)===s;return this.expandSegment(w,_e,O,he,ke?Zn:s,!0).pipe((0,en.U)(Je=>new Qn(u.concat(Je.segments),Je.children)))})):xx(e)))}getChildConfig(t,e,i){return e.children?Bt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Bt({routes:e._loadedRoutes,injector:e._loadedInjector}):function z$(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Bt(!0):Bt(r.map(a=>{const u=Ib(a,n);return sm(function T$(n){return n&&Cx(n.canLoad)}(u)?u.canLoad(t,e):n.runInContext(()=>u(t,e)))})).pipe(kb(),o2())}(t,e,i).pipe((0,$s.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Jr.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function K$(n){return Sb(JN(dA,3))}())):Bt({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Bt(i);if(r.numberOfChildren>1||!r.children[Zn])return Sb(new o.vHH(4e3,dA));r=r.children[Zn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new E_(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Ws(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const u=r.substring(1);i[s]=e[u]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let a={};return Ws(e.children,(u,h)=>{a[h]=this.createSegmentGroup(t,u,i,r)}),new Qn(s,a)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new o.vHH(4001,dA);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class e5{}class r5{constructor(t,e,i,r,s,a,u,h){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=u,this.urlSerializer=h}recognize(){const t=cA(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Zn).pipe((0,en.U)(e=>{if(null===e)return null;const i=new rA([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Zn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new hf(i,e),s=new KN(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=ZN(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,Hn.D)(Object.keys(i.children)).pipe(rm(r=>{const s=i.children[r],a=r2(e,r);return this.processSegmentGroup(t,a,s,r)}),sl((r,s)=>r&&s?(r.push(...s),r):null),SN(r=>null!==r),NM(null),DN(),(0,en.U)(r=>{if(null===r)return null;const s=h2(r);return function s5(n){n.sort((t,e)=>t.value.outlet===Zn?-1:e.value.outlet===Zn?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return(0,Hn.D)(e).pipe(rm(a=>this.processSegmentAgainstRoute(a._injector??t,a,i,r,s)),cf(a=>!!a),uf(a=>{if(FR(a))return c2(i,r,s)?Bt([]):Bt(null);throw a}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!l2(e,i,r,s))return Bt(null);let a;if("**"===e.path){const u=r.length>0?AN(r).parameters:{},h=p2(i)+r.length;a=Bt({snapshot:new rA(r,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,g2(e),El(e),e.component??e._loadedComponent??null,e,f2(i),h,_2(e),h),consumedSegments:[],remainingSegments:[]})}else a=a2(i,e,r,t).pipe((0,en.U)(({matched:u,consumedSegments:h,remainingSegments:p,parameters:v})=>{if(!u)return null;const w=p2(i)+h.length;return{snapshot:new rA(h,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,g2(e),El(e),e.component??e._loadedComponent??null,e,f2(i),w,_2(e),w),consumedSegments:h,remainingSegments:p}}));return a.pipe(Xi(u=>{if(null===u)return Bt(null);const{snapshot:h,consumedSegments:p,remainingSegments:v}=u;t=e._injector??t;const w=e._loadedInjector??t,O=function o5(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:Y,slicedSegments:he}=cA(i,p,v,O.filter(ke=>void 0===ke.redirectTo),this.relativeLinkResolution);if(0===he.length&&Y.hasChildren())return this.processChildren(w,O,Y).pipe((0,en.U)(ke=>null===ke?null:[new hf(h,ke)]));if(0===O.length&&0===he.length)return Bt([new hf(h,[])]);const _e=El(e)===s;return this.processSegment(w,O,Y,he,_e?Zn:s).pipe((0,en.U)(ke=>null===ke?null:[new hf(h,ke)]))}))}}function a5(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function h2(n){const t=[],e=new Set;for(const i of n){if(!a5(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=h2(i.children);t.push(new hf(i.value,r))}return t.filter(i=>!e.has(i))}function f2(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function p2(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function g2(n){return n.data||{}}function _2(n){return n.resolve||{}}function y2(n){return"string"==typeof n.title||null===n.title}function BR(n){return Xi(t=>{const e=n(t);return e?(0,Hn.D)(e).pipe((0,en.U)(()=>t)):Bt(t)})}let v2=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Zn);return i}getResolvedTitleForRoute(e){return e.data[dx]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(b2)},providedIn:"root"}),n})(),b2=(()=>{class n extends v2{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ym))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class m5{}class _5 extends class g5{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const pA=new o.OlP("",{providedIn:"root",factory:()=>({})}),VR=new o.OlP("ROUTES");let HR=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Bt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=sm(e.loadComponent()).pipe((0,Jr.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),KM(()=>{this.componentLoaders.delete(e)})),r=new gR(i,()=>new Ot.x).pipe(mR());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Bt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,en.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let h,p,v=!1;Array.isArray(u)?p=u:(h=u.create(e).injector,p=MN(h.get(VR,[],o.XFs.Self|o.XFs.Optional)));return{routes:p.map(PR),injector:h}}),KM(()=>{this.childrenLoaders.delete(i)})),a=new gR(s,()=>new Ot.x).pipe(mR());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(e){return sm(e()).pipe((0,$s.z)(i=>i instanceof o.YKP||Array.isArray(i)?Bt(i):(0,Hn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3),o.LFG(o.Sil))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class v5{}class b5{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function w5(n){throw n}function C5(n,t,e){return t.parse("/")}const x5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},D5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function C2(){const n=(0,o.f3M)(PN),t=(0,o.f3M)(yx),e=(0,o.f3M)(G),i=(0,o.f3M)(o.zs3),r=(0,o.f3M)(o.Sil),s=(0,o.f3M)(VR,{optional:!0})??[],a=(0,o.f3M)(pA,{optional:!0})??{},u=(0,o.f3M)(b2),h=(0,o.f3M)(v2,{optional:!0}),p=(0,o.f3M)(v5,{optional:!0}),v=(0,o.f3M)(m5,{optional:!0}),w=new ks(null,n,t,e,i,r,MN(s));return p&&(w.urlHandlingStrategy=p),v&&(w.routeReuseStrategy=v),w.titleStrategy=h??u,function S5(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(a,w),w}let ks=(()=>{class n{constructor(e,i,r,s,a,u,h){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=h,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ot.x,this.errorHandler=w5,this.malformedUriErrorHandler=C5,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Bt(void 0),this.urlHandlingStrategy=new b5,this.routeReuseStrategy=new _5,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=a.get(HR),this.configLoader.onLoadEndListener=O=>this.triggerEvent(new s$(O)),this.configLoader.onLoadStartListener=O=>this.triggerEvent(new r$(O)),this.ngModule=a.get(o.h0i),this.console=a.get(o.c2e);const w=a.get(o.R0b);this.isNgZoneEnabled=w instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(h),this.currentUrlTree=function A6(){return new E_(new Qn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qN(this.currentUrlTree,this.rootComponentType),this.transitions=new go({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe($n(r=>0!==r.id),(0,en.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Xi(r=>{let s=!1,a=!1;return Bt(r).pipe((0,Jr.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Xi(u=>{const h=this.browserUrlTree.toString(),p=!this.navigated||u.extractedUrl.toString()!==h||h!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||p)&&this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return x2(u.source)&&(this.browserUrlTree=u.extractedUrl),Bt(u).pipe(Xi(w=>{const O=this.transitions.getValue();return i.next(new SR(w.id,this.serializeUrl(w.extractedUrl),w.source,w.restoredState)),O!==this.transitions.getValue()?Dl.E:Promise.resolve(w)}),function J$(n,t,e,i){return Xi(r=>function X$(n,t,e,i,r){return new Q$(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,en.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Jr.b)(w=>{this.currentNavigation={...this.currentNavigation,finalUrl:w.urlAfterRedirects},r.urlAfterRedirects=w.urlAfterRedirects}),function c5(n,t,e,i,r,s){return(0,$s.z)(a=>function n5(n,t,e,i,r,s,a="emptyOnly",u="legacy"){return new r5(n,t,e,i,r,a,u,s).recognize().pipe(Xi(h=>null===h?function t5(n){return new cr.y(t=>t.error(n))}(new e5):Bt(h)))}(n,t,e,a.urlAfterRedirects,i.serialize(a.urlAfterRedirects),i,r,s).pipe((0,en.U)(u=>({...a,targetSnapshot:u}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Jr.b)(w=>{if(r.targetSnapshot=w.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!w.extras.skipLocationChange){const Y=this.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl);this.setBrowserUrl(Y,w)}this.browserUrlTree=w.urlAfterRedirects}const O=new J6(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);i.next(O)}));if(p&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:Y,source:he,restoredState:_e,extras:ke}=u,We=new SR(O,this.serializeUrl(Y),he,_e);i.next(We);const Je=qN(Y,this.rootComponentType).snapshot;return Bt(r={...u,targetSnapshot:Je,urlAfterRedirects:Y,extras:{...ke,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=u.rawUrl,u.resolve(null),Dl.E}),(0,Jr.b)(u=>{const h=new e$(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(h)}),(0,en.U)(u=>r={...u,guards:D$(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function F$(n,t){return(0,$s.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=e;return 0===a.length&&0===s.length?Bt({...e,guardsResult:!0}):function L$(n,t,e,i){return(0,Hn.D)(n).pipe((0,$s.z)(r=>function U$(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Bt(s.map(u=>{const h=vx(t)??r,p=Ib(u,h);return sm(function R$(n){return n&&Cx(n.canDeactivate)}(p)?p.canDeactivate(n,t,e,i):h.runInContext(()=>p(n,t,e,i))).pipe(cf())})).pipe(kb()):Bt(!0)}(r.component,r.route,e,t,i)),cf(r=>!0!==r,!0))}(a,i,r,n).pipe((0,$s.z)(u=>u&&function A$(n){return"boolean"==typeof n}(u)?function N$(n,t,e,i){return(0,Hn.D)(t).pipe(rm(r=>Io(function V$(n,t){return null!==n&&t&&t(new o$(n)),Bt(!0)}(r.route.parent,i),function B$(n,t){return null!==n&&t&&t(new l$(n)),Bt(!0)}(r.route,i),function j$(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function S$(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>ux(()=>Bt(a.guards.map(h=>{const p=vx(a.node)??e,v=Ib(h,p);return sm(function k$(n){return n&&Cx(n.canActivateChild)}(v)?v.canActivateChild(i,n):p.runInContext(()=>v(i,n))).pipe(cf())})).pipe(kb())));return Bt(s).pipe(kb())}(n,r.path,e),function H$(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Bt(!0);const r=i.map(s=>ux(()=>{const a=vx(t)??e,u=Ib(s,a);return sm(function I$(n){return n&&Cx(n.canActivate)}(u)?u.canActivate(t,n):a.runInContext(()=>u(t,n))).pipe(cf())}));return Bt(r).pipe(kb())}(n,r.route,e))),cf(r=>!0!==r,!0))}(i,s,n,t):Bt(u)),(0,en.U)(u=>({...e,guardsResult:u})))})}(this.ngModule.injector,u=>this.triggerEvent(u)),(0,Jr.b)(u=>{if(r.guardsResult=u.guardsResult,A_(u.guardsResult))throw QN(0,u.guardsResult);const h=new t$(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.triggerEvent(h)}),$n(u=>!!u.guardsResult||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),BR(u=>{if(u.guards.canActivateChecks.length)return Bt(u).pipe((0,Jr.b)(h=>{const p=new n$(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),Xi(h=>{let p=!1;return Bt(h).pipe(function u5(n,t){return(0,$s.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Bt(e);let s=0;return(0,Hn.D)(r).pipe(rm(a=>function d5(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!y2(r)&&(s[dx]=r.title),function h5(n,t,e,i){const r=function f5(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Bt({});const s={};return(0,Hn.D)(r).pipe((0,$s.z)(a=>function p5(n,t,e,i){const r=vx(t)??i,s=Ib(n,r);return sm(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[a],t,e,i).pipe(cf(),(0,Jr.b)(u=>{s[a]=u}))),_R(1),ZM(s),uf(a=>FR(a)?Dl.E:Sb(a)))}(s,n,t,i).pipe((0,en.U)(a=>(n._resolvedData=a,n.data=ZN(n,e).resolve,r&&y2(r)&&(n.data[dx]=r.title),null)))}(a.route,i,n,t)),(0,Jr.b)(()=>s++),_R(1),(0,$s.z)(a=>s===r.length?Bt(e):Dl.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Jr.b)({next:()=>p=!0,complete:()=>{p||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,Jr.b)(h=>{const p=new i$(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}))}),BR(u=>{const h=p=>{const v=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(p.routeConfig).pipe((0,Jr.b)(w=>{p.component=w}),(0,en.U)(()=>{})));for(const w of p.children)v.push(...h(w));return v};return S_(h(u.targetSnapshot.root)).pipe(NM(),Gi(1))}),BR(()=>this.afterPreactivation()),(0,en.U)(u=>{const h=function f$(n,t,e){const i=_x(n,t._root,e?e._root:void 0);return new YN(i,t)}(this.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return r={...u,targetRouterState:h}}),(0,Jr.b)(u=>{this.currentUrlTree=u.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),this.routerState=u.targetRouterState,"deferred"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,u),this.browserUrlTree=u.urlAfterRedirects)}),((n,t,e)=>(0,en.U)(i=>(new x$(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,u=>this.triggerEvent(u)),(0,Jr.b)({next(){s=!0},complete(){s=!0}}),KM(()=>{s||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),uf(u=>{if(a=!0,t2(u)){e2(u)||(this.navigated=!0,this.restoreHistory(r,!0));const h=new iA(r.id,this.serializeUrl(r.extractedUrl),u.message,u.cancellationCode);if(i.next(h),e2(u)){const p=this.urlHandlingStrategy.merge(u.url,this.rawUrlTree),v={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||x2(r.source)};this.scheduleNavigation(p,"imperative",null,v,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const h=new GN(r.id,this.serializeUrl(r.extractedUrl),u,r.targetSnapshot??void 0);i.next(h);try{r.resolve(this.errorHandler(u))}catch(p){r.reject(p)}}return Dl.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const u={...s};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(r.state=u)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(PR),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:h}=i,p=r||this.routerState.root,v=h?this.currentUrlTree.fragment:a;let w=null;switch(u){case"merge":w={...this.currentUrlTree.queryParams,...s};break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=s||null}return null!==w&&(w=this.removeEmptyProps(w)),Y6(p,this.currentUrlTree,e,w,v??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=A_(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function E5(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new o.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...x5}:!1===i?{...D5}:i,A_(e))return IN(this.currentUrlTree,e,r);const s=this.parseUrl(e);return IN(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new T_(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,a){if(this.disposed)return Promise.resolve(!1);let u,h,p;a?(u=a.resolve,h=a.reject,p=a.promise):p=new Promise((O,Y)=>{u=O,h=Y});const v=++this.navigationId;let w;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),w=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):w=0,this.setTransition({id:v,targetPageId:w,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:u,reject:h,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(O=>Promise.reject(O))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const s=new iA(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:function(){return C2()},providedIn:"root"}),n})();function x2(n){return"imperative"!==n}let jR=(()=>{class n{constructor(e,i,r,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Ot.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,o.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,o.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,o.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ks),o.Y36(ff),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})(),gA=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Ot.x,this.subscription=e.events.subscribe(s=>{s instanceof T_&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,o.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,o.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,o.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,a){return!!(0!==e||i||r||s||a||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ks),o.Y36(ff),o.Y36(Q))},n.\u0275dir=o.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&o.uIk("target",i.target)("href",i.href,o.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})(),D2=(()=>{class n{constructor(e,i,r,s,a,u){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=a,this.linkWithHref=u,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new o.vpe,this.routerEventsSubscription=e.events.subscribe(h=>{h instanceof T_&&this.update()})}ngAfterContentInit(){Bt(this.links.changes,this.linksWithHrefs.changes,Bt(null)).pipe((0,rl.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Hn.D)(e).pipe((0,rl.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function M5(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ks),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(jR,8),o.Y36(gA,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,jR,5),o.Suo(r,gA,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.links=s),o.iGM(s=o.CRH())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[o.TTD]}),n})();class S2{}let A5=(()=>{class n{constructor(e,i,r,s,a){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe($n(e=>e instanceof T_),rm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,o.MMx)(s.providers,e,`Route: ${s.path}`));const a=s._injector??e,u=s._loadedInjector??a;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(a,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(u,s.children??s._loadedRoutes))}return(0,Hn.D)(r).pipe((0,rl.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Bt(null);const s=r.pipe((0,$s.z)(a=>null===a?Bt(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(i.loadComponent&&!i._loadedComponent){const a=this.loader.loadComponent(i);return(0,Hn.D)([s,a]).pipe((0,rl.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ks),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(S2),o.LFG(HR))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UR=new o.OlP("");let E2=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof SR?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof T_&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof $N&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new $N(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Rb(n,t){return{\u0275kind:n,\u0275providers:t}}function zR(n){return[{provide:VR,multi:!0,useValue:n}]}function A2(){const n=(0,o.f3M)(o.zs3);return t=>{const e=n.get(o.z2F);if(t!==e.components[0])return;const i=n.get(ks),r=n.get(T2);1===n.get(GR)&&i.initialNavigation(),n.get(I2,null,o.XFs.Optional)?.setUpPreloading(),n.get(UR,null,o.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const T2=new o.OlP("",{factory:()=>new Ot.x}),GR=new o.OlP("",{providedIn:"root",factory:()=>1});const I2=new o.OlP("");function R5(n){return Rb(0,[{provide:I2,useExisting:A5},{provide:S2,useExisting:n}])}const k2=new o.OlP("ROUTER_FORROOT_GUARD"),O5=[G,{provide:PN,useClass:vR},{provide:ks,useFactory:C2},yx,{provide:ff,useFactory:function M2(n){return n.routerState.root},deps:[ks]},HR];function P5(){return new o.PXZ("Router",ks)}let $R=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[O5,[],zR(e),{provide:k2,useFactory:B5,deps:[[ks,new o.FiY,new o.tp0]]},{provide:pA,useValue:i||{}},i?.useHash?{provide:Q,useClass:ee}:{provide:Q,useClass:H},{provide:UR,useFactory:()=>{const n=(0,o.f3M)(ks),t=(0,o.f3M)(xo),e=(0,o.f3M)(pA);return e.scrollOffset&&t.setOffset(e.scrollOffset),new E2(n,t,e)}},i?.preloadingStrategy?R5(i.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:P5},i?.initialNavigation?V5(i):[],[{provide:R2,useFactory:A2},{provide:o.tb,multi:!0,useExisting:R2}]]}}static forChild(e){return{ngModule:n,providers:[zR(e)]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(k2,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[RR]}),n})();function B5(n){return"guarded"}function V5(n){return["disabled"===n.initialNavigation?Rb(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const t=(0,o.f3M)(ks);return()=>{t.setUpLocationChangeListener()}}},{provide:GR,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Rb(2,[{provide:GR,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:t=>{const e=t.get(we,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(s=>{const a=t.get(ks),u=t.get(T2);(function r(s){t.get(ks).events.pipe($n(u=>u instanceof T_||u instanceof iA||u instanceof GN),(0,en.U)(u=>u instanceof T_||u instanceof iA&&(0===u.code||1===u.code)&&null),$n(u=>null!==u),Gi(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),a.afterPreactivation=()=>(s(!0),i||u.closed?Bt(void 0):u),a.initialNavigation()}))}}]).\u0275providers:[]]}const R2=new o.OlP("");function O2(...n){const t=(0,$r.jO)(n),{args:e,keys:i}=wN(n),r=new cr.y(s=>{const{length:a}=e;if(!a)return void s.complete();const u=new Array(a);let h=a,p=a;for(let v=0;v<a;v++){let w=!1;(0,Bc.Xf)(e[v]).subscribe((0,Si.x)(s,O=>{w||(w=!0,p--),u[v]=O},()=>h--,void 0,()=>{(!h||!w)&&(p||s.next(i?CN(i,u):u),s.complete())}))}});return t?r.pipe(pR(t)):r}let P2=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),I_=(()=>{class n extends P2{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const Ba=new o.OlP("NgValueAccessor"),U5={provide:Ba,useExisting:(0,o.Gpc)(()=>Ob),multi:!0},G5=new o.OlP("CompositionEventMode");let Ob=(()=>{class n extends P2{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function z5(){const n=Te()?Te().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(G5,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([U5]),o.qOj]}),n})();function om(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function L2(n){return null!=n&&"number"==typeof n.length}const Ys=new o.OlP("NgValidators"),am=new o.OlP("NgAsyncValidators"),W5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Vr{static min(t){return function N2(n){return t=>{if(om(t.value)||om(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function B2(n){return t=>{if(om(t.value)||om(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return V2(t)}static requiredTrue(t){return function H2(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function j2(n){return om(n.value)||W5.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function U2(n){return t=>om(t.value)||!L2(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function z2(n){return t=>L2(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function G2(n){if(!n)return vA;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(om(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return K2(t)}static composeAsync(t){return X2(t)}}function V2(n){return om(n.value)?{required:!0}:null}function vA(n){return null}function $2(n){return null!=n}function W2(n){return(0,o.QGY)(n)?(0,Hn.D)(n):n}function Y2(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function q2(n,t){return t.map(e=>e(n))}function Z2(n){return n.map(t=>function Y5(n){return!n.validate}(t)?t:e=>t.validate(e))}function K2(n){if(!n)return null;const t=n.filter($2);return 0==t.length?null:function(e){return Y2(q2(e,t))}}function WR(n){return null!=n?K2(Z2(n)):null}function X2(n){if(!n)return null;const t=n.filter($2);return 0==t.length?null:function(e){return O2(q2(e,t).map(W2)).pipe((0,en.U)(Y2))}}function YR(n){return null!=n?X2(Z2(n)):null}function Q2(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function J2(n){return n._rawValidators}function eB(n){return n._rawAsyncValidators}function qR(n){return n?Array.isArray(n)?n:[n]:[]}function bA(n,t){return Array.isArray(n)?n.includes(t):n===t}function tB(n,t){const e=qR(t);return qR(n).forEach(r=>{bA(e,r)||e.push(r)}),e}function nB(n,t){return qR(t).filter(e=>!bA(n,e))}class iB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=WR(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=YR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ho extends iB{get formDirective(){return null}get path(){return null}}class hd extends iB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class rB{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let wA=(()=>{class n extends rB{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(hd,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[o.qOj]}),n})(),CA=(()=>{class n extends rB{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ho,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[o.qOj]}),n})();const Dx="VALID",DA="INVALID",Pb="PENDING",Sx="DISABLED";function QR(n){return(SA(n)?n.validators:n)||null}function oB(n){return Array.isArray(n)?WR(n):n||null}function JR(n,t){return(SA(t)?t.asyncValidators:n)||null}function aB(n){return Array.isArray(n)?YR(n):n||null}function SA(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function lB(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new o.vHH(1e3,"");if(!i[e])throw new o.vHH(1001,"")}function cB(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new o.vHH(1002,"")})}class EA{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=oB(this._rawValidators),this._composedAsyncValidatorFn=aB(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Dx}get invalid(){return this.status===DA}get pending(){return this.status==Pb}get disabled(){return this.status===Sx}get enabled(){return this.status!==Sx}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=oB(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=aB(t)}addValidators(t){this.setValidators(tB(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(tB(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(nB(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(nB(t,this._rawAsyncValidators))}hasValidator(t){return bA(this._rawValidators,t)}hasAsyncValidator(t){return bA(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Pb,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Sx,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Dx,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dx||this.status===Pb)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sx:Dx}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Pb,this._hasOwnPendingAsyncValidator=!0;const e=W2(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?Sx:this.errors?DA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pb)?Pb:this._anyControlsHaveStatus(DA)?DA:Dx}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){SA(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Ex extends EA{constructor(t,e,i){super(QR(e),JR(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){cB(this,0,t),Object.keys(t).forEach(i=>{lB(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class uB extends Ex{}function Mx(n,t){eO(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function t4(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&dB(n,t)})}(n,t),function r4(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function n4(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&dB(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function e4(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function AA(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),IA(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function TA(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function eO(n,t){const e=J2(n);null!==t.validator?n.setValidators(Q2(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=eB(n);null!==t.asyncValidator?n.setAsyncValidators(Q2(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();TA(t._rawValidators,r),TA(t._rawAsyncValidators,r)}function IA(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=J2(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=eB(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return TA(t._rawValidators,i),TA(t._rawAsyncValidators,i),e}function dB(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hB(n,t){eO(n,t)}function pB(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const c4={provide:Ho,useExisting:(0,o.Gpc)(()=>Tx)},Ax=(()=>Promise.resolve())();let Tx=(()=>{class n extends Ho{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new Ex({},WR(e),YR(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ax.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Mx(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ax.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Ax.then(()=>{const i=this._findContainer(e.path),r=new Ex({});hB(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ax.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Ax.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,pB(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ys,10),o.Y36(am,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([c4]),o.qOj]}),n})();function mB(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function gB(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ix=class extends EA{constructor(t=null,e,i){super(QR(e),JR(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),SA(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=gB(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){mB(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){mB(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){gB(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let CB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const iO=new o.OlP("NgModelWithFormControlWarning"),v4={provide:Ho,useExisting:(0,o.Gpc)(()=>lm)};let lm=(()=>{class n extends Ho{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(IA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Mx(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){AA(e.control||null,e,!1),function l4(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,pB(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(AA(i||null,e),(n=>n instanceof Ix)(r)&&(Mx(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);hB(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function s4(n,t){return IA(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){eO(this.form,this),this._oldForm&&IA(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ys,10),o.Y36(am,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([v4]),o.qOj,o.TTD]}),n})();const C4={provide:hd,useExisting:(0,o.Gpc)(()=>kx)};let kx=(()=>{class n extends hd{constructor(e,i,r,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function nO(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Ob?e=s:function a4(n){return Object.getPrototypeOf(n.constructor)===I_}(s)?i=s:r=s}),r||i||e||null}(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function tO(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function MA(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(Ho,13),o.Y36(Ys,10),o.Y36(am,10),o.Y36(Ba,10),o.Y36(iO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([C4]),o.qOj,o.TTD]}),n})(),k_=(()=>{class n{constructor(){this._validator=vA}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):vA,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();const k4={provide:Ys,useExisting:(0,o.Gpc)(()=>Fb),multi:!0};let Fb=(()=>{class n extends k_{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.D6c,this.createValidator=e=>V2}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[o._Bn([k4]),o.qOj]}),n})(),BB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[CB]}),n})(),N4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[BB]}),n})(),VB=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:iO,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[BB]}),n})();class HB extends EA{constructor(t,e,i){super(QR(e),JR(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){cB(this,0,t),t.forEach((i,r)=>{lB(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function jB(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let cO,lO=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return jB(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Ex(r,s)}record(e,i=null){const r=this._reduceControls(e);return new uB(r,i)}control(e,i,r){let s={};return this.useNonNullable?(jB(i)?s=i:(s.validators=i,s.asyncValidators=r),new Ix(e,{...s,nonNullable:!0})):new Ix(e,i,r)}array(e,i,r){const s=e.map(a=>this._createControl(a));return new HB(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Ix||e instanceof EA?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:VB}),n})(),kA=(()=>{class n{constructor(e,i){this.auth=e,this.router=i}login(e,i){var r=this;this.auth.signInWithEmailAndPassword(e,i).then(s=>{this.auth.authState.subscribe(function(){var a=(0,vt.Z)(function*(u){u&&(localStorage.setItem("user",JSON.stringify(u)),yield r.router.navigate(["/dashboard"]),location.reload())});return function(u){return a.apply(this,arguments)}}())}).catch(s=>{console.log(s)})}logout(){var e=this;return(0,vt.Z)(function*(){localStorage.setItem("user","null"),yield e.router.navigate([""]),location.reload()})()}isUserLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(WM),o.LFG(ks))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{cO=typeof Intl<"u"&&Intl.v8BreakIterator}catch{cO=!1}let Lb,Hr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Om(n){return n===qc}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!cO)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UB=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function zB(){if(Lb)return Lb;if("object"!=typeof document||!document)return Lb=new Set(UB),Lb;let n=document.createElement("input");return Lb=new Set(UB.filter(t=>(n.setAttribute("type",t),n.type===t))),Lb}let Rx,RA,R_,uO;function Nb(n){return function B4(){if(null==Rx&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Rx=!0}))}finally{Rx=Rx||!1}return Rx}()?n:!!n.capture}function GB(){if(null==R_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return R_=!1,R_;if("scrollBehavior"in document.documentElement.style)R_=!0;else{const n=Element.prototype.scrollTo;R_=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return R_}function Ox(){if("object"!=typeof document||!document)return 0;if(null==RA){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),RA=0,0===n.scrollLeft&&(n.scrollLeft=1,RA=0===n.scrollLeft?1:2),n.remove()}return RA}function dO(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function O_(n){return n.composedPath?n.composedPath()[0]:n.target}function hO(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ml(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function FA(n,t=no.z){return(0,_i.e)((e,i)=>{let r=null,s=null,a=null;const u=()=>{if(r){r.unsubscribe(),r=null;const p=s;s=null,i.next(p)}};function h(){const p=a+n,v=t.now();if(v<p)return r=this.schedule(void 0,p-v),void i.add(r);u()}e.subscribe((0,Si.x)(i,p=>{s=p,a=t.now(),r||(r=t.schedule(h,n),i.add(r))},()=>{u(),i.complete()},void 0,()=>{s=r=null}))})}function $B(n){return $n((t,e)=>n<=e)}var WB=He(5032);function On(n){return(0,_i.e)((t,e)=>{(0,Bc.Xf)(n).subscribe((0,Si.x)(e,()=>e.complete(),WB.Z)),!e.closed&&t.subscribe(e)})}function Pn(n){return null!=n&&"false"!=`${n}`}function jo(n,t=0){return YB(n)?Number(n):t}function YB(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function LA(n){return Array.isArray(n)?n:[n]}function es(n){return null==n?"":"string"==typeof n?n:`${n}px`}function pf(n){return n instanceof o.SBq?n.nativeElement:n}let qB=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q4=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=pf(e);return new cr.y(r=>{const a=this._observeElement(i).subscribe(r);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Ot.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(qB))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J4=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Pn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=jo(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(FA(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Q4),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),ZB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[qB]}),n})(),KB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const XB=new Set;let Hb,eW=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):nW}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function tW(n){if(!XB.has(n))try{Hb||(Hb=document.createElement("style"),Hb.setAttribute("type","text/css"),document.head.appendChild(Hb)),Hb.sheet&&(Hb.sheet.insertRule(`@media ${n} {body{ }}`,0),XB.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Hr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nW(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Nx=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Ot.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return QB(LA(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=S_(QB(LA(e)).map(a=>this._registerQuery(a).observable));return s=Io(s.pipe(Gi(1)),s.pipe($B(1),FA(0))),s.pipe((0,en.U)(a=>{const u={matches:!1,breakpoints:{}};return a.forEach(({matches:h,query:p})=>{u.matches=u.matches||h,u.breakpoints[p]=h}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new cr.y(a=>{const u=h=>this._zone.run(()=>a.next(h));return i.addListener(u),()=>{i.removeListener(u)}}).pipe(Yn(i),(0,en.U)(({matches:a})=>({query:e,matches:a})),On(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(eW),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QB(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const pO_Handset="(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)";function NA(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const eV="cdk-describedby-message",BA="cdk-describedby-host";let mO=0,sW=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+mO++,this._document=e,this._id=(0,o.f3M)(o.AFp)+"-"+mO++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=gO(i,r);"string"!=typeof i?(tV(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=gO(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const a=this._messageRegistry.get(s);a&&0===a.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${BA}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(BA);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");tV(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(gO(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=NA(e,"aria-describedby").filter(r=>0!=r.indexOf(eV));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function iW(n,t,e){const i=NA(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(BA,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function rW(n,t,e){const r=NA(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(BA)}_isElementDescribedByMessage(e,i){const r=NA(e,"aria-describedby"),s=this._messageRegistry.get(i),a=s&&s.messageElement.id;return!!a&&-1!=r.indexOf(a)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fe),o.LFG(Hr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gO(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function tV(n,t){n.id||(n.id=`${eV}-${t}-${mO++}`)}class nV{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ot.x,this._typeaheadSubscription=Is.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Ot.x,this.change=new Ot.x,t instanceof o.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Jr.b)(e=>this._pressedLetters.push(e)),FA(t),$n(()=>this._pressedLetters.length>0),(0,en.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,a=i[s];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Ml(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class oW extends nV{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class iV extends nV{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Bx=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function lW(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function aW(n){try{return n.frameElement}catch{return null}}(function gW(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===sV(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=sV(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function pW(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function mW(n){return!function uW(n){return function hW(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function cW(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function dW(n){return function fW(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||rV(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Hr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rV(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function sV(n){if(!rV(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class _W{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Gi(1)).subscribe(t)}}let VA=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new _W(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Bx),o.LFG(o.R0b),o.LFG(Fe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _O(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function yO(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const yW=new o.OlP("cdk-input-modality-detector-options"),vW={ignoreKeys:[18,17,224,91,16]},jb=Nb({passive:!0,capture:!0});let bW=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new go(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(u=>u===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=O_(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(_O(a)?"keyboard":"mouse"),this._mostRecentTarget=O_(a))},this._onTouchstart=a=>{yO(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=O_(a))},this._options={...vW,...s},this.modalityDetected=this._modality.pipe($B(1)),this.modalityChanged=this.modalityDetected.pipe(ol()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,jb),r.addEventListener("mousedown",this._onMousedown,jb),r.addEventListener("touchstart",this._onTouchstart,jb)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,jb),document.removeEventListener("mousedown",this._onMousedown,jb),document.removeEventListener("touchstart",this._onTouchstart,jb))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Hr),o.LFG(o.R0b),o.LFG(Fe),o.LFG(yW,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wW=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function CW(){return null}}),xW=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let vO=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[s,a]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==a&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(u=>this._currentResolve=u)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(wW,8),o.LFG(o.R0b),o.LFG(Fe),o.LFG(xW,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const DW=new o.OlP("cdk-focus-monitor-default-options"),HA=Nb({passive:!0,capture:!0});let fd=(()=>{class n{constructor(e,i,r,s,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ot.x,this._rootNodeFocusAndBlurListener=u=>{for(let p=O_(u);p;p=p.parentElement)"focus"===u.type?this._onFocus(u,p):this._onBlur(u,p)},this._document=s,this._detectionMode=a?.detectionMode||0}monitor(e,i=!1){const r=pf(e);if(!this._platform.isBrowser||1!==r.nodeType)return Bt(null);const s=function H4(n){if(function V4(){if(null==uO){const n=typeof document<"u"?document.head:null;uO=!(!n||!n.createShadowRoot&&!n.attachShadow)}return uO}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const u={checkChildren:i,subject:new Ot.x,rootNode:s};return this._elementInfo.set(r,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(e){const i=pf(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=pf(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([u,h])=>this._originChanged(u,i,h)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=O_(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,HA),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,HA)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(On(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,HA),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,HA),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let a=0;a<s.length;a++)if(s[a].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(Hr),o.LFG(bW),o.LFG(Fe,8),o.LFG(DW,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aV="cdk-high-contrast-black-on-white",lV="cdk-high-contrast-white-on-black",bO="cdk-high-contrast-active";let cV=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,o.f3M)(Nx).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(bO,aV,lV),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(bO,aV):2===i&&e.add(bO,lV)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Hr),o.LFG(Fe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wO=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(cV))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[ZB]}),n})();const SW=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function EW(){return(0,o.f3M)(Fe)}}),MW=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Al=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function AW(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?MW.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(SW,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function TW(n,t){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=o.oxw();o.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function IW(n,t){if(1&n&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("(",e.group.label,")")}}const kW=["*"],FW=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function PW(){return!0}});let Gn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!hO()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(cV),o.LFG(FW,8),o.LFG(Fe))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Vx,Vx]}),n})();function Ub(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Pn(t)}}}function jA(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function cm(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Pn(t)}}}function hV(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?jo(e):this.defaultTabIndex}}}function fV(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}function pV(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new cr.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const LW=new o.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function NW(){return(0,o.f3M)(o.soG)}});class pd{constructor(){this._localeChanges=new Ot.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const CO=new o.OlP("mat-date-formats"),BW=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function xO(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let VW=(()=>{class n extends pd{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return xO(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return xO(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return xO(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(BW.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(LW,8),o.LFG(Hr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const HW={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let jW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:pd,useClass:VW}]}),n})(),mV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:CO,useValue:HW}],imports:[jW]}),n})(),DO=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Hx(n,t,e){n.nativeElement.classList.toggle(t,e)}let UA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gn,Gn]}),n})();class UW{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const yV={enterDuration:225,exitDuration:150},SO=Nb({passive:!0}),vV=["mousedown","touchstart"],bV=["mouseup","mouseleave","touchend","touchcancel"];class GW{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=pf(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...yV,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const a=i.radius||function $W(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),u=t-r.left,h=e-r.top,p=s.enterDuration,v=document.createElement("div");v.classList.add("mat-ripple-element"),v.style.left=u-a+"px",v.style.top=h-a+"px",v.style.height=2*a+"px",v.style.width=2*a+"px",null!=i.color&&(v.style.backgroundColor=i.color),v.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(v);const w=window.getComputedStyle(v),Y=w.transitionDuration,he="none"===w.transitionProperty||"0s"===Y||"0s, 0s"===Y,_e=new UW(this,v,i,he);v.style.transform="scale3d(1, 1, 1)",_e.state=0,i.persistent||(this._mostRecentTransientRipple=_e);let ke=null;return!he&&(p||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const We=()=>this._finishRippleTransition(_e),Je=()=>this._destroyRipple(_e);v.addEventListener("transitionend",We),v.addEventListener("transitioncancel",Je),ke={onTransitionEnd:We,onTransitionCancel:Je}}),this._activeRipples.set(_e,ke),(he||!p)&&this._finishRippleTransition(_e),_e}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...yV,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=pf(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(vV))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(bV),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=_O(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!yO(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,SO)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(vV.forEach(t=>{this._triggerElement.removeEventListener(t,this,SO)}),this._pointerUpEventsRegistered&&bV.forEach(t=>{this._triggerElement.removeEventListener(t,this,SO)}))}}const WW=new o.OlP("mat-ripple-global-options");let P_=(()=>{class n{constructor(e,i,r,s,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new GW(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Hr),o.Y36(WW,8),o.Y36(o.QbO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),jx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gn,Gn]}),n})(),wV=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),EO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gn]}),n})();const CV=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),xV=new o.OlP("MatOptgroup");let YW=0;class qW{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let ZW=(()=>{class n{constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+YW++,this.onSelectionChange=new o.vpe,this._stateChanges=new Ot.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Pn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Ml(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new qW(this,e))}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),DV=(()=>{class n extends ZW{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(CV,8),o.Y36(xV,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),o.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:kW,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,TW,1,2,"mat-pseudo-checkbox",0),o.TgZ(1,"span",1),o.Hsn(2),o.qZA(),o.YNc(3,IW,2,1,"span",2),o._UZ(4,"div",3)),2&e&&(o.Q6J("ngIf",i.multiple),o.xp6(3),o.Q6J("ngIf",i.group&&i.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[P_,li,wV],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function SV(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let a=0;a<n+1;a++)i[a].group&&i[a].group===r[s]&&s++;return s}return 0}let EV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[jx,rs,Gn,EO]}),n})();const XW=["*",[["mat-card-footer"]]],QW=["*","mat-card-footer"];let JW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),eY=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:QW,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(XW),o.Hsn(0),o.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),MV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gn,Gn]}),n})();const tY=["mat-button",""],nY=["*"],rY=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],sY=jA(Ub(cm(class{constructor(n){this._elementRef=n}})));let md=(()=>{class n extends sY{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of rY)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(fd),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&o.Gf(P_,5),2&e){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:tY,ngContentSelectors:nY,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1)(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[P_],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Ux=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[jx,Gn,Gn]}),n})();var oY=He(1144);const aY=["addListener","removeListener"],lY=["addEventListener","removeEventListener"],cY=["on","off"];function zb(n,t,e,i){if((0,Sl.m)(e)&&(i=e,e=void 0),i)return zb(n,t,e).pipe(pR(i));const[r,s]=function hY(n){return(0,Sl.m)(n.addEventListener)&&(0,Sl.m)(n.removeEventListener)}(n)?lY.map(a=>u=>n[a](t,u,e)):function uY(n){return(0,Sl.m)(n.addListener)&&(0,Sl.m)(n.removeListener)}(n)?aY.map(AV(n,t)):function dY(n){return(0,Sl.m)(n.on)&&(0,Sl.m)(n.off)}(n)?cY.map(AV(n,t)):[];if(!r&&(0,oY.z)(n))return(0,$s.z)(a=>zb(a,t,e))((0,Bc.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new cr.y(a=>{const u=(...h)=>a.next(1<h.length?h:h[0]);return r(u),()=>s(u)})}function AV(n,t){return e=>i=>n[e](t,i)}class TV{}const mf="*";function qs(n,t){return{type:7,name:n,definitions:t,options:{}}}function $i(n,t=null){return{type:4,styles:t,timings:n}}function IV(n,t=null){return{type:3,steps:n,options:t}}function kV(n,t=null){return{type:2,steps:n,options:t}}function Cn(n){return{type:6,styles:n,offset:null}}function Vi(n,t,e){return{type:0,name:n,styles:t,options:e}}function ki(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function zA(n=null){return{type:9,options:n}}function GA(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function RV(n){Promise.resolve().then(n)}class zx{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){RV(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class OV{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?RV(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,u)=>Math.max(a,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const pY=["connectionContainer"],mY=["inputContainer"],gY=["label"];function _Y(n,t){1&n&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15)(3,"div",16)(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15)(7,"div",16)(8,"div",17),o.qZA(),o.BQk())}function yY(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",19),o.NdJ("cdkObserveContent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.updateOutlineGap())}),o.Hsn(1,1),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function vY(n,t){if(1&n&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&n){const e=o.oxw(2);o.xp6(3),o.Oqu(e._control.placeholder)}}function bY(n,t){1&n&&o.Hsn(0,3,["*ngSwitchCase","true"])}function wY(n,t){1&n&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function CY(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.updateOutlineGap())}),o.YNc(2,vY,4,1,"ng-container",12),o.YNc(3,bY,1,0,"ng-content",12),o.YNc(4,wY,2,0,"span",22),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),o.uIk("for",e._control.id)("aria-owns",e._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function xY(n,t){1&n&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function DY(n,t){if(1&n&&(o.TgZ(0,"div",25),o._UZ(1,"span",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function SY(n,t){if(1&n&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function EY(n,t){if(1&n&&(o.TgZ(0,"div",30),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function MY(n,t){if(1&n&&(o.TgZ(0,"div",27),o.YNc(1,EY,2,2,"div",28),o.Hsn(2,6),o._UZ(3,"div",29),o.Hsn(4,7),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const AY=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],TY=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let IY=0;const PV=new o.OlP("MatError");let AO=(()=>{class n{constructor(e,i){this.id="mat-error-"+IY++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(o.$8M("aria-live"),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("id",i.id)},inputs:{id:"id"},features:[o._Bn([{provide:PV,useExisting:n}])]}),n})();const kY={transitionMessages:qs("transitionMessages",[Vi("enter",Cn({opacity:1,transform:"translateY(0%)"})),ki("void => enter",[Cn({opacity:0,transform:"translateY(-5px)"}),$i("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let $A=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n}),n})();const RY=new o.OlP("MatHint");let L_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),OY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const PY=new o.OlP("MatPrefix"),FY=new o.OlP("MatSuffix");let FV=0;const NY=jA(class{constructor(n){this._elementRef=n}},"primary"),BY=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),WA=new o.OlP("MatFormField");let Gb=(()=>{class n extends NY{constructor(e,i,r,s,a,u,h){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=a,this._ngZone=u,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ot.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+FV++,this._labelId="mat-form-field-label-"+FV++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==h,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Pn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Yn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(On(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(On(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Xn.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Yn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Yn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(On(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,zb(this._label.nativeElement,"transitionend").pipe(Gi(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const v=i.querySelectorAll(`${r}, ${s}`);for(let w=0;w<v.length;w++)v[w].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let a=0,u=0;const h=i.querySelectorAll(r),p=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const v=i.getBoundingClientRect();if(0===v.width&&0===v.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const w=this._getStartEnd(v),O=e.children,Y=this._getStartEnd(O[0].getBoundingClientRect());let he=0;for(let _e=0;_e<O.length;_e++)he+=O[_e].offsetWidth;a=Math.abs(Y-w)-5,u=he>0?.75*he+10:0}for(let v=0;v<h.length;v++)h[v].style.width=`${a}px`;for(let v=0;v<p.length;v++)p[v].style.width=`${u}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Al,8),o.Y36(BY,8),o.Y36(Hr),o.Y36(o.R0b),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,$A,5),o.Suo(r,$A,7),o.Suo(r,L_,5),o.Suo(r,L_,7),o.Suo(r,OY,5),o.Suo(r,PV,5),o.Suo(r,RY,5),o.Suo(r,PY,5),o.Suo(r,FY,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._controlNonStatic=s.first),o.iGM(s=o.CRH())&&(i._controlStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._placeholderChild=s.first),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(pY,7),o.Gf(mY,5),o.Gf(gY,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._connectionContainerRef=r.first),o.iGM(r=o.CRH())&&(i._inputContainerRef=r.first),o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&o.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:WA,useExisting:n}]),o.qOj],ngContentSelectors:TY,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(o.F$t(AY),o.TgZ(0,"div",0)(1,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),o.YNc(3,_Y,9,0,"ng-container",3),o.YNc(4,yY,2,1,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,CY,5,16,"label",8),o.qZA()(),o.YNc(10,xY,2,0,"div",9),o.qZA(),o.YNc(11,DY,2,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,SY,2,1,"div",12),o.YNc(14,MY,5,2,"div",13),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("ngIf","outline"==i.appearance),o.xp6(1),o.Q6J("ngIf",i._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",i._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",i._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=i.appearance),o.xp6(1),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},dependencies:[li,$o,$a,J4],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[kY.transitionMessages]},changeDetection:0}),n})(),Gx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[rs,Gn,ZB,Gn]}),n})();const NV=Nb({passive:!0});let VY=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Dl.E;const i=pf(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Ot.x,a="cdk-text-field-autofilled",u=h=>{"cdk-text-field-autofill-start"!==h.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===h.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",u,NV),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",u,NV)}}),s}stopMonitoring(e){const i=pf(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Hr),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const VV=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),HY=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let jY=0;const UY=fV(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Ot.x}});let $x=(()=>{class n extends UY{constructor(e,i,r,s,a,u,h,p,v,w){super(u,s,a,r),this._elementRef=e,this._platform=i,this._autofillMonitor=p,this._formField=w,this._uid="mat-input-"+jY++,this.focused=!1,this.stateChanges=new Ot.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(he=>zB().has(he)),this._iOSKeyupListener=he=>{const _e=he.target;!_e.value&&0===_e.selectionStart&&0===_e.selectionEnd&&(_e.setSelectionRange(1,1),_e.setSelectionRange(0,0))};const O=this._elementRef.nativeElement,Y=O.nodeName.toLowerCase();this._inputValueAccessor=h||O,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&v.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Y,this._isTextarea="textarea"===Y,this._isInFormField=!!w,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Pn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Vr.required)??!1}set required(e){this._required=Pn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&zB().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Pn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){HY.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Hr),o.Y36(hd,10),o.Y36(Tx,8),o.Y36(lm,8),o.Y36(DO),o.Y36(VV,10),o.Y36(VY),o.Y36(o.R0b),o.Y36(WA,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(o.Ikx("disabled",i.disabled)("required",i.required),o.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),o.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:$A,useExisting:n}]),o.qOj,o.TTD]}),n})(),HV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[DO],imports:[BV,Gx,Gn,BV,Gx]}),n})();function zY(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Ingresa un correo valido"),o.qZA())}function GY(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Enter valid qualification "),o.qZA())}let $Y=(()=>{class n{constructor(e,i){this.fb=e,this.authService=i,this.email="",this.password="",this.form=this.fb.group({email:[this.email,[Vr.required,Vr.email]],password:[this.password,[Vr.required]]})}ngOnInit(){}login(){this.authService.login(this.form.value.email,this.form.value.password)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(lO),o.Y36(kA))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:21,vars:4,consts:[[1,"row","mt-5"],[1,"col"],[3,"formGroup"],["matInput","","placeholder","pat@example.com","formControlName","email","required",""],[4,"ngIf"],["matInput","","placeholder","","formControlName","password","required","","type","password"],["mat-raised-button","","color","primary",1,"mt-3",3,"disabled","click"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0),o._UZ(1,"div",1),o.TgZ(2,"div",1)(3,"mat-card")(4,"div",2)(5,"mat-card-title"),o._uU(6,"Login"),o.qZA(),o.TgZ(7,"mat-form-field")(8,"mat-label"),o._uU(9,"Correo"),o.qZA(),o._UZ(10,"input",3),o.YNc(11,zY,2,0,"mat-error",4),o.qZA(),o.TgZ(12,"mat-form-field")(13,"mat-label"),o._uU(14,"Contrase\xf1a"),o.qZA(),o._UZ(15,"input",5),o.YNc(16,GY,2,0,"mat-error",4),o.qZA()(),o.TgZ(17,"div")(18,"button",6),o.NdJ("click",function(){return i.login()}),o._uU(19," Login "),o.qZA()()()(),o._UZ(20,"div",1),o.qZA()),2&e){let r,s;o.xp6(4),o.Q6J("formGroup",i.form),o.xp6(7),o.Q6J("ngIf",(null==(r=i.form.get("email"))?null:r.invalid)||(null==(r=i.form.get("email"))?null:r.dirty)||(null==(r=i.form.get("email"))?null:r.touched)),o.xp6(5),o.Q6J("ngIf",(null==(s=i.form.get("password"))?null:s.invalid)||(null==(s=i.form.get("password"))?null:s.dirty)||(null==(s=i.form.get("password"))?null:s.touched)),o.xp6(2),o.Q6J("disabled",i.form.invalid)}},dependencies:[li,eY,JW,md,AO,Gb,L_,$x,Ob,wA,CA,Fb,lm,kx],styles:[".mat-card[_ngcontent-%COMP%]{padding:10px}.mat-form-field[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]}),n})();var jV=He(4408);const Wx={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Wx;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Is.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Wx;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Wx;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var UV=He(7565);new class YY extends UV.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class WY extends jV.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Wx.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Wx.cancelAnimationFrame(e),t._scheduled=void 0)}});let TO,ZY=1;const YA={};function zV(n){return n in YA&&(delete YA[n],!0)}const KY={setImmediate(n){const t=ZY++;return YA[t]=!0,TO||(TO=Promise.resolve()),TO.then(()=>zV(t)&&n()),t},clearImmediate(n){zV(n)}},{setImmediate:XY,clearImmediate:QY}=KY,qA={setImmediate(...n){const{delegate:t}=qA;return(t?.setImmediate||XY)(...n)},clearImmediate(n){const{delegate:t}=qA;return(t?.clearImmediate||QY)(n)},delegate:void 0},IO=new class eq extends UV.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class JY extends jV.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=qA.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(qA.clearImmediate(e),t._scheduled=void 0)}});var nq=He(3532);function GV(n=0,t,e=no.P){let i=-1;return null!=t&&((0,nq.K)(t)?e=t:i=t),new cr.y(r=>{let s=function iq(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function $V(n,t=no.z){return function tq(n){return(0,_i.e)((t,e)=>{let i=!1,r=null,s=null,a=!1;const u=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const p=r;r=null,e.next(p)}a&&e.complete()},h=()=>{s=null,a&&e.complete()};t.subscribe((0,Si.x)(e,p=>{i=!0,r=p,s||(0,Bc.Xf)(n(p)).subscribe(s=(0,Si.x)(e,u,h))},()=>{a=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>GV(n,t))}let Yx=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Ot.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new cr.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe($V(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Bt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe($n(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=pf(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>zb(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(Hr),o.LFG(Fe,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qx=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new Ot.x,this._elementScrolled=new cr.y(a=>this.ngZone.runOutsideAngular(()=>zb(this.elementRef.nativeElement,"scroll").pipe(On(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Ox()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Ox()?e.left=e.right:1==Ox()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;GB()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==e?e=a?r:i:"end"==e&&(e=a?i:r),a&&2==Ox()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:a&&1==Ox()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Yx),o.Y36(o.R0b),o.Y36(Al,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),Zx=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Ot.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe($V(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Hr),o.LFG(o.R0b),o.LFG(Fe,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),um=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),kO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Vx,um,Vx,um]}),n})();class RO{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class $b extends RO{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class Kx extends RO{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class oq extends RO{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class ZA{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof $b?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Kx?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof oq?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class aq extends ZA{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const u=a.element,h=this._document.createComment("dom-portal");u.parentNode.insertBefore(h,u),this.outletElement.appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Xx=(()=>{class n extends ZA{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const a=s.element,u=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(u,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(a,u)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(Fe))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),Wb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const WV=GB();class lq{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=es(-this._previousScrollPosition.left),t.style.top=es(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),WV&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),WV&&(i.scrollBehavior=s,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class cq{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class YV{enable(){}disable(){}attach(){}}function OO(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function qV(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class uq{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();OO(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let dq=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new YV,this.close=a=>new cq(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new lq(this._viewportRuler,this._document),this.reposition=a=>new uq(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Yx),o.LFG(Zx),o.LFG(o.R0b),o.LFG(Fe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Qx{constructor(t){if(this.scrollStrategy=new YV,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class hq{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let ZV=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fq=(()=>{class n extends ZV{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const u=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fe),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pq=(()=>{class n extends ZV{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=O_(s)},this._clickListener=s=>{const a=O_(s),u="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let p=h.length-1;p>-1;p--){const v=h[p];if(v._outsidePointerEvents.observers.length<1||!v.hasAttached())continue;if(v.overlayElement.contains(a)||v.overlayElement.contains(u))break;const w=v._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>w.next(s)):w.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fe),o.LFG(Hr),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KA=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||hO()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),hO()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fe),o.LFG(Hr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Jx{constructor(t,e,i,r,s,a,u,h,p,v=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=a,this._document=u,this._location=h,this._outsideClickDispatcher=p,this._animationsDisabled=v,this._backdropElement=null,this._backdropClick=new Ot.x,this._attachments=new Ot.x,this._detachments=new Ot.x,this._locationChanges=Is.w0.EMPTY,this._backdropClickHandler=w=>this._backdropClick.next(w),this._backdropTransitionendHandler=w=>{this._disposeBackdrop(w.target)},this._keydownEvents=new Ot.x,this._outsidePointerEvents=new Ot.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Gi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=es(this._config.width),t.height=es(this._config.height),t.minWidth=es(this._config.minWidth),t.minHeight=es(this._config.minHeight),t.maxWidth=es(this._config.maxWidth),t.maxHeight=es(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=LA(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(On((0,Xn.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const KV="cdk-overlay-connected-position-bounding-box",mq=/([A-Za-z%]+)$/;class gq{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ot.x,this._resizeSubscription=Is.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(KV),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let a;for(let u of this._preferredPositions){let h=this._getOriginPoint(t,r,u),p=this._getOverlayPoint(h,e,u),v=this._getOverlayFit(p,e,i,u);if(v.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,h);this._canFitWithFlexibleDimensions(v,p,i)?s.push({position:u,origin:h,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(h,u)}):(!a||a.overlayFit.visibleArea<v.visibleArea)&&(a={overlayFit:v,overlayPoint:p,originPoint:h,position:u,overlayRect:e})}if(s.length){let u=null,h=-1;for(const p of s){const v=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);v>h&&(h=v,u=p)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&N_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(KV),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;r="start"==i.originX?a:u}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=QV(e);let{x:a,y:u}=t,h=this._getOffset(r,"x"),p=this._getOffset(r,"y");h&&(a+=h),p&&(u+=p);let O=0-u,Y=u+s.height-i.height,he=this._subtractOverflows(s.width,0-a,a+s.width-i.width),_e=this._subtractOverflows(s.height,O,Y),ke=he*_e;return{visibleArea:ke,isCompletelyWithinViewport:s.width*s.height===ke,fitsInViewportVertically:_e===s.height,fitsInViewportHorizontally:he==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,a=XV(this._overlayRef.getConfig().minHeight),u=XV(this._overlayRef.getConfig().minWidth),p=t.fitsInViewportHorizontally||null!=u&&u<=s;return(t.fitsInViewportVertically||null!=a&&a<=r)&&p}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=QV(e),s=this._viewportRect,a=Math.max(t.x+r.width-s.width,0),u=Math.max(t.y+r.height-s.height,0),h=Math.max(s.top-i.top-t.y,0),p=Math.max(s.left-i.left-t.x,0);let v=0,w=0;return v=r.width<=s.width?p||-a:t.x<this._viewportMargin?s.left-i.left-t.x:0,w=r.height<=s.height?h||-u:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:v,y:w},{x:t.x+v,y:t.y+w}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new hq(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,a,u,v,w,O;if("top"===e.overlayY)a=t.y,s=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)u=i.height-t.y+2*this._viewportMargin,s=i.height-u+this._viewportMargin;else{const Y=Math.min(i.bottom-t.y+i.top,t.y),he=this._lastBoundingBoxSize.height;s=2*Y,a=t.y-Y,s>he&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-he/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)O=i.width-t.x+this._viewportMargin,v=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)w=t.x,v=i.right-t.x;else{const Y=Math.min(i.right-t.x+i.left,t.x),he=this._lastBoundingBoxSize.width;v=2*Y,w=t.x-Y,v>he&&!this._isInitialRender&&!this._growAfterOpen&&(w=t.x-he/2)}return{top:a,left:w,bottom:u,right:O,width:v,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=es(i.height),r.top=es(i.top),r.bottom=es(i.bottom),r.width=es(i.width),r.left=es(i.left),r.right=es(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=es(s)),a&&(r.maxWidth=es(a))}this._lastBoundingBoxSize=i,N_(this._boundingBox.style,r)}_resetBoundingBoxStyles(){N_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){N_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const v=this._viewportRuler.getViewportScrollPosition();N_(i,this._getExactOverlayY(e,t,v)),N_(i,this._getExactOverlayX(e,t,v))}else i.position="static";let u="",h=this._getOffset(e,"x"),p=this._getOffset(e,"y");h&&(u+=`translateX(${h}px) `),p&&(u+=`translateY(${p}px)`),i.transform=u.trim(),a.maxHeight&&(r?i.maxHeight=es(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=es(a.maxWidth):s&&(i.maxWidth="")),N_(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=es(s.y),r}_getExactOverlayX(t,e,i){let a,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=es(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:qV(t,i),isOriginOutsideView:OO(t,i),isOverlayClipped:qV(e,i),isOverlayOutsideView:OO(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&LA(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function N_(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function XV(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(mq);return e&&"px"!==e?null:parseFloat(t)}return n||null}function QV(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const JV="cdk-global-overlay-wrapper";class _q{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(JV),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:a,maxHeight:u}=i,h=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),p=!("100%"!==s&&"100vh"!==s||u&&"100%"!==u&&"100vh"!==u),v=this._xPosition,w=this._xOffset,O="rtl"===this._overlayRef.getConfig().direction;let Y="",he="",_e="";h?_e="flex-start":"center"===v?(_e="center",O?he=w:Y=w):O?"left"===v||"end"===v?(_e="flex-end",Y=w):("right"===v||"start"===v)&&(_e="flex-start",he=w):"left"===v||"start"===v?(_e="flex-start",Y=w):("right"===v||"end"===v)&&(_e="flex-end",he=w),t.position=this._cssPosition,t.marginLeft=h?"0":Y,t.marginTop=p?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=h?"0":he,e.justifyContent=_e,e.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(JV),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let yq=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new _q}flexibleConnectedTo(e){return new gq(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Zx),o.LFG(Fe),o.LFG(Hr),o.LFG(KA))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vq=0,Uo=(()=>{class n{constructor(e,i,r,s,a,u,h,p,v,w,O,Y){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=u,this._ngZone=h,this._document=p,this._directionality=v,this._location=w,this._outsideClickDispatcher=O,this._animationsModuleType=Y}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),a=new Qx(e);return a.direction=a.direction||this._directionality.value,new Jx(s,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+vq++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new aq(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(dq),o.LFG(KA),o.LFG(o._Vd),o.LFG(yq),o.LFG(fq),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(Fe),o.LFG(Al),o.LFG(G),o.LFG(pq),o.LFG(o.QbO,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const bq=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],eH=new o.OlP("cdk-connected-overlay-scroll-strategy");let tH=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),nH=(()=>{class n{constructor(e,i,r,s,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Is.w0.EMPTY,this._attachSubscription=Is.w0.EMPTY,this._detachSubscription=Is.w0.EMPTY,this._positionSubscription=Is.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new Kx(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Pn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Pn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Pn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Pn(e)}get push(){return this._push}set push(e){this._push=Pn(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=bq);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Ml(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Qx({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof tH?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(SN(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Uo),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(eH),o.Y36(Al,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[o.TTD]}),n})();const Cq={provide:eH,deps:[Uo],useFactory:function wq(n){return()=>n.scrollStrategies.reposition()}};let B_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Uo,Cq],imports:[Vx,Wb,kO,kO]}),n})();function xq(n,t){}class XA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let iH=(()=>{class n extends ZA{constructor(e,i,r,s,a,u,h,p){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=a,this._ngZone=u,this._overlayRef=h,this._focusMonitor=p,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=v=>{this._portalOutlet.hasAttached();const w=this._portalOutlet.attachDomPortal(v);return this._contentAttached(),w},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=dO(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=dO();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=dO())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(VA),o.Y36(Fe,8),o.Y36(XA),o.Y36(Bx),o.Y36(o.R0b),o.Y36(Jx),o.Y36(fd))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&o.Gf(Xx,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&o.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,xq,0,0,"ng-template",0)},dependencies:[Xx],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class PO{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Ot.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Ml(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const rH=new o.OlP("DialogScrollStrategy"),Dq=new o.OlP("DialogData"),Sq=new o.OlP("DefaultDialogConfig"),Mq={provide:rH,deps:[Uo],useFactory:function Eq(n){return()=>n.scrollStrategies.block()}};let Aq=0,sH=(()=>{class n{constructor(e,i,r,s,a,u){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ot.x,this._afterOpenedAtThisLevel=new Ot.x,this._ariaHiddenElements=new Map,this.afterAllClosed=ux(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Yn(void 0))),this._scrollStrategy=u}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new XA,...i}).id=i.id||"cdk-dialog-"+Aq++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),a=this._overlay.create(s),u=new PO(a,i),h=this._attachContainer(a,u,i);return u.containerInstance=h,this._attachDialogContent(e,u,h,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.closed.subscribe(()=>this._removeOpenDialog(u,!0)),this.afterOpened.next(u),u}closeAll(){FO(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){FO(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),FO(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new Qx({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector||r.viewContainerRef?.injector,a=[{provide:XA,useValue:r},{provide:PO,useValue:i},{provide:Jx,useValue:e}];let u;r.container?"function"==typeof r.container?u=r.container:(u=r.container.type,a.push(...r.container.providers(r))):u=iH;const h=new $b(u,r.viewContainerRef,o.zs3.create({parent:s||this._injector,providers:a}),r.componentFactoryResolver);return e.attach(h).instance}_attachDialogContent(e,i,r,s){if(e instanceof o.Rgc){const a=this._createInjector(s,i,r,void 0);let u={$implicit:s.data,dialogRef:i};s.templateContext&&(u={...u,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new Kx(e,null,u,a))}else{const a=this._createInjector(s,i,r,this._injector),u=r.attachComponentPortal(new $b(e,s.viewContainerRef,a,s.componentFactoryResolver));i.componentInstance=u.instance}}_createInjector(e,i,r,s){const a=e.injector||e.viewContainerRef?.injector,u=[{provide:Dq,useValue:e.data},{provide:PO,useValue:i}];return e.providers&&("function"==typeof e.providers?u.push(...e.providers(i,e,r)):u.push(...e.providers)),e.direction&&(!a||!a.get(Al,null,o.XFs.Optional))&&u.push({provide:Al,useValue:{value:e.direction,change:Bt()}}),o.zs3.create({parent:a||s,providers:u})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Uo),o.LFG(o.zs3),o.LFG(Sq,8),o.LFG(n,12),o.LFG(KA),o.LFG(rH))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function FO(n,t){let e=n.length;for(;e--;)t(n[e])}let Tq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[sH,Mq],imports:[B_,Wb,wO,Wb]}),n})();function Iq(n,t){}const Yb={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},kq={dialogContainer:qs("dialogContainer",[Vi("void, exit",Cn({opacity:0,transform:"scale(0.7)"})),Vi("enter",Cn({transform:"none"})),ki("* => enter",IV([$i("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",Cn({transform:"none",opacity:1})),GA("@*",zA(),{optional:!0})]),Yb),ki("* => void, * => exit",IV([$i("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",Cn({opacity:0})),GA("@*",zA(),{optional:!0})]),Yb)])};class gd{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Yb.params.enterAnimationDuration,this.exitAnimationDuration=Yb.params.exitAnimationDuration}}let Rq=(()=>{class n extends iH{constructor(e,i,r,s,a,u,h,p){super(e,i,r,s,a,u,h,p),this._animationStateChanged=new o.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(VA),o.Y36(Fe,8),o.Y36(gd),o.Y36(Bx),o.Y36(o.R0b),o.Y36(Jx),o.Y36(fd))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],features:[o.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),Oq=(()=>{class n extends Rq{constructor(e,i,r,s,a,u,h,p,v){super(e,i,r,s,a,u,h,v),this._changeDetectorRef=p,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Yb.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Yb.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(VA),o.Y36(Fe,8),o.Y36(gd),o.Y36(Bx),o.Y36(o.R0b),o.Y36(Jx),o.Y36(o.sBO),o.Y36(fd))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&o.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(o.Ikx("id",i._config.id),o.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),o.d8E("@dialogContainer",i._getAnimationState()))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,Iq,0,0,"ng-template",0)},dependencies:[Xx],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[kq.dialogContainer]}}),n})();class V_{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Ot.x,this._beforeClosed=new Ot.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe($n(r=>"opened"===r.state),Gi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe($n(r=>"closed"===r.state),Gi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Xn.T)(this.backdropClick(),this.keydownEvents().pipe($n(r=>27===r.keyCode&&!this.disableClose&&!Ml(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),oH(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe($n(e=>"closing"===e.state),Gi(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function oH(n,t,e){return n._closeInteractionType=t,n.close(e)}const eD=new o.OlP("MatDialogData"),Pq=new o.OlP("mat-dialog-default-options"),aH=new o.OlP("mat-dialog-scroll-strategy"),Lq={provide:aH,deps:[Uo],useFactory:function Fq(n){return()=>n.scrollStrategies.block()}};let Nq=0,Bq=(()=>{class n{constructor(e,i,r,s,a,u,h,p,v,w){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=h,this._dialogContainerType=p,this._dialogDataToken=v,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ot.x,this._afterOpenedAtThisLevel=new Ot.x,this._idPrefix="mat-dialog-",this.afterAllClosed=ux(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Yn(void 0))),this._scrollStrategy=u,this._dialog=i.get(sH)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new gd,...i}).id=i.id||`${this._idPrefix}${Nq++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:gd,useValue:i},{provide:XA,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,u,h)=>(r=new this._dialogRefConstructor(a,i,h),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:h},{provide:this._dialogDataToken,useValue:u.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),qb=(()=>{class n extends Bq{constructor(e,i,r,s,a,u,h,p){super(e,i,s,u,h,a,V_,Oq,eD,p)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Uo),o.LFG(o.zs3),o.LFG(G,8),o.LFG(Pq,8),o.LFG(aH),o.LFG(n,12),o.LFG(KA),o.LFG(o.QbO,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Vq=0,lH=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=uH(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){oH(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(V_,8),o.Y36(o.SBq),o.Y36(qb))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._onButtonClick(s)}),2&e&&o.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[o.TTD]}),n})(),cH=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+Vq++}ngOnInit(){this._dialogRef||(this._dialogRef=uH(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(V_,8),o.Y36(o.SBq),o.Y36(qb))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&o.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),QA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),JA=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})();function uH(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let LO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[qb,Lq],imports:[Tq,B_,Wb,Gn,Gn]}),n})();function NO(n){return n&&"function"==typeof n.connect&&!(n instanceof gR)}class dH{applyChanges(t,e,i,r,s){t.forEachOperation((a,u,h)=>{let p,v;if(null==a.previousIndex){const w=i(a,u,h);p=e.createEmbeddedView(w.templateRef,w.context,w.index),v=1}else null==h?(e.remove(u),v=3):(p=e.get(u),e.move(p,h),v=2);s&&s({context:p?.context,operation:v,record:a})})}detach(){}}class BO{constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ot.x,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}const tD=new o.OlP("_ViewRepeater"),Uq=["trigger"],zq=["panel"];function Gq(n,t){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.placeholder)}}function $q(n,t){if(1&n&&(o.TgZ(0,"span",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.triggerValue)}}function Wq(n,t){1&n&&o.Hsn(0,0,["*ngSwitchCase","true"])}function Yq(n,t){if(1&n&&(o.TgZ(0,"span",9),o.YNc(1,$q,2,1,"span",10),o.YNc(2,Wq,1,0,"ng-content",11),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngSwitch",!!e.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function qq(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",13)(1,"div",14,15),o.NdJ("@transformPanel.done",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._handleKeydown(r))}),o.Hsn(3,1),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("@transformPanelWrap",void 0),o.xp6(1),o.Gre("mat-select-panel ",e._getPanelTheme(),""),o.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),o.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),o.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Zq=[[["mat-select-trigger"]],"*"],Kq=["mat-select-trigger","*"],fH={transformPanelWrap:qs("transformPanelWrap",[ki("* => void",GA("@transformPanel",[zA()],{optional:!0}))]),transformPanel:qs("transformPanel",[Vi("void",Cn({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Vi("showing",Cn({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Vi("showing-multiple",Cn({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),ki("void => *",$i("120ms cubic-bezier(0, 0, 0.2, 1)")),ki("* => void",$i("100ms 25ms linear",Cn({opacity:0})))])};let pH=0;const gH=new o.OlP("mat-select-scroll-strategy"),e8=new o.OlP("MAT_SELECT_CONFIG"),t8={provide:gH,deps:[Uo],useFactory:function Jq(n){return()=>n.scrollStrategies.reposition()}};class n8{constructor(t,e){this.source=t,this.value=e}}const i8=cm(hV(Ub(fV(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new Ot.x}})))),r8=new o.OlP("MatSelectTrigger");let s8=(()=>{class n extends i8{constructor(e,i,r,s,a,u,h,p,v,w,O,Y,he,_e){super(a,s,h,p,w),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=u,this._parentFormField=v,this._liveAnnouncer=he,this._defaultOptions=_e,this._panelOpen=!1,this._compareWith=(ke,We)=>ke===We,this._uid="mat-select-"+pH++,this._triggerAriaLabelledBy=null,this._destroy=new Ot.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+pH++,this._panelDoneAnimatingStream=new Ot.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=ux(()=>{const ke=this.options;return ke?ke.changes.pipe(Yn(ke),Xi(()=>(0,Xn.T)(...ke.map(We=>We.onSelectionChange)))):this._ngZone.onStable.pipe(Gi(1),Xi(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe($n(ke=>ke),(0,en.U)(()=>{})),this._closedStream=this.openedChange.pipe($n(ke=>!ke),(0,en.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=_e?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=_e.typeaheadDebounceInterval),this._scrollStrategyFactory=Y,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Vr.required)??!1}set required(e){this._required=Pn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Pn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Pn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=jo(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new BO(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(ol(),On(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(On(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Yn(null),On(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&s&&!Ml(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const u=this.selected;a.onKeydown(e);const h=this.selected;h&&u!==h&&this._liveAnnouncer.announce(h.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,a=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(a||13!==r&&32!==r||!i.activeItem||Ml(e))if(!a&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const u=this.options.some(h=>!h.disabled&&!h.selected);this.options.forEach(h=>{h.disabled||(u?h.select():h.deselect())})}else{const u=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==u&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Gi(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new oW(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(On(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(On(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Xn.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(On(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Xn.T)(...this.options.map(i=>i._stateChanges)).pipe(On(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Zx),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(DO),o.Y36(o.SBq),o.Y36(Al,8),o.Y36(Tx,8),o.Y36(lm,8),o.Y36(WA,8),o.Y36(hd,10),o.$8M("tabindex"),o.Y36(gH),o.Y36(vO),o.Y36(e8,8))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&(o.Gf(Uq,5),o.Gf(zq,5),o.Gf(nH,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.trigger=r.first),o.iGM(r=o.CRH())&&(i.panel=r.first),o.iGM(r=o.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),n})(),o8=(()=>{class n extends s8{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(On(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Gi(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=SV(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function KW(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new n8(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let p=this._selectionModel.selected[0]||this.options.first;a=p&&p.group?32:16}r||(a*=-1);const u=0-(e.left+a-(r?s:0)),h=e.right+a-i.width+(r?0:s);u>0?a+=u+8:h>0&&(a-=h+8),this._overlayDir.offsetX=Math.round(a),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const s=this._getItemHeight(),a=(s-this._triggerRect.height)/2,u=Math.floor(256/s);let h;return this.disableOptionCentering?0:(h=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-u))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*h-a))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,a=r.height-this._triggerRect.bottom-8,u=Math.abs(this._offsetY),p=Math.min(this._getItemCount()*i,256)-u-this._triggerRect.height;p>a?this._adjustPanelUp(p,a):u>s?this._adjustPanelDown(u,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),a=i*e-r;let u;u=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),u+=SV(u,this.options,this.optionGroups);const h=r/2;this._scrollTop=this._calculateOverlayScroll(u,h,a),this._offsetY=this._calculateOverlayOffsetY(u,h,a),this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,r8,5),o.Suo(r,DV,5),o.Suo(r,xV,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.customTrigger=s.first),o.iGM(s=o.CRH())&&(i.options=s),o.iGM(s=o.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&o.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(o.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),o.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o._Bn([{provide:$A,useExisting:n},{provide:CV,useExisting:n}]),o.qOj],ngContentSelectors:Kq,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(o.F$t(Zq),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return i.toggle()}),o.TgZ(3,"div",2),o.YNc(4,Gq,2,1,"span",3),o.YNc(5,Yq,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5),o._UZ(7,"div",6),o.qZA()(),o.YNc(8,qq,4,14,"ng-template",7),o.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=o.MAs(1);o.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",i.empty),o.uIk("id",i._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(3),o.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[ni,$o,$a,Xs,nH,tH],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[fH.transformPanelWrap,fH.transformPanel]},changeDetection:0}),n})(),VO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[t8],imports:[rs,B_,EV,Gn,um,Gx,EV,Gn]}),n})();const a8=["tooltip"],_H="tooltip-panel",yH=Nb({passive:!0}),vH=new o.OlP("mat-tooltip-scroll-strategy"),d8={provide:vH,deps:[Uo],useFactory:function u8(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},h8=new o.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function f8(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let p8=(()=>{class n{constructor(e,i,r,s,a,u,h,p,v,w,O,Y){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=a,this._platform=u,this._ariaDescriber=h,this._focusMonitor=p,this._dir=w,this._defaultOptions=O,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Ot.x,this._scrollStrategy=v,this._document=Y,O&&(O.position&&(this.position=O.position),O.touchGestures&&(this.touchGestures=O.touchGestures)),w.change.pipe(On(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=Pn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=jo(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=jo(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(On(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,yH)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay();this._detach(),this._portal=this._portal||new $b(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(On(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(On(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${_H}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(On(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(On(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(On(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!Ml(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:a}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Gi(1),On(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let a;if(a="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",a!==this._currentPosition){const u=this._overlayRef;if(u){const h=`${this._cssClassPrefix}-${_H}-`;u.removePanelClass(h+this._currentPosition),u.addPanelClass(h+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,yH)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),m8=(()=>{class n extends p8{constructor(e,i,r,s,a,u,h,p,v,w,O,Y){super(e,i,r,s,a,u,h,p,v,w,O,Y),this._tooltipComponent=_8}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Uo),o.Y36(o.SBq),o.Y36(Yx),o.Y36(o.s_b),o.Y36(o.R0b),o.Y36(Hr),o.Y36(sW),o.Y36(fd),o.Y36(vH),o.Y36(Al,8),o.Y36(h8,8),o.Y36(Fe))},n.\u0275dir=o.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[o.qOj]}),n})(),g8=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Ot.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(e?s:r),i.classList.add(e?r:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const a=getComputedStyle(i);("0s"===a.getPropertyValue("animation-duration")||"none"===a.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(o.QbO,8))},n.\u0275dir=o.lG2({type:n}),n})(),_8=(()=>{class n extends g8{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe(pO_Handset),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(Nx),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&o.Gf(a8,7),2&e){let r;o.iGM(r=o.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("mouseleave",function(s){return i._handleMouseLeave(s)}),2&e&&o.Udp("zoom",i.isVisible()?1:null)},features:[o.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0,1),o.NdJ("animationend",function(s){return i._handleAnimationEnd(s)}),o.ALo(2,"async"),o._uU(3),o.qZA()),2&e){let r;o.ekj("mat-tooltip-handset",null==(r=o.lcZ(2,4,i._isHandset))?null:r.matches),o.Q6J("ngClass",i.tooltipClass),o.xp6(3),o.Oqu(i.message)}},dependencies:[ni,Gc],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),y8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[d8],imports:[wO,rs,B_,Gn,Gn,um]}),n})();function v8(n,t){if(1&n&&(o.TgZ(0,"mat-option",19),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e),o.xp6(1),o.hij(" ",e," ")}}function b8(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-form-field",16)(1,"mat-select",17),o.NdJ("selectionChange",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s._changePageSize(r.value))}),o.YNc(2,v8,2,2,"mat-option",18),o.qZA()()}if(2&n){const e=o.oxw(2);o.Q6J("appearance",e._formFieldAppearance)("color",e.color),o.xp6(1),o.Q6J("value",e.pageSize)("disabled",e.disabled)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering)("aria-label",e._intl.itemsPerPageLabel),o.xp6(1),o.Q6J("ngForOf",e._displayedPageSizeOptions)}}function w8(n,t){if(1&n&&(o.TgZ(0,"div",20),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.pageSize)}}function C8(n,t){if(1&n&&(o.TgZ(0,"div",12)(1,"div",13),o._uU(2),o.qZA(),o.YNc(3,b8,3,8,"mat-form-field",14),o.YNc(4,w8,2,1,"div",15),o.qZA()),2&n){const e=o.oxw();o.xp6(2),o.hij(" ",e._intl.itemsPerPageLabel," "),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length>1),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function x8(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",21),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.firstPage())}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",22),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),o.uIk("aria-label",e._intl.firstPageLabel)}}function D8(n,t){if(1&n){const e=o.EpF();o.O4$(),o.kcU(),o.TgZ(0,"button",23),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.lastPage())}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",24),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),o.uIk("aria-label",e._intl.lastPageLabel)}}let tT=(()=>{class n{constructor(){this.changes=new Ot.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const s=e*i;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+i,r):s+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const E8={provide:tT,deps:[[new o.FiY,new o.tp0,tT]],useFactory:function S8(n){return n||new tT}},A8=new o.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),T8=Ub(pV(class{}));let I8=(()=>{class n extends T8{constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new o.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:a,hidePageSize:u,showFirstLastButtons:h}=r;null!=s&&(this._pageSize=s),null!=a&&(this._pageSizeOptions=a),null!=u&&(this._hidePageSize=u),null!=h&&(this._showFirstLastButtons=h)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(jo(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=jo(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(jo(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>jo(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=Pn(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=Pn(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[o.qOj]}),n})(),Kb=(()=>{class n extends I8{constructor(e,i,r){super(e,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(tT),o.Y36(o.sBO),o.Y36(A8,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[o.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","panelClass","disableOptionCentering","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,C8,5,3,"div",2),o.TgZ(3,"div",3)(4,"div",4),o._uU(5),o.qZA(),o.YNc(6,x8,3,5,"button",5),o.TgZ(7,"button",6),o.NdJ("click",function(){return i.previousPage()}),o.O4$(),o.TgZ(8,"svg",7),o._UZ(9,"path",8),o.qZA()(),o.kcU(),o.TgZ(10,"button",9),o.NdJ("click",function(){return i.nextPage()}),o.O4$(),o.TgZ(11,"svg",7),o._UZ(12,"path",10),o.qZA()(),o.YNc(13,D8,3,5,"button",11),o.qZA()()()),2&e&&(o.xp6(2),o.Q6J("ngIf",!i.hidePageSize),o.xp6(3),o.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),o.xp6(1),o.Q6J("ngIf",i.showFirstLastButtons),o.xp6(1),o.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),o.uIk("aria-label",i._intl.previousPageLabel),o.xp6(3),o.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),o.uIk("aria-label",i._intl.nextPageLabel),o.xp6(3),o.Q6J("ngIf",i.showFirstLastButtons))},dependencies:[fi,li,md,Gb,o8,DV,m8],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{display:inline-block;width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),bH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[E8],imports:[rs,Ux,VO,y8,Gn]}),n})();const k8=new o.OlP("MAT_SORT_DEFAULT_OPTIONS"),R8=pV(Ub(class{}));let nT=(()=>{class n extends R8{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new Ot.x,this.start="asc",this._direction="",this.sortChange=new o.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Pn(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let r=function O8(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),s=r.indexOf(this.direction)+1;return s>=r.length&&(s=0),r[s]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(k8,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[o.qOj,o.TTD]}),n})();const L8=[[["caption"]],[["colgroup"],["col"]]],N8=["caption","colgroup, col"];function jO(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Pn(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Xb=new o.OlP("CDK_TABLE");let Qb=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Jb=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),iT=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class j8{}const U8=jO(j8);let gf=(()=>{class n extends U8{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Pn(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Xb,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,Qb,5),o.Suo(r,Jb,5),o.Suo(r,iT,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.cell=s.first),o.iGM(s=o.CRH())&&(i.headerCell=s.first),o.iGM(s=o.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[o._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})();class UO{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let zO=(()=>{class n extends UO{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(gf),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[o.qOj]}),n})(),GO=(()=>{class n extends UO{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(gf),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[o.qOj]}),n})();class CH{constructor(){this.tasks=[],this.endTasks=[]}}const $O=new o.OlP("_COALESCED_STYLE_SCHEDULER");let xH=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Ot.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new CH,this._getScheduleObservable().pipe(On(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new CH;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Hn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Gi(1))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),WO=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof iD?e.headerCell.template:this instanceof rD?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();class z8 extends WO{}const G8=jO(z8);let iD=(()=>{class n extends G8{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(Xb,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})();class $8 extends WO{}const W8=jO($8);let rD=(()=>{class n extends W8{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(Xb,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})(),rT=(()=>{class n extends WO{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(Xb,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[o.qOj]}),n})(),_f=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),YO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[_f],encapsulation:2}),n})(),ZO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[_f],encapsulation:2}),n})(),sT=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const DH=["top","bottom","left","right"];class Y8{constructor(t,e,i,r,s=!0,a=!0,u){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=a,this._positionListener=u,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(O=>O)&&!i.some(O=>O))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],a=s.children.length,u=this._getCellWidths(s,r),h=this._getStickyStartColumnPositions(u,e),p=this._getStickyEndColumnPositions(u,i),v=e.lastIndexOf(!0),w=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const O="rtl"===this.direction,Y=O?"right":"left",he=O?"left":"right";for(const _e of t)for(let ke=0;ke<a;ke++){const We=_e.children[ke];e[ke]&&this._addStickyStyle(We,Y,h[ke],ke===v),i[ke]&&this._addStickyStyle(We,he,p[ke],ke===w)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===v?[]:u.slice(0,v+1).map((_e,ke)=>e[ke]?_e:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===w?[]:u.slice(w).map((_e,ke)=>i[ke+w]?_e:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,a=[],u=[],h=[];for(let v=0,w=0;v<r.length;v++){if(!s[v])continue;a[v]=w;const O=r[v];h[v]=this._isNativeHtmlTable?Array.from(O.children):[O];const Y=O.getBoundingClientRect().height;w+=Y,u[v]=Y}const p=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let v=0;v<r.length;v++){if(!s[v])continue;const w=a[v],O=v===p;for(const Y of h[v])this._addStickyStyle(Y,i,w,O)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:u,offsets:a,elements:h}):this._positionListener?.stickyFooterRowsUpdated({sizes:u,offsets:a,elements:h})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);DH.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of DH)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}}const KO=new o.OlP("CDK_SPL");let oT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),aT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),lT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),cT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),uT=(()=>{class n{constructor(e,i,r,s,a,u,h,p,v,w,O,Y){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=a,this._platform=h,this._viewRepeater=p,this._coalescedStyleScheduler=v,this._viewportRuler=w,this._stickyPositioningListener=O,this._ngZone=Y,this._onDestroy=new Ot.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new o.vpe,this.viewChange=new go({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=u,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Pn(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Pn(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(On(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),NO(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,s,a)=>this._getEmbeddedViewArgs(r.item,a),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&o.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Gi(1),On(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,a)=>{this._addStickyColumnStyles([s],this._headerRowDefs[a])}),this._rowDefs.forEach(s=>{const a=[];for(let u=0;u<i.length;u++)this._renderRows[u].rowDef===s&&a.push(i[u]);this._addStickyColumnStyles(a,s)}),r.forEach((s,a)=>{this._addStickyColumnStyles([s],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const a=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let u=0;u<a.length;u++){let h=a[u];const p=this._cachedRenderRowsMap.get(h.data);p.has(h.rowDef)?p.get(h.rowDef).push(h):p.set(h.rowDef,[h]),e.push(h)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(a=>{const u=r&&r.has(a)?r.get(a):[];if(u.length){const h=u.shift();return h.dataIndex=i,h}return{data:e,rowDef:a,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),dT(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=dT(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=dT(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=dT(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(a,u)=>a||!!u.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(e){this._data=[],NO(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;NO(this.dataSource)?e=this.dataSource.connect(this):function F8(n){return!!n&&(n instanceof cr.y||(0,Sl.m)(n.lift)&&(0,Sl.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Bt(this.dataSource)),this._renderChangeSubscription=e.pipe(On(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(u=>this._columnDefsByName.get(u)),s=r.map(u=>u.sticky),a=r.map(u=>u.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(a=>a.when&&a.when(i,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,s={}){const a=e.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),a}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))_f.mostRecentCellOutlet&&_f.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const a=e.get(i).context;a.count=r,a.first=0===i,a.last=i===r-1,a.even=i%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[i].dataIndex,a.renderIndex=i):a.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const a of r.outlets)s.appendChild(a.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Y8(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Bt()).pipe(On(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(e.templateRef),a=s.rootNodes[0];1===s.rootNodes.length&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.sBO),o.Y36(o.SBq),o.$8M("role"),o.Y36(Al,8),o.Y36(Fe),o.Y36(Hr),o.Y36(tD),o.Y36($O),o.Y36(Zx),o.Y36(KO,12),o.Y36(o.R0b,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,sT,5),o.Suo(r,gf,5),o.Suo(r,rT,5),o.Suo(r,iD,5),o.Suo(r,rD,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._noDataRow=s.first),o.iGM(s=o.CRH())&&(i._contentColumnDefs=s),o.iGM(s=o.CRH())&&(i._contentRowDefs=s),o.iGM(s=o.CRH())&&(i._contentHeaderRowDefs=s),o.iGM(s=o.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(oT,7),o.Gf(aT,7),o.Gf(lT,7),o.Gf(cT,7)),2&e){let r;o.iGM(r=o.CRH())&&(i._rowOutlet=r.first),o.iGM(r=o.CRH())&&(i._headerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._footerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[o._Bn([{provide:Xb,useExisting:n},{provide:tD,useClass:dH},{provide:$O,useClass:xH},{provide:KO,useValue:null}])],ngContentSelectors:N8,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(L8),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[oT,aT,lT,cT],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function dT(n,t){return n.concat(Array.from(t))}let Z8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[kO]}),n})();const K8=[[["caption"]],[["colgroup"],["col"]]],X8=["caption","colgroup, col"];let XO=(()=>{class n extends uT{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[o._Bn([{provide:tD,useClass:dH},{provide:uT,useExisting:n},{provide:Xb,useExisting:n},{provide:$O,useClass:xH},{provide:KO,useValue:null}]),o.qOj],ngContentSelectors:X8,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(K8),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[oT,aT,lT,cT],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),hT=(()=>{class n extends Qb{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matCellDef",""]],features:[o._Bn([{provide:Qb,useExisting:n}]),o.qOj]}),n})(),fT=(()=>{class n extends Jb{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[o._Bn([{provide:Jb,useExisting:n}]),o.qOj]}),n})(),pT=(()=>{class n extends gf{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[o._Bn([{provide:gf,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})(),mT=(()=>{class n extends zO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[o.qOj]}),n})(),gT=(()=>{class n extends GO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[o.qOj]}),n})(),QO=(()=>{class n extends iD{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[o._Bn([{provide:iD,useExisting:n}]),o.qOj]}),n})(),JO=(()=>{class n extends rT{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[o._Bn([{provide:rT,useExisting:n}]),o.qOj]}),n})(),eP=(()=>{class n extends YO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[o._Bn([{provide:YO,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[_f],encapsulation:2}),n})(),tP=(()=>{class n extends ZO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[o._Bn([{provide:ZO,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[_f],encapsulation:2}),n})(),nP=(()=>{class n extends sT{constructor(){super(...arguments),this._contentClassName="mat-no-data-row"}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","matNoDataRow",""]],features:[o._Bn([{provide:sT,useExisting:n}]),o.qOj]}),n})(),EH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Z8,Gn,Gn]}),n})();class iP extends class l9 extends class Hq{}{constructor(t=[]){super(),this._renderData=new go([]),this._filter=new go(""),this._internalPageChanges=new Ot.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(YB(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(e,i)=>{const r=i.active,s=i.direction;return r&&""!=s?e.sort((a,u)=>{let h=this.sortingDataAccessor(a,r),p=this.sortingDataAccessor(u,r);const v=typeof h,w=typeof p;v!==w&&("number"===v&&(h+=""),"number"===w&&(p+=""));let O=0;return null!=h&&null!=p?h>p?O=1:h<p&&(O=-1):null!=h?O=1:null!=p&&(O=-1),O*("asc"==s?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((a,u)=>a+e[u]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new go(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?(0,Xn.T)(this._sort.sortChange,this._sort.initialized):Bt(null),e=this._paginator?(0,Xn.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Bt(null),r=S_([this._data,this._filter]).pipe((0,en.U)(([u])=>this._filterData(u))),s=S_([r,t]).pipe((0,en.U)(([u])=>this._orderData(u))),a=S_([s,e]).pipe((0,en.U)(([u])=>this._pageData(u)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=a.subscribe(u=>this._renderData.next(u))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}{}let rP=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Pn(e)}get inset(){return this._inset}set inset(e){this._inset=Pn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),o.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),c9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gn,Gn]}),n})();const MH=["*"];class d9{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new h9(this.rowIndex,e)}_findMatchingGap(t){let e=-1,i=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<t||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}}class h9{constructor(t,e){this.row=t,this.col=e}}const AH=new o.OlP("MAT_GRID_LIST");let sP=(()=>{class n{constructor(e,i){this._element=e,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(jo(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(jo(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(AH,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,i){2&e&&o.uIk("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:MH,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})();const f9=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class oP{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,r){this._gutterSize=TH(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=r}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":H_(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let r=100/this._cols,s=(this._cols-1)/this._cols;this.setColStyles(t,i,r,s),this.setRowStyles(t,e,r,s)}setColStyles(t,e,i,r){let s=this.getBaseTileSize(i,r);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(s,e)),t._setStyle("width",H_(this.getTileSize(s,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class p9 extends oP{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,r){super.init(t,e,i,r),this.fixedRowHeight=TH(this.fixedRowHeight),f9.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",H_(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",H_(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class m9 extends oP{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",H_(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",H_(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class g9 extends oP{setRowStyles(t,e){let s=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(s,e)),t._setStyle("height",H_(this.getTileSize(s,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function H_(n){return`calc(${n})`}function TH(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let IH=(()=>{class n{constructor(e,i){this._element=e,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(jo(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${e??""}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const i=`${e??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new g9:e&&e.indexOf(":")>-1?new m9(e):new p9(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new d9);const e=this._tileCoordinator,i=this._tiles.filter(s=>!s._gridList||s._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,r),i.forEach((s,a)=>{const u=e.positions[a];this._tileStyler.setStyle(s,u.row,u.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Al,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,sP,5),2&e){let s;o.iGM(s=o.CRH())&&(i._tiles=s)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[o._Bn([{provide:AH,useExisting:n}])],ngContentSelectors:MH,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div"),o.Hsn(1),o.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})(),kH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[UA,Gn,UA,Gn]}),n})();function y9(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Ingrese nombre completo"),o.qZA())}function v9(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Ingrese un telefono valido"),o.qZA())}function b9(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Ingrese un correo valido "),o.qZA())}function w9(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Ingrese su cedula "),o.qZA())}function C9(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Ingrese nombre de su local "),o.qZA())}let RH=(()=>{class n{constructor(e,i,r){this.fb=e,this.dialogRef=r,this.title=i.title,this.uid=i.uid,this.name=i.name,this.phoneNumber=i.phoneNumber,this.mail=i.mail,this.local=i.local,this.identification=i.identification,this.buttonName=i.buttonName}ngOnInit(){this.form=this.fb.group({uid:[this.uid,[]],name:[this.name,[Vr.required]],phoneNumber:[this.phoneNumber,[Vr.required,Vr.maxLength(10),Vr.minLength(10)]],email:[this.mail,[Vr.required,Vr.email]],local:[this.local,[Vr.required]],cedula:[this.identification,[Vr.required]]})}cancelRegistration(){this.dialogRef.close()}registerMecanico(){this.dialogRef.close(this.form.value)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(lO),o.Y36(eD),o.Y36(V_))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-add-mecanico"]],decls:42,vars:9,consts:[["mat-dialog-tile",""],[3,"formGroup"],["cols","2"],["matInput","","placeholder","Ex. code logic","formControlName","name","required",""],[4,"ngIf"],["matInput","","placeholder","9865452152","formControlName","phoneNumber","required",""],["matInput","","placeholder","pat@example.com","formControlName","email","required",""],["matInput","","placeholder","111111111","formControlName","cedula","required",""],[1,"me-3"],["matInput","","placeholder","Nombre y direcci\xf3n","formControlName","local","required",""],["mat-dialog-actions",""],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled","click"]],template:function(e,i){if(1&e&&(o.TgZ(0,"h2",0),o._uU(1),o.qZA(),o._UZ(2,"mat-divider"),o.TgZ(3,"mat-dialog-content",1)(4,"mat-grid-list",2)(5,"mat-grid-tile")(6,"div")(7,"mat-form-field")(8,"mat-label"),o._uU(9,"Nombre completo"),o.qZA(),o._UZ(10,"input",3),o.YNc(11,y9,2,0,"mat-error",4),o.qZA(),o.TgZ(12,"mat-form-field")(13,"mat-label"),o._uU(14,"Numero Celular : "),o.qZA(),o._UZ(15,"input",5),o.YNc(16,v9,2,0,"mat-error",4),o.qZA(),o.TgZ(17,"mat-form-field")(18,"mat-label"),o._uU(19,"Email"),o.qZA(),o._UZ(20,"input",6),o.YNc(21,b9,2,0,"mat-error",4),o.qZA(),o.TgZ(22,"mat-form-field")(23,"mat-label"),o._uU(24,"Cedula"),o.qZA(),o._UZ(25,"input",7),o.YNc(26,w9,2,0,"mat-error",4),o.qZA()()(),o.TgZ(27,"mat-grid-tile")(28,"div")(29,"mat-label",8),o._uU(30,"Local : "),o.qZA(),o._UZ(31,"br"),o.TgZ(32,"mat-form-field")(33,"mat-label"),o._uU(34,"local"),o.qZA(),o._UZ(35,"input",9),o.YNc(36,C9,2,0,"mat-error",4),o.qZA()()()()(),o.TgZ(37,"div",10)(38,"button",11),o.NdJ("click",function(){return i.cancelRegistration()}),o._uU(39,"Cancel"),o.qZA(),o.TgZ(40,"button",12),o.NdJ("click",function(){return i.registerMecanico()}),o._uU(41),o.qZA()()),2&e){let r,s,a,u,h;o.xp6(1),o.hij(" ",i.title," "),o.xp6(2),o.Q6J("formGroup",i.form),o.xp6(8),o.Q6J("ngIf",(null==(r=i.form.get("name"))?null:r.invalid)||(null==(r=i.form.get("name"))?null:r.dirty)||(null==(r=i.form.get("name"))?null:r.touched)),o.xp6(5),o.Q6J("ngIf",(null==(s=i.form.get("phoneNumber"))?null:s.invalid)||(null==(s=i.form.get("phoneNumber"))?null:s.dirty)||(null==(s=i.form.get("phoneNumber"))?null:s.touched)),o.xp6(5),o.Q6J("ngIf",(null==(a=i.form.get("email"))?null:a.invalid)||(null==(a=i.form.get("email"))?null:a.dirty)||(null==(a=i.form.get("email"))?null:a.touched)),o.xp6(5),o.Q6J("ngIf",(null==(u=i.form.get("cedula"))?null:u.invalid)||(null==(u=i.form.get("cedula"))?null:u.dirty)||(null==(u=i.form.get("cedula"))?null:u.touched)),o.xp6(10),o.Q6J("ngIf",(null==(h=i.form.get("local"))?null:h.invalid)||(null==(h=i.form.get("email"))?null:h.dirty)||(null==(h=i.form.get("local"))?null:h.touched)),o.xp6(4),o.Q6J("disabled",i.form.invalid),o.xp6(1),o.hij(" ",i.buttonName," ")}},dependencies:[li,md,rP,lH,QA,JA,IH,sP,AO,Gb,L_,$x,Ob,wA,CA,Fb,lm,kx],styles:[".mat-dialog-content[_ngcontent-%COMP%]{width:600px}.mat-grid-list[_ngcontent-%COMP%]{overflow:hidden}.mat-radio-button[_ngcontent-%COMP%]{margin-right:15px}"]}),n})(),x9=(()=>{class n{constructor(e,i){this.dialogRef=i,this.mecanicoName=e.mecanicoName,this.title=e.title}ngOnInit(){}close(){this.dialogRef.close()}delete(){this.dialogRef.close(!0)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(eD),o.Y36(V_))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-delete-mecanico"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-raised-button","",3,"click"],["mat-raised-button","","color","accent",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"h1",0),o._uU(1),o.qZA(),o.TgZ(2,"div",1)(3,"p"),o._uU(4),o.qZA()(),o.TgZ(5,"div",2)(6,"button",3),o.NdJ("click",function(){return i.close()}),o._uU(7,"No gracias"),o.qZA(),o.TgZ(8,"button",4),o.NdJ("click",function(){return i.delete()}),o._uU(9,"Eliminar"),o.qZA()()),2&e&&(o.xp6(1),o.Oqu(i.title),o.xp6(3),o.hij("Seguro quiere eliminar ",i.mecanicoName," ? "))},dependencies:[md,cH,QA,JA]}),n})(),_T=(()=>{class n{constructor(e){this.afs=e}addMecanico(e){return e.uid=this.afs.createId(),this.afs.collection("mecanicos/").add(e)}getAllMecanicos(){return this.afs.collection("mecanicos/").snapshotChanges()}updateMecanico(e){return this.afs.doc("mecanicos/"+e.uid).update(e)}deleteMecanico(e){return this.afs.doc("mecanicos/"+e).delete()}getMecanicoById(e){return this.afs.doc("mecanicos/"+e).valueChanges()}addUsuarios(e){return e.uid=this.afs.createId(),this.afs.collection("users/").add(e)}getAllUsuarios(){return this.afs.collection("users/").snapshotChanges()}updateUsuarios(e){return this.afs.doc("users/"+e.uid).update(e)}deleteUsuarios(e){return this.afs.doc("users/"+e).delete()}getUsuarioById(e){return this.afs.doc("users/"+e).valueChanges()}addMembresia(e){return e.uid=this.afs.createId(),this.afs.collection("membresias/").add(e)}getAllMembresia(){return this.afs.collection("membresias/").snapshotChanges()}updateMembresia(e){return this.afs.doc("membresias/"+e.uid).update(e)}deleteMembresia(e){return this.afs.doc("membresias/"+e).delete()}getMembresiaById(e){return this.afs.doc("membresias/"+e).valueChanges()}getAllRequests(){return this.afs.collection("requests/").snapshotChanges()}getMecanicoWorkPerformed(e){return this.afs.doc("workPerformed/"+e).valueChanges()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(qM))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function D9(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2)(1,"button",3),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.action())}),o._uU(2),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(2),o.Oqu(e.data.action)}}function S9(n,t){}const OH=new o.OlP("MatSnackBarData");class yT{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const E9=Math.pow(2,31)-1;class aP{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Ot.x,this._afterOpened=new Ot.x,this._onAction=new Ot.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,E9))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let M9=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(aP),o.Y36(OH))},n.\u0275cmp=o.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"span",0),o._uU(1),o.qZA(),o.YNc(2,D9,3,1,"div",1)),2&e&&(o.xp6(1),o.Oqu(i.data.message),o.xp6(1),o.Q6J("ngIf",i.hasAction))},dependencies:[li,md],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const A9={snackBarState:qs("state",[Vi("void, hidden",Cn({transform:"scale(0.8)",opacity:0})),Vi("visible",Cn({transform:"scale(1)",opacity:1})),ki("* => visible",$i("150ms cubic-bezier(0, 0, 0.2, 1)")),ki("* => void, * => hidden",$i("75ms cubic-bezier(0.4, 0.0, 1, 1)",Cn({opacity:0})))])};let T9=(()=>{class n extends ZA{constructor(e,i,r,s,a){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=a,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ot.x,this._onExit=new Ot.x,this._onEnter=new Ot.x,this._animationState="void",this.attachDomPortal=u=>{this._assertNotAttached();const h=this._portalOutlet.attachDomPortal(u);return this._afterPortalAttached(),h},this._live="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Gi(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Hr),o.Y36(yT))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(Xx,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},features:[o.qOj]}),n})(),I9=(()=>{class n extends T9{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&o.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&e&&o.d8E("@state",i._animationState)},features:[o.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.YNc(1,S9,0,0,"ng-template",1),o.qZA(),o._UZ(2,"div")),2&e&&(o.xp6(2),o.uIk("aria-live",i._live)("role",i._role))},dependencies:[Xx],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[A9.snackBarState]}}),n})(),lP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[B_,Wb,rs,Ux,Gn,Gn]}),n})();const PH=new o.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function k9(){return new yT}});let R9=(()=>{class n{constructor(e,i,r,s,a,u){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=a,this._defaultConfig=u,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s={...this._defaultConfig,...r};return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=o.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:yT,useValue:i}]}),a=new $b(this.snackBarContainerComponent,i.viewContainerRef,s),u=e.attach(a);return u.instance.snackBarConfig=i,u.instance}_attach(e,i){const r={...new yT,...this._defaultConfig,...i},s=this._createOverlay(r),a=this._attachSnackBarContainer(s,r),u=new aP(a,s);if(e instanceof o.Rgc){const h=new Kx(e,null,{$implicit:r.data,snackBarRef:u});u.instance=a.attachTemplatePortal(h)}else{const h=this._createInjector(r,u),p=new $b(e,void 0,h),v=a.attachComponentPortal(p);u.instance=v.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(On(s.detachments())).subscribe(h=>{s.overlayElement.classList.toggle(this.handsetCssClass,h.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(u,r),this._openedSnackBarRef=u,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new Qx;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,a="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,u=!a&&"center"!==e.horizontalPosition;return a?r.left("0"):u?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return o.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:aP,useValue:i},{provide:OH,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Uo),o.LFG(vO),o.LFG(o.zs3),o.LFG(Nx),o.LFG(n,12),o.LFG(PH))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),vT=(()=>{class n extends R9{constructor(e,i,r,s,a,u){super(e,i,r,s,a,u),this.simpleSnackBarComponent=M9,this.snackBarContainerComponent=I9,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Uo),o.LFG(vO),o.LFG(o.zs3),o.LFG(Nx),o.LFG(n,12),o.LFG(PH))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:lP}),n})();class O9{}class hm{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof hm?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new hm;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof hm?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let a=this.headers.get(e);if(!a)return;a=a.filter(u=>-1===s.indexOf(u)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class P9{encodeKey(t){return FH(t)}encodeValue(t){return FH(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const L9=/%(\d[a-f0-9])/gi,N9={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function FH(n){return encodeURIComponent(n).replace(L9,(t,e)=>N9[e]??t)}function bT(n){return`${n}`}class fm{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new P9,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function F9(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,u]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],h=e.get(a)||[];h.push(u),e.set(a,h)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(bT):[bT(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new fm({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(bT(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(bT(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class B9{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function LH(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function NH(n){return typeof Blob<"u"&&n instanceof Blob}function BH(n){return typeof FormData<"u"&&n instanceof FormData}class sD{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function V9(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new hm),this.context||(this.context=new B9),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const u=e.indexOf("?");this.urlWithParams=e+(-1===u?"?":u<e.length-1?"&":"")+a}}else this.params=new fm,this.urlWithParams=e}serializeBody(){return null===this.body?null:LH(this.body)||NH(this.body)||BH(this.body)||function H9(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof fm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||BH(this.body)?null:NH(this.body)?this.body.type||null:LH(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,u=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,p=t.params||this.params;const v=t.context??this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((w,O)=>w.set(O,t.setHeaders[O]),h)),t.setParams&&(p=Object.keys(t.setParams).reduce((w,O)=>w.set(O,t.setParams[O]),p)),new sD(e,i,s,{params:p,headers:h,context:v,reportProgress:u,responseType:r,withCredentials:a})}}var Zs=(()=>((Zs=Zs||{})[Zs.Sent=0]="Sent",Zs[Zs.UploadProgress=1]="UploadProgress",Zs[Zs.ResponseHeader=2]="ResponseHeader",Zs[Zs.DownloadProgress=3]="DownloadProgress",Zs[Zs.Response=4]="Response",Zs[Zs.User=5]="User",Zs))();class cP extends class j9{constructor(t,e=200,i="OK"){this.headers=t.headers||new hm,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Zs.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new cP({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function uP(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let HH=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof sD)s=e;else{let h,p;h=r.headers instanceof hm?r.headers:new hm(r.headers),r.params&&(p=r.params instanceof fm?r.params:new fm({fromObject:r.params})),s=new sD(e,i,void 0!==r.body?r.body:null,{headers:h,context:r.context,params:p,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=Bt(s).pipe(rm(h=>this.handler.handle(h)));if(e instanceof sD||"events"===r.observe)return a;const u=a.pipe($n(h=>h instanceof cP));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe((0,en.U)(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return u.pipe((0,en.U)(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return u.pipe((0,en.U)(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return u.pipe((0,en.U)(h=>h.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new fm).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,uP(r,i))}post(e,i,r={}){return this.request("POST",e,uP(r,i))}put(e,i,r={}){return this.request("PUT",e,uP(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(O9))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const z9=["*"];let wT;function oD(n){return function G9(){if(void 0===wT&&(wT=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(wT=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return wT}()?.createHTML(n)||n}function jH(n){return Error(`Unable to find icon with the name "${n}"`)}function UH(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function zH(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class j_{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let CT=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new j_(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const a=this._sanitizer.sanitize(o.q3G.HTML,r);if(!a)throw zH(r);const u=oD(a);return this._addSvgIconConfig(e,i,new j_("",u,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new j_(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw zH(i);const a=oD(s);return this._addSvgIconSetConfig(e,new j_("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!i)throw UH(e);const r=this._cachedIconsByUrl.get(i);return r?Bt(xT(r)):this._loadSvgIconFromConfig(new j_(e,null)).pipe((0,Jr.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,en.U)(s=>xT(s)))}getNamedSvgIcon(e,i=""){const r=GH(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):Sb(jH(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Bt(xT(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,en.U)(i=>xT(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Bt(r):O2(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(uf(u=>{const p=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,a.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(p)),Bt(null)})))).pipe((0,en.U)(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw jH(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(s),u=this._extractSvgIconFromSet(a,e,s.options);if(u)return u}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Jr.b)(i=>e.svgText=i),(0,en.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Bt(null):this._fetchIcon(e).pipe((0,Jr.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const a=s.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const u=this._svgElementFromString(oD("<svg></svg>"));return u.appendChild(a),this._setSvgAttributes(u,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(oD("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:a,value:u}=r[s];"id"!==a&&i.setAttribute(a,u)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function $9(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,i);if(!a)throw UH(i);const u=this._inProgressUrlFetches.get(a);if(u)return u;const h=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe((0,en.U)(p=>oD(p)),KM(()=>this._inProgressUrlFetches.delete(a)),(0,xb.B)());return this._inProgressUrlFetches.set(a,h),h}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(GH(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return Y9(s)?new j_(s.url,null,s.options):new j_(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(HH,8),o.LFG(va),o.LFG(Fe,8),o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xT(n){return n.cloneNode(!0)}function GH(n,t){return n+":"+t}function Y9(n){return!(!n.url||!n.options)}const q9=jA(class{constructor(n){this._elementRef=n}}),Z9=new o.OlP("MAT_ICON_DEFAULT_OPTIONS"),K9=new o.OlP("mat-icon-location",{providedIn:"root",factory:function X9(){const n=(0,o.f3M)(Fe),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),$H=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Q9=$H.map(n=>`[${n}]`).join(", "),J9=/^url\(['"]?#(.*?)['"]?\)$/;let dP=(()=>{class n extends q9{constructor(e,i,r,s,a,u){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Is.w0.EMPTY,u&&(u.color&&(this.color=this.defaultColor=u.color),u.fontSet&&(this.fontSet=u.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Pn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(a=>{s.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(Q9),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)$H.forEach(a=>{const u=i[s],h=u.getAttribute(a),p=h?h.match(J9):null;if(p){let v=r.get(u);v||(v=[],r.set(u,v)),v.push({name:a,value:p[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Gi(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(CT),o.$8M("aria-hidden"),o.Y36(K9),o.Y36(o.qLn),o.Y36(Z9,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(o.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),o.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:z9,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),WH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gn,Gn]}),n})();function YH(n,t){return t?e=>Io(t.pipe(Gi(1),function eZ(){return(0,_i.e)((n,t)=>{n.subscribe((0,Si.x)(t,WB.Z))})}()),e.pipe(YH(n))):(0,$s.z)((e,i)=>n(e,i).pipe(Gi(1),ZM(e)))}function qH(n,t=no.z){const e=GV(n,t);return YH(()=>e)}const tZ=["mat-menu-item",""];function nZ(n,t){1&n&&(o.O4$(),o.TgZ(0,"svg",2),o._UZ(1,"polygon",3),o.qZA())}const ZH=["*"];function iZ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",0),o.NdJ("keydown",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._handleKeydown(r))})("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._onAnimationDone(r))}),o.TgZ(1,"div",1),o.Hsn(2),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),o.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const DT={transformMenu:qs("transformMenu",[Vi("void",Cn({opacity:0,transform:"scale(0.8)"})),ki("void => enter",$i("120ms cubic-bezier(0, 0, 0.2, 1)",Cn({opacity:1,transform:"scale(1)"}))),ki("* => void",$i("100ms 25ms linear",Cn({opacity:0})))]),fadeInItems:qs("fadeInItems",[Vi("showing",Cn({opacity:1})),ki("void => *",[Cn({opacity:0}),$i("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},rZ=new o.OlP("MatMenuContent"),hP=new o.OlP("MAT_MENU_PANEL"),sZ=cm(Ub(class{}));let aD=(()=>{class n extends sZ{constructor(e,i,r,s,a){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=a,this.role="menuitem",this._hovered=new Ot.x,this._focused=new Ot.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Fe),o.Y36(fd),o.Y36(hP,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(o.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),o.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[o.qOj],attrs:tZ,ngContentSelectors:ZH,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(o.F$t(),o.Hsn(0),o._UZ(1,"div",0),o.YNc(2,nZ,2,0,"svg",1)),2&e&&(o.xp6(1),o.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),o.xp6(1),o.Q6J("ngIf",i._triggersSubmenu))},dependencies:[li,P_],encapsulation:2,changeDetection:0}),n})();const KH=new o.OlP("mat-menu-default-options",{providedIn:"root",factory:function oZ(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let aZ=0,lD=(()=>{class n{constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new o.n_E,this._tabSubscription=Is.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Ot.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new o.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+aZ++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Pn(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Pn(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new iV(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Yn(this._directDescendantItems),Xi(e=>(0,Xn.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Yn(this._directDescendantItems),Xi(i=>(0,Xn.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Ml(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe(Gi(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(a=>a.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Yn(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(KH),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,rZ,5),o.Suo(r,aD,5),o.Suo(r,aD,4)),2&e){let s;o.iGM(s=o.CRH())&&(i.lazyContent=s.first),o.iGM(s=o.CRH())&&(i._allItems=s),o.iGM(s=o.CRH())&&(i.items=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(o.Rgc,5),2&e){let r;o.iGM(r=o.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),XH=(()=>{class n extends lD{constructor(e,i,r,s){super(e,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(KH),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&o.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[o._Bn([{provide:hP,useExisting:n}]),o.qOj],ngContentSelectors:ZH,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,iZ,3,6,"ng-template"))},dependencies:[ni],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[DT.transformMenu,DT.fadeInItems]},changeDetection:0}),n})();const QH=new o.OlP("mat-menu-scroll-strategy"),cZ={provide:QH,deps:[Uo],useFactory:function lZ(n){return()=>n.scrollStrategies.reposition()}},JH=Nb({passive:!0});let uZ=(()=>{class n{constructor(e,i,r,s,a,u,h,p,v){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=u,this._dir=h,this._focusMonitor=p,this._ngZone=v,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Is.w0.EMPTY,this._hoverSubscription=Is.w0.EMPTY,this._menuCloseSubscription=Is.w0.EMPTY,this._handleTouchStart=w=>{yO(w)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new o.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new o.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=a instanceof lD?a:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,JH),u&&(u._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,JH),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),s=r.positionStrategy;this._setPosition(e,s),r.hasBackdrop=e.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof lD&&(e._startAnimation(),e._directDescendantItems.changes.pipe(On(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof lD?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe($n(r=>"void"===r.toState),Gi(1),On(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new Qx({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",a="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(s,a)):e.setPositionClasses(s,a)})}_setPosition(e,i){let[r,s]="before"===e.xPosition?["end","start"]:["start","end"],[a,u]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[h,p]=[a,u],[v,w]=[r,s],O=0;if(this.triggersSubmenu()){if(w=r="before"===e.xPosition?"start":"end",s=v="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Y=this._parentMaterialMenu.items.first;this._parentInnerPadding=Y?Y._getHostElement().offsetTop:0}O="bottom"===a?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(h="top"===a?"bottom":"top",p="top"===u?"bottom":"top");i.withPositions([{originX:r,originY:h,overlayX:v,overlayY:a,offsetY:O},{originX:s,originY:h,overlayX:w,overlayY:a,offsetY:O},{originX:r,originY:p,overlayX:v,overlayY:u,offsetY:-O},{originX:s,originY:p,overlayX:w,overlayY:u,offsetY:-O}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Bt(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe($n(a=>a!==this._menuItemInstance),$n(()=>this._menuOpen)):Bt();return(0,Xn.T)(e,r,s,i)}_handleMousedown(e){_O(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe($n(e=>e===this._menuItemInstance&&!e.disabled),qH(0,IO)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof lD&&this.menu._isAnimating?this.menu._animationDone.pipe(Gi(1),qH(0,IO),On(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Kx(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Uo),o.Y36(o.SBq),o.Y36(o.s_b),o.Y36(QH),o.Y36(hP,8),o.Y36(aD,10),o.Y36(Al,8),o.Y36(fd),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,hostVars:3,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&e&&o.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),ej=(()=>{class n extends uZ{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[o.qOj]}),n})(),tj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[cZ],imports:[rs,Gn,jx,B_,um,Gn]}),n})();function dZ(n,t){1&n&&(o.TgZ(0,"th",21),o._uU(1," Nombre "),o.qZA())}function hZ(n,t){if(1&n&&(o.TgZ(0,"td",22),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.name," ")}}function fZ(n,t){1&n&&(o.TgZ(0,"th",21),o._uU(1," Numero celular "),o.qZA())}function pZ(n,t){if(1&n&&(o.TgZ(0,"td",22),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.phoneNumber," ")}}function mZ(n,t){1&n&&(o.TgZ(0,"th",21),o._uU(1," Email "),o.qZA())}function gZ(n,t){if(1&n&&(o.TgZ(0,"td",22),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.mail," ")}}function _Z(n,t){1&n&&(o.TgZ(0,"th",21),o._uU(1," Local "),o.qZA())}function yZ(n,t){if(1&n&&(o.TgZ(0,"td",22),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.local," ")}}function vZ(n,t){1&n&&(o.TgZ(0,"th",21),o._uU(1," Direccion "),o.qZA())}function bZ(n,t){if(1&n&&(o.TgZ(0,"td",22),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.address," ")}}function wZ(n,t){1&n&&(o.TgZ(0,"th",21),o._uU(1," Cedula "),o.qZA())}function CZ(n,t){if(1&n&&(o.TgZ(0,"td",22),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.identification," ")}}function xZ(n,t){1&n&&(o.TgZ(0,"th",21),o._uU(1," Estado Conexi\xf3n "),o.qZA())}function DZ(n,t){if(1&n&&(o.TgZ(0,"td",22),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.isAviable," ")}}function SZ(n,t){1&n&&(o.TgZ(0,"th",21),o._uU(1," Accion "),o.qZA())}function EZ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",22)(1,"button",23)(2,"mat-icon"),o._uU(3,"more_vert"),o.qZA()(),o.TgZ(4,"mat-menu",null,24)(6,"button",25),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.viewMecanico(s))}),o.TgZ(7,"mat-icon"),o._uU(8,"open_in_new"),o.qZA(),o.TgZ(9,"span"),o._uU(10,"Ver"),o.qZA()(),o.TgZ(11,"button",25),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.editMecanico(s))}),o.TgZ(12,"mat-icon"),o._uU(13,"edit"),o.qZA(),o.TgZ(14,"span"),o._uU(15,"Editar"),o.qZA()(),o.TgZ(16,"button",25),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.deleteMecanico(s))}),o.TgZ(17,"mat-icon"),o._uU(18,"delete"),o.qZA(),o.TgZ(19,"span"),o._uU(20,"Elimiar"),o.qZA()()()()}if(2&n){const e=o.MAs(5);o.xp6(1),o.Q6J("matMenuTriggerFor",e)}}function MZ(n,t){1&n&&o._UZ(0,"tr",26)}function AZ(n,t){1&n&&o._UZ(0,"tr",27)}function TZ(n,t){if(1&n&&(o.TgZ(0,"tr",28)(1,"td",29),o._uU(2),o.qZA()()),2&n){o.oxw();const e=o.MAs(8);o.xp6(2),o.hij('No data matching the filter "',e.value,'"')}}const IZ=function(){return[5,10,25,100]};let kZ=(()=>{class n{constructor(e,i,r){this.dialog=e,this.dataApi=i,this._snackBar=r,this.mecanicossArr=[],this.displayedColumns=["name","mobile","mail","local","adress","cedula","isAviable","action"]}ngOnInit(){this.getAllMecanicos()}addMecanico(){const e=new gd;e.disableClose=!0,e.autoFocus=!0,e.data={title:"Registrar Mecanico",buttonName:"Registrar"},this.dialog.open(RH,e).afterClosed().subscribe(r=>{r&&(this.dataApi.addMecanico(r),this.openSnackBar("Registro exitoso.","OK"))})}editMecanico(e){if(null==e.uid||null==e.name)return;const i=new gd;i.disableClose=!0,i.autoFocus=!0,i.data=e,i.data.title="Editar Mecanico",i.data.buttonName="Actualizar",i.data.name=e.name,this.dialog.open(RH,i).afterClosed().subscribe(s=>{s&&(this.dataApi.updateMecanico(s),this.openSnackBar("Se ha actualizado.","OK"))})}deleteMecanico(e){const i=new gd;i.disableClose=!1,i.autoFocus=!0,i.data={title:"Eliminar Mecanico",mecanicoName:e.name},this.dialog.open(x9,i).afterClosed().subscribe(s=>{s&&(this.dataApi.deleteMecanico(e.id),this.openSnackBar("Mecanico eliminado .","OK"))})}getAllMecanicos(){this.dataApi.getAllMecanicos().subscribe(e=>{this.mecanicossArr=e.map(i=>{const r=i.payload.doc.data();return r.id=i.payload.doc.id,r}),this.dataSource=new iP(this.mecanicossArr),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}viewMecanico(e){window.open("/dashboard/mecanico/"+e.id,"_blank")}getHistorialServicios(e){window.open("/dashboard/workPerformed/"+e.id,"_blank")}openSnackBar(e,i){this._snackBar.open(e,i)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qb),o.Y36(_T),o.Y36(vT))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-mecanico"]],viewQuery:function(e,i){if(1&e&&(o.Gf(Kb,5),o.Gf(nT,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.paginator=r.first),o.iGM(r=o.CRH())&&(i.sort=r.first)}},decls:39,vars:5,consts:[[1,"container"],["color","primary",1,"mt-5",2,"font-weight","700"],["appearance","standard"],["matInput","","placeholder","Ej. c\xf3digo l\xf3gico",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","mobile"],["matColumnDef","mail"],["matColumnDef","local"],["matColumnDef","adress"],["matColumnDef","cedula"],["matColumnDef","isAviable"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"br"),o.TgZ(2,"h2",1),o._uU(3,"Informaci\xf3n de Mecanico"),o.qZA(),o.TgZ(4,"mat-form-field",2)(5,"mat-label"),o._uU(6,"Busqueda"),o.qZA(),o.TgZ(7,"input",3,4),o.NdJ("keyup",function(s){return i.applyFilter(s)}),o.qZA()(),o.TgZ(9,"div",5)(10,"table",6),o.ynx(11,7),o.YNc(12,dZ,2,0,"th",8),o.YNc(13,hZ,2,1,"td",9),o.BQk(),o.ynx(14,10),o.YNc(15,fZ,2,0,"th",8),o.YNc(16,pZ,2,1,"td",9),o.BQk(),o.ynx(17,11),o.YNc(18,mZ,2,0,"th",8),o.YNc(19,gZ,2,1,"td",9),o.BQk(),o.ynx(20,12),o.YNc(21,_Z,2,0,"th",8),o.YNc(22,yZ,2,1,"td",9),o.BQk(),o.ynx(23,13),o.YNc(24,vZ,2,0,"th",8),o.YNc(25,bZ,2,1,"td",9),o.BQk(),o.ynx(26,14),o.YNc(27,wZ,2,0,"th",8),o.YNc(28,CZ,2,1,"td",9),o.BQk(),o.ynx(29,15),o.YNc(30,xZ,2,0,"th",8),o.YNc(31,DZ,2,1,"td",9),o.BQk(),o.ynx(32,16),o.YNc(33,SZ,2,0,"th",8),o.YNc(34,EZ,21,1,"td",9),o.BQk(),o.YNc(35,MZ,1,0,"tr",17),o.YNc(36,AZ,1,0,"tr",18),o.YNc(37,TZ,3,1,"tr",19),o.qZA(),o._UZ(38,"mat-paginator",20),o.qZA()()),2&e&&(o.xp6(10),o.Q6J("dataSource",i.dataSource),o.xp6(25),o.Q6J("matHeaderRowDef",i.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",i.displayedColumns),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(4,IZ)))},dependencies:[md,dP,Gb,L_,$x,XO,fT,QO,pT,hT,JO,mT,gT,eP,tP,nP,Kb,XH,aD,ej],styles:[".mat-card-content[_ngcontent-%COMP%]{color:#3f51b5}.mat-card[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{transform:scale(1.03)}table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),n})(),RZ=(()=>{class n{constructor(e,i,r,s){this.route=e,this.dataApi=i,this._snackBar=r,this.firestore=s,this.allMecanicos=[],this.displayedColumns=["name","phoneNumber","adress","gender","mail","action"],this.displayedColumnsWork=["cost","mechanic","name"],this.workPerformed=[],this.id=e.snapshot.paramMap.get("id")}ngOnInit(){this.getMecanicoById(),this.getWorkPerformed(this.id)}getMecanicoById(){this.dataApi.getMecanicoById(this.id).subscribe(e=>{this.mecanicoObj=e,console.log(this.mecanicoObj)})}getWorkPerformed(e){this.firestore.collection("workPerformed").valueChanges().subscribe(i=>{console.log(i),this.workPerformed=i.filter(r=>r.mechanic===e),this.dataSourceWork=new iP(this.workPerformed),this.paginator&&(this.dataSourceWork.paginator=this.paginator),this.sort&&(this.dataSourceWork.sort=this.sort)})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openSnackBar(e,i){this._snackBar.open(e,i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ff),o.Y36(_T),o.Y36(vT),o.Y36(qM))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-view-mecanico"]],viewQuery:function(e,i){if(1&e&&(o.Gf(Kb,5),o.Gf(nT,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.paginator=r.first),o.iGM(r=o.CRH())&&(i.sort=r.first)}},decls:60,vars:11,consts:[[1,"header-title"],[1,"divider"],[1,"card-container"],[1,"mat-card"],[1,"mat-card-title"],[1,"highlight"],[1,"mat-card-subtitle"],[1,"row","pt-6"],[1,"col-md-3"],[1,"mat-card-content"],["alt","Comprobante",3,"href"],["alt","Comprobante",1,"voucher",3,"src"],["alt","FotoPerfil",3,"href"],["alt","FotoPerfil",1,"voucher",3,"src"]],template:function(e,i){1&e&&(o.TgZ(0,"h2",0),o._uU(1,"Informaci\xf3n Mec\xe1nico"),o.qZA(),o._UZ(2,"hr",1)(3,"br")(4,"br")(5,"br")(6,"br")(7,"br"),o.TgZ(8,"div",2)(9,"div",3)(10,"div",4)(11,"span",5),o._uU(12,"Nombre Mec\xe1nico:"),o.qZA(),o._uU(13),o.qZA(),o.TgZ(14,"div",6),o._uU(15),o.qZA(),o._UZ(16,"hr",1),o.TgZ(17,"div",7)(18,"div",8)(19,"div",9)(20,"span",5),o._uU(21,"Email:"),o.qZA(),o._uU(22),o._UZ(23,"br")(24,"br"),o.TgZ(25,"span",5),o._uU(26,"Celular:"),o.qZA(),o._uU(27),o._UZ(28,"br")(29,"br"),o.TgZ(30,"span",5),o._uU(31,"Direcci\xf3n:"),o.qZA(),o._uU(32),o._UZ(33,"br")(34,"br"),o.qZA()(),o.TgZ(35,"div",8)(36,"div",9)(37,"span",5),o._uU(38,"Local:"),o.qZA(),o._uU(39),o._UZ(40,"br")(41,"br"),o.TgZ(42,"span",5),o._uU(43,"C\xe9dula:"),o.qZA(),o._uU(44),o.qZA()(),o.TgZ(45,"div",8)(46,"div",9)(47,"span",5),o._uU(48,"Comprobante"),o.qZA(),o._UZ(49,"br"),o.TgZ(50,"a",10),o._UZ(51,"img",11),o.qZA()()(),o.TgZ(52,"div",8)(53,"div",9)(54,"span",5),o._uU(55,"Foto de Perfil"),o.qZA(),o._UZ(56,"br"),o.TgZ(57,"a",12),o._UZ(58,"img",13),o.qZA(),o._UZ(59,"br"),o.qZA()()()()()),2&e&&(o.xp6(13),o.hij(" ",null==i.mecanicoObj?null:i.mecanicoObj.name," "),o.xp6(2),o.hij(" ",null==i.mecanicoObj?null:i.mecanicoObj.qualification," "),o.xp6(7),o.hij(" ",i.mecanicoObj.mail," "),o.xp6(5),o.hij(" ",i.mecanicoObj.phoneNumber," "),o.xp6(5),o.hij(" ",i.mecanicoObj.address," "),o.xp6(7),o.hij(" ",i.mecanicoObj.local," "),o.xp6(5),o.hij(" ",i.mecanicoObj.identification," "),o.xp6(6),o.s9C("href",i.mecanicoObj.voucher,o.LSH),o.xp6(1),o.s9C("src",i.mecanicoObj.voucher,o.LSH),o.xp6(6),o.s9C("href",i.mecanicoObj.profilePic,o.LSH),o.xp6(1),o.s9C("src",i.mecanicoObj.profilePic,o.LSH))},styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}.header-title[_ngcontent-%COMP%]{font-weight:700;margin:20px;color:#007bff}.card-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:30vh}.card-container-Service[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:45vh}@media (max-width: 576px){.card-container[_ngcontent-%COMP%], .card-container-Service[_ngcontent-%COMP%]{height:auto}}.mat-card[_ngcontent-%COMP%]{width:80%;background-color:#f7f7f7;border-radius:10px;box-shadow:0 0 10px #0003;padding:20px}.mat-card-title[_ngcontent-%COMP%]{font-weight:300;font-size:25px;color:#333}.mat-card-subtitle[_ngcontent-%COMP%]{color:#555}.divider[_ngcontent-%COMP%]{border-top:1px solid black;margin-top:15px;margin-bottom:15px}.mat-card-content[_ngcontent-%COMP%]{font-size:14px}.row[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}.voucher[_ngcontent-%COMP%]{width:150px;height:150px;padding:10px;border-radius:50%;object-fit:cover;transition:all .2s ease-in-out}.voucher[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.highlight[_ngcontent-%COMP%]{font-weight:600;color:#007bff}.mat-table[_ngcontent-%COMP%]{width:100%}@media (max-width: 576px){.mat-table[_ngcontent-%COMP%]{font-size:12px}}"]}),n})(),OZ=(()=>{class n{constructor(e,i,r,s){this.route=e,this.dataApi=i,this.dialog=r,this._snackBar=s,this.allPatients=[],this.displayedColumns=["name","mobile","gender","prescription","action"],this.id=e.snapshot.paramMap.get("id")}ngOnInit(){this.getUsuarioById()}getUsuarioById(){this.dataApi.getUsuarioById(this.id).subscribe(e=>{this.usuarioObj=e})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openSnackBar(e,i){this._snackBar.open(e,i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ff),o.Y36(_T),o.Y36(qb),o.Y36(vT))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-view-usuarios"]],viewQuery:function(e,i){if(1&e&&(o.Gf(Kb,5),o.Gf(nT,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.paginator=r.first),o.iGM(r=o.CRH())&&(i.sort=r.first)}},decls:38,vars:7,consts:[[1,"header-title"],[1,"divider"],[1,"card-container"],[1,"mat-card"],[1,"mat-card-title"],[1,"highlight"],[1,"mat-card-subtitle"],[1,"row","pt-4"],[1,"col-md-3"],[1,"mat-card-content"],["alt","FotoPerfil",3,"href"],["alt","FotoPerfil",1,"voucher",3,"src"]],template:function(e,i){1&e&&(o.TgZ(0,"h2",0),o._uU(1,"Informaci\xf3n Cliente"),o.qZA(),o._UZ(2,"hr",1),o.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"span",5),o._uU(7,"Nombre Cliente:"),o.qZA(),o._uU(8),o.qZA(),o.TgZ(9,"div",6),o._uU(10),o.qZA(),o._UZ(11,"hr",1),o.TgZ(12,"div",7)(13,"div",8)(14,"div",9)(15,"span",5),o._uU(16,"Email:"),o.qZA(),o._uU(17),o._UZ(18,"br")(19,"br"),o.TgZ(20,"span",5),o._uU(21,"Celular:"),o.qZA(),o._uU(22),o._UZ(23,"br")(24,"br"),o.qZA()(),o.TgZ(25,"div",8)(26,"div",9)(27,"span",5),o._uU(28,"C\xe9dula:"),o.qZA(),o._uU(29),o.qZA()(),o.TgZ(30,"div",8)(31,"div",9)(32,"span",5),o._uU(33,"Foto de Perfil"),o.qZA(),o._UZ(34,"br"),o.TgZ(35,"a",10),o._UZ(36,"img",11),o.qZA(),o._UZ(37,"br"),o.qZA()()()()()),2&e&&(o.xp6(8),o.hij(" ",null==i.usuarioObj?null:i.usuarioObj.name," "),o.xp6(2),o.hij(" ",null==i.usuarioObj?null:i.usuarioObj.qualification," "),o.xp6(7),o.hij(" ",i.usuarioObj.mail," "),o.xp6(5),o.hij(" ",i.usuarioObj.phoneNumber," "),o.xp6(7),o.hij(" ",i.usuarioObj.identification," "),o.xp6(6),o.s9C("href",i.usuarioObj.profilePic,o.LSH),o.xp6(1),o.s9C("src",i.usuarioObj.profilePic,o.LSH))},styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}.header-title[_ngcontent-%COMP%]{font-weight:700;margin:20px;color:#007bff}.card-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:top;height:50vh}.mat-card[_ngcontent-%COMP%]{width:80%;background-color:#f7f7f7;border-radius:10px;box-shadow:0 0 10px #0003;padding:20px}.mat-card-title[_ngcontent-%COMP%]{font-weight:300;font-size:25px;color:#333}.mat-card-subtitle[_ngcontent-%COMP%]{color:#555}.divider[_ngcontent-%COMP%]{border-top:1px solid black;margin-top:15px;margin-bottom:15px}.mat-card-content[_ngcontent-%COMP%]{font-size:14px}.row[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}.voucher[_ngcontent-%COMP%]{width:150px;height:150px;padding:10px;border-radius:50%;object-fit:cover;transition:all .2s ease-in-out}.voucher[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.highlight[_ngcontent-%COMP%]{font-weight:600;color:#007bff}"]}),n})();function PZ(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Ingrese nombre completo"),o.qZA())}function FZ(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Ingrese un telefono valido"),o.qZA())}function LZ(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Ingrese un correo valido "),o.qZA())}function NZ(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Ingrese su cedula "),o.qZA())}let nj=(()=>{class n{constructor(e,i,r){this.fb=e,this.dialogRef=r,this.title=i.title,this.uid=i.uid,this.name=i.name,this.phoneNumber=i.phoneNumber,this.mail=i.mail,this.identification=i.identification,this.buttonName=i.buttonName}ngOnInit(){this.form=this.fb.group({uid:[this.uid,[]],name:[this.name,[Vr.required]],phoneNumber:[this.phoneNumber,[Vr.required,Vr.maxLength(10),Vr.minLength(10)]],email:[this.mail,[Vr.required,Vr.email]],cedula:[this.identification,[Vr.required]]})}cancelRegistration(){this.dialogRef.close()}registerUsuario(){this.dialogRef.close(this.form.value)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(lO),o.Y36(eD),o.Y36(V_))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-add-usuario"]],decls:32,vars:8,consts:[["mat-dialog-tile",""],[3,"formGroup"],["cols","2"],["matInput","","placeholder","Ex. code logic","formControlName","name","required",""],[4,"ngIf"],["matInput","","placeholder","9865452152","formControlName","phoneNumber","required",""],["matInput","","placeholder","pat@example.com","formControlName","email","required",""],["matInput","","placeholder","111111111","formControlName","cedula","required",""],["mat-dialog-actions",""],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled","click"]],template:function(e,i){if(1&e&&(o.TgZ(0,"h2",0),o._uU(1),o.qZA(),o._UZ(2,"mat-divider"),o.TgZ(3,"mat-dialog-content",1)(4,"mat-grid-list",2)(5,"mat-grid-tile")(6,"div")(7,"mat-form-field")(8,"mat-label"),o._uU(9,"Nombre completo"),o.qZA(),o._UZ(10,"input",3),o.YNc(11,PZ,2,0,"mat-error",4),o.qZA(),o.TgZ(12,"mat-form-field")(13,"mat-label"),o._uU(14,"Numero Celular : "),o.qZA(),o._UZ(15,"input",5),o.YNc(16,FZ,2,0,"mat-error",4),o.qZA(),o.TgZ(17,"mat-form-field")(18,"mat-label"),o._uU(19,"Email"),o.qZA(),o._UZ(20,"input",6),o.YNc(21,LZ,2,0,"mat-error",4),o.qZA(),o.TgZ(22,"mat-form-field")(23,"mat-label"),o._uU(24,"Cedula"),o.qZA(),o._UZ(25,"input",7),o.YNc(26,NZ,2,0,"mat-error",4),o.qZA()()()()(),o.TgZ(27,"div",8)(28,"button",9),o.NdJ("click",function(){return i.cancelRegistration()}),o._uU(29,"Cancel"),o.qZA(),o.TgZ(30,"button",10),o.NdJ("click",function(){return i.registerUsuario()}),o._uU(31),o.qZA()()),2&e){let r,s,a,u;o.xp6(1),o.hij(" ",i.title," "),o.xp6(2),o.Q6J("formGroup",i.form),o.xp6(8),o.Q6J("ngIf",(null==(r=i.form.get("name"))?null:r.invalid)||(null==(r=i.form.get("name"))?null:r.dirty)||(null==(r=i.form.get("name"))?null:r.touched)),o.xp6(5),o.Q6J("ngIf",(null==(s=i.form.get("phoneNumber"))?null:s.invalid)||(null==(s=i.form.get("phoneNumber"))?null:s.dirty)||(null==(s=i.form.get("phoneNumber"))?null:s.touched)),o.xp6(5),o.Q6J("ngIf",(null==(a=i.form.get("email"))?null:a.invalid)||(null==(a=i.form.get("email"))?null:a.dirty)||(null==(a=i.form.get("email"))?null:a.touched)),o.xp6(5),o.Q6J("ngIf",(null==(u=i.form.get("cedula"))?null:u.invalid)||(null==(u=i.form.get("cedula"))?null:u.dirty)||(null==(u=i.form.get("cedula"))?null:u.touched)),o.xp6(4),o.Q6J("disabled",i.form.invalid),o.xp6(1),o.hij(" ",i.buttonName," ")}},dependencies:[li,md,rP,lH,QA,JA,IH,sP,AO,Gb,L_,$x,Ob,wA,CA,Fb,lm,kx],styles:[".mat-dialog-content[_ngcontent-%COMP%]{width:600px}.mat-grid-list[_ngcontent-%COMP%]{overflow:hidden}.mat-radio-button[_ngcontent-%COMP%]{margin-right:15px}"]}),n})(),BZ=(()=>{class n{constructor(e,i){this.dialogRef=i,this.usuariosName=e.usuariosName,this.title=e.title}ngOnInit(){}close(){this.dialogRef.close()}delete(){this.dialogRef.close(!0)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(eD),o.Y36(V_))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-delete-usuario"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-raised-button","",3,"click"],["mat-raised-button","","color","accent",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"h1",0),o._uU(1),o.qZA(),o.TgZ(2,"div",1)(3,"p"),o._uU(4),o.qZA()(),o.TgZ(5,"div",2)(6,"button",3),o.NdJ("click",function(){return i.close()}),o._uU(7,"No gracias"),o.qZA(),o.TgZ(8,"button",4),o.NdJ("click",function(){return i.delete()}),o._uU(9,"Eliminar"),o.qZA()()),2&e&&(o.xp6(1),o.Oqu(i.title),o.xp6(3),o.hij("Seguro quiere eliminar ",i.usuariosName," ? "))},dependencies:[md,cH,QA,JA]}),n})();function VZ(n,t){1&n&&(o.TgZ(0,"th",19),o._uU(1," Nombre "),o.qZA())}function HZ(n,t){if(1&n&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.name," ")}}function jZ(n,t){1&n&&(o.TgZ(0,"th",19),o._uU(1," Numero celular "),o.qZA())}function UZ(n,t){if(1&n&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.phoneNumber," ")}}function zZ(n,t){1&n&&(o.TgZ(0,"th",19),o._uU(1," Email "),o.qZA())}function GZ(n,t){if(1&n&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.mail," ")}}function $Z(n,t){1&n&&(o.TgZ(0,"th",19),o._uU(1," Estado Conexi\xf3n "),o.qZA())}function WZ(n,t){if(1&n&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.isAviable," ")}}function YZ(n,t){1&n&&(o.TgZ(0,"th",19),o._uU(1," Genero "),o.qZA())}function qZ(n,t){if(1&n&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.gender," ")}}function ZZ(n,t){1&n&&(o.TgZ(0,"th",19),o._uU(1," Acciones "),o.qZA())}function KZ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",20)(1,"button",21)(2,"mat-icon"),o._uU(3,"more_vert"),o.qZA()(),o.TgZ(4,"mat-menu",null,22)(6,"button",23),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.viewUsuario(s))}),o.TgZ(7,"mat-icon"),o._uU(8,"open_in_new"),o.qZA(),o.TgZ(9,"span"),o._uU(10,"Ver"),o.qZA()(),o.TgZ(11,"button",23),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.editUsuario(s))}),o.TgZ(12,"mat-icon"),o._uU(13,"edit"),o.qZA(),o.TgZ(14,"span"),o._uU(15,"Editar"),o.qZA()(),o.TgZ(16,"button",23),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.deleteUsuario(s))}),o.TgZ(17,"mat-icon"),o._uU(18,"delete"),o.qZA(),o.TgZ(19,"span"),o._uU(20,"Elimiar"),o.qZA()()()()}if(2&n){const e=o.MAs(5);o.xp6(1),o.Q6J("matMenuTriggerFor",e)}}function XZ(n,t){1&n&&o._UZ(0,"tr",24)}function QZ(n,t){1&n&&o._UZ(0,"tr",25)}function JZ(n,t){if(1&n&&(o.TgZ(0,"tr",26)(1,"td",27),o._uU(2),o.qZA()()),2&n){o.oxw();const e=o.MAs(8);o.xp6(2),o.hij('No data matching the filter "',e.value,'"')}}const e7=function(){return[5,10,25,100]};let t7=(()=>{class n{constructor(e,i,r){this.dialog=e,this.dataApi=i,this._snackBar=r,this.ususariossArr=[],this.displayedColumns=["name","mobile","mail","gender","isAviable","action"],this.selectedGender=""}ngOnInit(){this.getAllUsuarios()}addUsuarios(){const e=new gd;e.disableClose=!0,e.autoFocus=!0,e.data={title:"Registrar Usuario",buttonName:"Registrar"},this.dialog.open(nj,e).afterClosed().subscribe(r=>{r&&(this.dataApi.addUsuarios(r),this.openSnackBar("Registro exitoso.","OK"))})}editUsuario(e){if(null==e.id||null==e.name)return;const i=new gd;i.disableClose=!0,i.autoFocus=!0,i.data=e,i.data.title="Editar Usuario",i.data.buttonName="Actualizar",i.data.phoneNumber=e.phoneNumber,this.dialog.open(nj,i).afterClosed().subscribe(s=>{s&&(this.dataApi.updateUsuarios(s),this.openSnackBar("Se ha actualizado.","OK"))})}deleteUsuario(e){const i=new gd;i.disableClose=!1,i.autoFocus=!0,i.data={title:"Eliminar Usuario",usuarioName:e.name},this.dialog.open(BZ,i).afterClosed().subscribe(s=>{s&&(this.dataApi.deleteUsuarios(e.id),this.openSnackBar("Usuario eliminado .","OK"))})}getAllUsuarios(){this.dataApi.getAllUsuarios().subscribe(e=>{this.ususariossArr=e.map(i=>{const r=i.payload.doc.data();return r.id=i.payload.doc.id,r}),this.dataSource=new iP(this.ususariossArr),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}viewUsuario(e){window.open("/dashboard/usuarios/"+e.id,"_blank")}viewHistorial(e){window.open("/dashboard/request/"+e.id,"_blank")}openSnackBar(e,i){this._snackBar.open(e,i)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.data=""!==this.selectedGender?this.ususariossArr.filter(r=>r.gender===this.selectedGender):this.ususariossArr,this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qb),o.Y36(_T),o.Y36(vT))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-usuarios"]],viewQuery:function(e,i){if(1&e&&(o.Gf(Kb,5),o.Gf(nT,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.paginator=r.first),o.iGM(r=o.CRH())&&(i.sort=r.first)}},decls:33,vars:5,consts:[[1,"container"],["color","primary",1,"mt-5",2,"font-weight","700"],["appearance","standard"],["matInput","","placeholder","Ej. c\xf3digo l\xf3gico",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","mobile"],["matColumnDef","mail"],["matColumnDef","isAviable"],["matColumnDef","gender"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"br"),o.TgZ(2,"h2",1),o._uU(3,"Informaci\xf3n de Clientes"),o.qZA(),o.TgZ(4,"mat-form-field",2)(5,"mat-label"),o._uU(6,"B\xfasqueda"),o.qZA(),o.TgZ(7,"input",3,4),o.NdJ("keyup",function(s){return i.applyFilter(s)}),o.qZA()(),o.TgZ(9,"div",5)(10,"table",6),o.ynx(11,7),o.YNc(12,VZ,2,0,"th",8),o.YNc(13,HZ,2,1,"td",9),o.BQk(),o.ynx(14,10),o.YNc(15,jZ,2,0,"th",8),o.YNc(16,UZ,2,1,"td",9),o.BQk(),o.ynx(17,11),o.YNc(18,zZ,2,0,"th",8),o.YNc(19,GZ,2,1,"td",9),o.BQk(),o.ynx(20,12),o.YNc(21,$Z,2,0,"th",8),o.YNc(22,WZ,2,1,"td",9),o.BQk(),o.ynx(23,13),o.YNc(24,YZ,2,0,"th",8),o.YNc(25,qZ,2,1,"td",9),o.BQk(),o.ynx(26,14),o.YNc(27,ZZ,2,0,"th",8),o.YNc(28,KZ,21,1,"td",9),o.BQk(),o.YNc(29,XZ,1,0,"tr",15),o.YNc(30,QZ,1,0,"tr",16),o.YNc(31,JZ,3,1,"tr",17),o.qZA(),o._UZ(32,"mat-paginator",18),o.qZA()()),2&e&&(o.xp6(10),o.Q6J("dataSource",i.dataSource),o.xp6(19),o.Q6J("matHeaderRowDef",i.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",i.displayedColumns),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(4,e7)))},dependencies:[md,dP,Gb,L_,$x,XO,fT,QO,pT,hT,JO,mT,gT,eP,tP,nP,Kb,XH,aD,ej],styles:[".mat-card-content[_ngcontent-%COMP%]{color:#3f51b5}.mat-card[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{transform:scale(1.03)}table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),n})(),n7=(()=>{class n{constructor(e){this.authApi=e}canActivate(e,i){return this.authApi.isUserLoggedIn()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(kA))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),i7=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-geocerca"]],decls:2,vars:0,template:function(e,i){1&e&&(o.TgZ(0,"p"),o._uU(1,"geocerca works!"),o.qZA())}}),n})();var Va=He(3470);const r7=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"dashboard",children:[{path:"",redirectTo:"usuarios",pathMatch:"full"},{path:"usuarios",component:t7},{path:"mecanico",component:kZ},{path:"geocerca",component:i7},{path:"modulo",component:(()=>{class n{constructor(e){this.firestore=e,this.totalUsers=0,this.totalMecanicos=0,this.totalMecanicosActivos=0,this.totalUsuariossActivos=0,this.totalMembresia=0,this.totalGanancias=0,this.generosMecanicos=0,this.generosUsuarios=0,this.hombresMecanicos=0,this.mujeresMecanicos=0,this.hombresClientes=0,this.mujeresClientes=0,this.totalServicios=0,this.pending=0,this.totalOk=0,this.totalNoOk=0,this.totalIds=0,this.totalCalificaciones=0,this.totalSolicitudes=0,this.mechanicRatings=[]}ngAfterViewInit(){throw new Error("Method not implemented.")}ngOnInit(){this.createProfitsChart(),this.fechaUsuarios(),this.fechaMecanicos(),this.firestore.collection("users").valueChanges().subscribe(e=>{this.totalUsers=e.length,this.totalUsers&&this.totalMecanicos&&this.createChart(this.totalUsers,this.totalMecanicos)}),this.firestore.collection("mecanicos").valueChanges().subscribe(e=>{this.totalMecanicos=e.length,this.totalUsers&&this.totalMecanicos&&this.createChart(this.totalUsers,this.totalMecanicos)}),this.firestore.collection("mecanicos").valueChanges().subscribe(e=>{this.totalMecanicosActivos=e.filter(i=>!0===i.isAviable).length}),this.firestore.collection("users").valueChanges().subscribe(e=>{this.totalUsuariossActivos=e.filter(i=>!0===i.isAviable).length}),this.firestore.collection("membresias").valueChanges().subscribe(e=>{console.log("Todas las membres\xedas:",e),this.totalGanancias=e.reduce((i,r)=>i+parseFloat(r.precio),0),console.log("Total de ganancias:",this.totalGanancias)}),this.firestore.collection("mecanicos").valueChanges().subscribe(e=>{const i=e.map(a=>a.gender),r=i.filter(a=>"Masculino"===a).length,s=i.filter(a=>"Femenino"===a).length;this.createPieChartMecanicos(r,s)}),this.firestore.collection("users").valueChanges().subscribe(e=>{const i=e.map(a=>a.gender),r=i.filter(a=>"Masculino"===a).length,s=i.filter(a=>"Femenino"===a).length;this.createPieChartUsers(r,s)}),this.firestore.collection("services").valueChanges().subscribe(e=>{const i=e.map(u=>u.customerAcceptance),r=i.filter(u=>"Ok"===u).length,s=i.filter(u=>"pending"===u).length,a=i.filter(u=>"NoOk"===u).length;this.createBarChartServices(r,a,s)}),this.firestore.collection("requests").valueChanges().subscribe(e=>{const i=e.map(w=>w.status),r=i.filter(w=>"pending"===w).length,s=i.filter(w=>"inProcess"===w).length,a=i.filter(w=>"inBilling"===w).length,u=i.filter(w=>"inCustomerAcceptance"===w).length,h=i.filter(w=>"selecting"===w).length,p=i.filter(w=>"finished"===w).length,v=i.filter(w=>"inBilling"===w).length;this.createColumnChartSolicitudes(r,s,a,u,h,p,v)}),S_([this.firestore.collection("mechanicQualifications").valueChanges(),this.firestore.collection("mecanicos").get()]).subscribe(([e,i])=>{console.log("AQUI DEBEN APARECERLAS CALIFICACIONES",e);const r={};e.forEach(u=>{r[u.mechanicId]||(r[u.mechanicId]=[]),r[u.mechanicId].push(u.qualification)}),this.mechanicRatings=Object.keys(r).map(u=>{const h=r[u];return{mechanicId:u,qualification:h.reduce((v,w)=>v+w,0)/h.length}});const s={};i.forEach(u=>{const h=u.data();s[h.uid]=h.name});const a=this.mechanicRatings.map(u=>({name:s[u.mechanicId],y:u.qualification}));this.createBarChart(a)})}createChart(e,i){Va.chart("container",{chart:{type:"pie"},title:{text:"Clientes y mec\xe1nicos"},series:[{name:"Total",type:"pie",data:[["Usuarios",e],["Mec\xe1nicos",i]]}]})}createProfitsChart(){this.firestore.collection("membresias").valueChanges().subscribe(e=>{const i=e.map(s=>(console.log("Fecha:",s.fechaInicial,"Precio:",s.precio),{x:new Date(s.fechaInicial).getTime(),y:parseFloat(s.precio)}));console.log(i);const r={chart:{type:"line"},title:{text:"Ganancias"},xAxis:{type:"datetime",title:{text:"Fecha"}},yAxis:{min:0,title:{text:"Monto"}},series:[{name:"Ganancias",type:"column",data:i,dataLabels:{enabled:!0,format:"{y:.2f} $"}}],plotOptions:{column:{pointPadding:.2,borderWidth:0}}};console.log("Creando el gr\xe1fico"),Va.chart("profits-container",r)})}fechaUsuarios(){this.firestore.collection("users").valueChanges().subscribe(e=>{const i=e.map(s=>{console.log("Fecha:",s.createdAt,"Nombre:",s.name);const a=new Date(s.createdAt);return{x:Date.UTC(a.getFullYear(),a.getMonth(),1),y:1,name:s.name}});console.log(i);const r={chart:{type:"column"},title:{text:"Mecanicos creados"},xAxis:{type:"datetime",labels:{formatter:function(){return Va.dateFormat("%b %Y",Number(this.value))}},title:{text:"Clientes"}},yAxis:{min:1,title:{text:"Clientes creados"}},series:[{type:"column",data:i,name:"Clientes"}],plotOptions:{column:{pointPadding:.2,borderWidth:0}}};Va.chart("fechaUsuarios",r)})}fechaMecanicos(){this.firestore.collection("mecanicos").valueChanges().subscribe(e=>{const i=e.map(s=>{console.log("Fecha:",s.createdAt,"Nombre:",s.name);const a=new Date(s.createdAt);return{x:Date.UTC(a.getFullYear(),a.getMonth(),1),y:1,name:s.name}});console.log(i);const r={chart:{type:"column"},title:{text:"Mecanicos creados"},xAxis:{type:"datetime",labels:{formatter:function(){return Va.dateFormat("%b %Y",Number(this.value))}},title:{text:"Mecanicos"}},yAxis:{min:1,title:{text:"Mecanicos creados"}},series:[{type:"column",data:i,name:"Mec\xe1nicos"}],plotOptions:{column:{pointPadding:.2,borderWidth:0}}};Va.chart("fechaMecanicos",r)})}generoMChart(){}createPieChartMecanicos(e,i){Va.chart("containerMecanicos",{chart:{type:"pie"},title:{text:"G\xe9nero de Mec\xe1nicos"},series:[{name:"Cantidad",type:"pie",data:[["Femenino",i],["Masculino",e]]}]})}createPieChartUsers(e,i){Va.chart("containerUsers",{chart:{type:"pie"},title:{text:"G\xe9nero de Clientes"},series:[{name:"Cantidad",type:"pie",data:[["Femenino",i],["Masculino",e]]}]})}createBarChartServices(e,i,r){Va.chart("containerServices",{chart:{type:"column"},title:{text:"Servicios"},xAxis:{type:"category"},series:[{name:"Cantidad",type:"column",data:[["Terminado",e],["No Terminado",i],["Por Confirmar",r]]}]})}createBarChart(e){const i={chart:{type:"bar"},title:{text:"Calificaciones Promedio de Mec\xe1nicos"},xAxis:{type:"category",title:{text:"Nombre del Mec\xe1nico"},categories:e.map(r=>r.name),labels:{enabled:!0}},yAxis:{title:{text:"Calificaci\xf3n Promedio"}},series:[{name:"Calificaci\xf3n Promedio",type:"bar",data:e}]};Va.chart("rating-container",i)}createColumnChartSolicitudes(e,i,r,s,a,u,h){Va.chart("solicitud-chart-container",{chart:{type:"column"},title:{text:"Estado de las Solicitudes"},xAxis:{categories:["Pendiente","En proceso","En pago","Confirmaci\xf3n de cliente","Selecci\xf3n","Finalizado","Rechazado"]},yAxis:{title:{text:"Cantidad de Solicitudes"}},series:[{name:"Solicitudes",type:"column",data:[e,i,r,s,a,u,h]}]})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qM))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-modulo"]],decls:49,vars:5,consts:[["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"],[1,"dashboard-container"],[1,"card"],[1,"card-title"],[1,"card-number"],["href","dashboard/usuarios",2,"color","#007bff","text-decoration","none"],["href","dashboard/usuarios",2,"color","#800080","text-decoration","none"],["href","dashboard/mecanico",2,"color","#007bff","text-decoration","none"],["href","dashboard/mecanico",2,"color","#800080","text-decoration","none"],[2,"color","green","text-decoration","none"],[1,"dashboard-header"],[1,"dashboard-title"],["id","solicitud-chart-container",1,"chart"],["id","containerServices",1,"chart"],["id","rating-container",1,"chart"],["id","container",1,"chart"],["id","containerMecanicos",1,"chart"],["id","containerUsers",1,"chart"],["id","profits-container",1,"chart"],["id","fechaUsuarios",1,"chart"],["id","fechaMecanicos",1,"chart"]],template:function(e,i){1&e&&(o._UZ(0,"link",0),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3),o._uU(4,"Total Clientes"),o.qZA(),o.TgZ(5,"div",4)(6,"a",5),o._uU(7),o.qZA()()(),o.TgZ(8,"div",2)(9,"div",3),o._uU(10,"Total Clientes Activos"),o.qZA(),o.TgZ(11,"div",4)(12,"a",6),o._uU(13),o.qZA()()(),o.TgZ(14,"div",2)(15,"div",3),o._uU(16,"Total Mecanicos"),o.qZA(),o.TgZ(17,"div",4)(18,"a",7),o._uU(19),o.qZA()()(),o.TgZ(20,"div",2)(21,"div",3),o._uU(22,"Total Mecanicos Activos"),o.qZA(),o.TgZ(23,"div",4)(24,"a",8),o._uU(25),o.qZA()()(),o.TgZ(26,"div",2)(27,"div",3),o._uU(28,"Total Ganancias"),o.qZA(),o.TgZ(29,"div",4)(30,"a",9),o._uU(31),o.qZA()()()(),o._UZ(32,"br"),o.TgZ(33,"div",10)(34,"div",11),o._uU(35,"Safe Road Dashboard"),o.qZA()(),o.TgZ(36,"div",1),o._UZ(37,"div",12),o.qZA(),o.TgZ(38,"div",1),o._UZ(39,"div",13)(40,"div",14),o.qZA(),o.TgZ(41,"div",1),o._UZ(42,"div",15)(43,"div",16)(44,"div",17),o.qZA(),o.TgZ(45,"div",1),o._UZ(46,"div",18)(47,"div",19)(48,"div",20),o.qZA()),2&e&&(o.xp6(7),o.Oqu(i.totalUsers),o.xp6(6),o.Oqu(i.totalUsers),o.xp6(6),o.Oqu(i.totalMecanicos),o.xp6(6),o.Oqu(i.totalMecanicosActivos),o.xp6(6),o.hij("$",i.totalGanancias,""))},styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}.dashboard-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;padding:20px;background-color:#f2f2f2;border-radius:10px;box-shadow:0 2px 4px #0000001a}.card[_ngcontent-%COMP%]{flex:1 1 300px;background-color:#fff;border-radius:5px;padding:20px;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:10px}.card-number[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:10px}.dashboard-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.dashboard-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#333}.chart[_ngcontent-%COMP%]{flex:1 1 400px;height:300px;background-color:#fff;border-radius:5px;padding:20px;box-shadow:0 2px 4px #0000001a}"]}),n})()},{path:"mecanico/:id",component:RZ},{path:"usuarios/:id",component:OZ}],canActivate:[n7]},{path:"login",component:$Y}];let s7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[$R.forRoot(r7),$R]}),n})();const o7=["*",[["mat-toolbar-row"]]],a7=["*","mat-toolbar-row"],l7=jA(class{constructor(n){this._elementRef=n}});let c7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),u7=(()=>{class n extends l7{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Hr),o.Y36(Fe))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,c7,5),2&e){let s;o.iGM(s=o.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:a7,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(o7),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),ij=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gn,Gn]}),n})();const ST=["*"],d7=["content"];function h7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r._onBackdropClicked())}),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function f7(n,t){1&n&&(o.TgZ(0,"mat-drawer-content"),o.Hsn(1,2),o.qZA())}const p7=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],m7=["mat-drawer","mat-drawer-content","*"];function g7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r._onBackdropClicked())}),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function _7(n,t){1&n&&(o.TgZ(0,"mat-sidenav-content"),o.Hsn(1,2),o.qZA())}const y7=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],v7=["mat-sidenav","mat-sidenav-content","*"],rj={transformDrawer:qs("transform",[Vi("open, open-instant",Cn({transform:"none",visibility:"visible"})),Vi("void",Cn({"box-shadow":"none",visibility:"hidden"})),ki("void => open-instant",$i("0ms")),ki("void <=> open, open-instant => void",$i("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},w7=new o.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function C7(){return!1}}),fP=new o.OlP("MAT_DRAWER_CONTAINER");let ET=(()=>{class n extends qx{constructor(e,i,r,s,a){super(r,s,a),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>oj)),o.Y36(o.SBq),o.Y36(Yx),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&o.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[o._Bn([{provide:qx,useExisting:n}]),o.qOj],ngContentSelectors:ST,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),sj=(()=>{class n{constructor(e,i,r,s,a,u,h,p){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=a,this._interactivityChecker=u,this._doc=h,this._container=p,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ot.x,this._animationEnd=new Ot.x,this._animationState="void",this.openedChange=new o.vpe(!0),this._openedStream=this.openedChange.pipe($n(v=>v),(0,en.U)(()=>{})),this.openedStart=this._animationStarted.pipe($n(v=>v.fromState!==v.toState&&0===v.toState.indexOf("open")),ZM(void 0)),this._closedStream=this.openedChange.pipe($n(v=>!v),(0,en.U)(()=>{})),this.closedStart=this._animationStarted.pipe($n(v=>v.fromState!==v.toState&&"void"===v.toState),ZM(void 0)),this._destroyed=new Ot.x,this.onPositionChanged=new o.vpe,this._modeChanged=new Ot.x,this.openedChange.subscribe(v=>{v?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{zb(this._elementRef.nativeElement,"keydown").pipe($n(v=>27===v.keyCode&&!this.disableClose&&!Ml(v)),On(this._destroyed)).subscribe(v=>this._ngZone.run(()=>{this.close(),v.stopPropagation(),v.preventDefault()}))}),this._animationEnd.pipe(ol((v,w)=>v.fromState===w.fromState&&v.toState===w.toState)).subscribe(v=>{const{fromState:w,toState:O}=v;(0===O.indexOf("open")&&"void"===w||"void"===O&&0===w.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Pn(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Pn(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Pn(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(Gi(1)).subscribe(a=>s(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(VA),o.Y36(fd),o.Y36(Hr),o.Y36(o.R0b),o.Y36(Bx),o.Y36(Fe,8),o.Y36(fP,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&o.Gf(d7,5),2&e){let r;o.iGM(r=o.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&o.WFA("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&e&&(o.uIk("align",null),o.d8E("@transform",i._animationState),o.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:ST,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA())},dependencies:[qx],encapsulation:2,data:{animation:[rj.transformDrawer]},changeDetection:0}),n})(),oj=(()=>{class n{constructor(e,i,r,s,a,u=!1,h){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=h,this._drawers=new o.n_E,this.backdropClick=new o.vpe,this._destroyed=new Ot.x,this._doCheckSubject=new Ot.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ot.x,e&&e.change.pipe(On(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(On(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=u}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Pn(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:Pn(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Yn(this._allDrawers),On(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Yn(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(FA(10),On(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe($n(i=>i.fromState!==i.toState),On(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(On(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(On(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Gi(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(On((0,Xn.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Al,8),o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(Zx),o.Y36(w7),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,ET,5),o.Suo(r,sj,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._content=s.first),o.iGM(s=o.CRH())&&(i._allDrawers=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(ET,5),2&e){let r;o.iGM(r=o.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o._Bn([{provide:fP,useExisting:n}])],ngContentSelectors:m7,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(o.F$t(p7),o.YNc(0,h7,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,f7,2,0,"mat-drawer-content",1)),2&e&&(o.Q6J("ngIf",i.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!i._content))},dependencies:[li,ET],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),pP=(()=>{class n extends ET{constructor(e,i,r,s,a){super(e,i,r,s,a)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>lj)),o.Y36(o.SBq),o.Y36(Yx),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&o.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[o._Bn([{provide:qx,useExisting:n}]),o.qOj],ngContentSelectors:ST,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),aj=(()=>{class n extends sj{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Pn(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=jo(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=jo(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(o.uIk("align",null),o.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),o.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[o.qOj],ngContentSelectors:ST,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA())},dependencies:[qx],encapsulation:2,data:{animation:[rj.transformDrawer]},changeDetection:0}),n})(),lj=(()=>{class n extends oj{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,pP,5),o.Suo(r,aj,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._content=s.first),o.iGM(s=o.CRH())&&(i._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[o._Bn([{provide:fP,useExisting:n}]),o.qOj],ngContentSelectors:v7,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(o.F$t(y7),o.YNc(0,g7,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,_7,2,0,"mat-sidenav-content",1)),2&e&&(o.Q6J("ngIf",i.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!i._content))},dependencies:[li,pP],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),cj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[rs,Gn,um,um,Gn]}),n})();const uj=["*"],D7=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],S7=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],I7=Ub(cm(class{})),k7=cm(class{}),R7=new o.OlP("MatList"),dj=new o.OlP("MatNavList");let O7=(()=>{class n extends I7{constructor(){super(...arguments),this._stateChanges=new Ot.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[o._Bn([{provide:dj,useExisting:n}]),o.qOj,o.TTD],ngContentSelectors:uj,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),hj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),fj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),P7=(()=>{class n extends k7{constructor(e,i,r,s){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new Ot.x,this._disabled=!1,this._isInteractiveList=!!(r||s&&"action-list"===s._getListType()),this._list=r||s;const a=this._getHostElement();"button"===a.nodeName.toLowerCase()&&!a.hasAttribute("type")&&a.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(On(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=Pn(e)}ngAfterContentInit(){!function _V(n,t,e="mat"){n.changes.pipe(Yn(n)).subscribe(({length:i})=>{Hx(t,`${e}-2-line`,!1),Hx(t,`${e}-3-line`,!1),Hx(t,`${e}-multi-line`,!1),2===i||3===i?Hx(t,`${e}-${i}-line`,!0):i>3&&Hx(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(dj,8),o.Y36(R7,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,hj,5),o.Suo(r,fj,5),o.Suo(r,gV,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._avatar=s.first),o.iGM(s=o.CRH())&&(i._icon=s.first),o.iGM(s=o.CRH())&&(i._lines=s)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[o.qOj],ngContentSelectors:S7,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(o.F$t(D7),o.TgZ(0,"span",0),o._UZ(1,"span",1),o.Hsn(2),o.TgZ(3,"span",2),o.Hsn(4,1),o.qZA(),o.Hsn(5,2),o.qZA()),2&e&&(o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},dependencies:[P_],encapsulation:2,changeDetection:0}),n})(),mj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[UA,jx,Gn,EO,rs,UA,Gn,EO,c9]}),n})();function H7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){o.CHM(e),o.oxw();const r=o.MAs(2);return o.KtG(r.toggle())}),o.TgZ(1,"mat-icon",10),o._uU(2,"menu"),o.qZA()()}}let j7=(()=>{class n{constructor(e,i){this.breakpointObserver=e,this.authApi=i,this.isHandset$=this.breakpointObserver.observe(pO_Handset).pipe((0,en.U)(r=>r.matches),D_())}logout(){this.authApi.logout()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Nx),o.Y36(kA))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-sidebar"]],decls:33,vars:12,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","","routerLinkActive","active","routerLink","dashboard/usuarios"],["mat-list-item","","routerLinkActive","active","routerLink","dashboard/mecanico"],["mat-list-item","","routerLinkActive","active","routerLink","dashboard/modulo"],["mat-list-item","","routerLinkActive","active",3,"click"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2),o.ALo(3,"async"),o.ALo(4,"async"),o.ALo(5,"async"),o.TgZ(6,"mat-toolbar"),o._uU(7,"Men\xfa"),o.qZA(),o._UZ(8,"mat-divider"),o.TgZ(9,"mat-nav-list")(10,"a",3)(11,"mat-icon"),o._uU(12,"person"),o.qZA(),o._uU(13,"Clientes"),o.qZA(),o.TgZ(14,"a",4)(15,"mat-icon"),o._uU(16,"build"),o.qZA(),o._uU(17,"Mecanicos"),o.qZA(),o.TgZ(18,"a",5)(19,"mat-icon"),o._uU(20,"poll"),o.qZA(),o._uU(21," Dashboard"),o.qZA(),o.TgZ(22,"a",6),o.NdJ("click",function(){return i.logout()}),o.TgZ(23,"mat-icon"),o._uU(24,"logout"),o.qZA(),o._uU(25," Salir"),o.qZA()()(),o.TgZ(26,"mat-sidenav-content")(27,"mat-toolbar",7),o.YNc(28,H7,3,0,"button",8),o.ALo(29,"async"),o.TgZ(30,"span"),o._uU(31,"Safe Road Admin"),o.qZA()(),o._UZ(32,"router-outlet"),o.qZA()()),2&e&&(o.xp6(1),o.Q6J("mode",o.lcZ(4,6,i.isHandset$)?"over":"side")("opened",!1===o.lcZ(5,8,i.isHandset$)),o.uIk("role",o.lcZ(3,4,i.isHandset$)?"dialog":"navigation"),o.xp6(27),o.Q6J("ngIf",o.lcZ(29,10,i.isHandset$)))},dependencies:[li,oA,gA,D2,u7,md,aj,lj,pP,dP,O7,P7,rP,Gc],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.mat-icon[_ngcontent-%COMP%]{margin-right:15px}.mat-list-item[_ngcontent-%COMP%]{color:#3f51b5}.active[_ngcontent-%COMP%]{background-color:#3f51b5!important;color:#fff!important;border-radius:5px}"]}),n})();function U7(n,t){1&n&&o._UZ(0,"app-sidebar")}let z7=(()=>{class n{constructor(e){this.authApi=e,this.title="saferoad_admin",this.userLoggedIn=!0}ngOnInit(){this.userLoggedIn=this.authApi.isUserLoggedIn()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(kA))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:1,consts:[[4,"ngIf"]],template:function(e,i){1&e&&(o.TgZ(0,"title"),o._uU(1,"saferoad_admin"),o.qZA(),o.YNc(2,U7,1,0,"app-sidebar",0),o._UZ(3,"router-outlet")),2&e&&(o.xp6(2),o.Q6J("ngIf",i.userLoggedIn))},dependencies:[li,oA,j7]}),n})();function gj(n){return new o.vHH(3e3,!1)}function DK(){return typeof window<"u"&&typeof window.document<"u"}function mP(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function pm(n){switch(n.length){case 0:return new zx;case 1:return n[0];default:return new OV(n)}}function _j(n,t,e,i,r=new Map,s=new Map){const a=[],u=[];let h=-1,p=null;if(i.forEach(v=>{const w=v.get("offset"),O=w==h,Y=O&&p||new Map;v.forEach((he,_e)=>{let ke=_e,We=he;if("offset"!==_e)switch(ke=t.normalizePropertyName(ke,a),We){case"!":We=r.get(_e);break;case mf:We=s.get(_e);break;default:We=t.normalizeStyleValue(_e,ke,We,a)}Y.set(ke,We)}),O||u.push(Y),p=Y,h=w}),a.length)throw function hK(n){return new o.vHH(3502,!1)}();return u}function gP(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&_P(e,"start",n)));break;case"done":n.onDone(()=>i(e&&_P(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&_P(e,"destroy",n)))}}function _P(n,t,e){const s=yP(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(s._data=a),s}function yP(n,t,e,i,r="",s=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function Ha(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function yj(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let vP=(n,t)=>!1,vj=(n,t,e)=>[],bj=null;function bP(n){const t=n.parentNode||n.host;return t===bj?null:t}(mP()||typeof Element<"u")&&(DK()?(bj=(()=>document.documentElement)(),vP=(n,t)=>{for(;t;){if(t===n)return!0;t=bP(t)}return!1}):vP=(n,t)=>n.contains(t),vj=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let U_=null,wj=!1;const Cj=vP,xj=vj;let Dj=(()=>{class n{validateStyleProperty(e){return function EK(n){U_||(U_=function MK(){return typeof document<"u"?document.body:null}()||{},wj=!!U_.style&&"WebkitAppearance"in U_.style);let t=!0;return U_.style&&!function SK(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in U_.style,!t&&wj&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in U_.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return Cj(e,i)}getParentElement(e){return bP(e)}query(e,i,r){return xj(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,a,u=[],h){return new zx(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),wP=(()=>{class n{}return n.NOOP=new Dj,n})();const CP="ng-enter",MT="ng-leave",AT="ng-trigger",TT=".ng-trigger",Ej="ng-animating",xP=".ng-animating";function yf(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:DP(parseFloat(t[1]),t[2])}function DP(n,t){return"s"===t?1e3*n:n}function IT(n,t,e){return n.hasOwnProperty("duration")?n:function IK(n,t,e){let r,s=0,a="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return t.push(gj()),{duration:0,delay:0,easing:""};r=DP(parseFloat(u[1]),u[2]);const h=u[3];null!=h&&(s=DP(parseFloat(h),u[4]));const p=u[5];p&&(a=p)}else r=n;if(!e){let u=!1,h=t.length;r<0&&(t.push(function G7(){return new o.vHH(3100,!1)}()),u=!0),s<0&&(t.push(function $7(){return new o.vHH(3101,!1)}()),u=!0),u&&t.splice(h,0,gj())}return{duration:r,delay:s,easing:a}}(n,t,e)}function cD(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Mj(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function mm(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Tj(n,t,e){return e?t+":"+e+";":""}function Ij(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=Tj(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Tj(0,PK(e),n.style[e]));n.setAttribute("style",t)}function _d(n,t,e){n.style&&(t.forEach((i,r)=>{const s=EP(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),mP()&&Ij(n))}function z_(n,t){n.style&&(t.forEach((e,i)=>{const r=EP(i);n.style[r]=""}),mP()&&Ij(n))}function uD(n){return Array.isArray(n)?1==n.length?n[0]:kV(n):n}const SP=new RegExp("{{\\s*(.+?)\\s*}}","g");function kj(n){let t=[];if("string"==typeof n){let e;for(;e=SP.exec(n);)t.push(e[1]);SP.lastIndex=0}return t}function dD(n,t,e){const i=n.toString(),r=i.replace(SP,(s,a)=>{let u=t[a];return null==u&&(e.push(function Y7(n){return new o.vHH(3003,!1)}()),u=""),u.toString()});return r==i?n:r}function kT(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const OK=/-+([a-z0-9])/g;function EP(n){return n.replace(OK,(...t)=>t[1].toUpperCase())}function PK(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ja(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function q7(n){return new o.vHH(3004,!1)}()}}function Rj(n,t){return window.getComputedStyle(n)[t]}function HK(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function jK(n,t,e){if(":"==n[0]){const h=function UK(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function lK(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof h)return void t.push(h);n=h}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function aK(n){return new o.vHH(3015,!1)}()),t;const r=i[1],s=i[2],a=i[3];t.push(Oj(r,a));"<"==s[0]&&!("*"==r&&"*"==a)&&t.push(Oj(a,r))}(i,e,t)):e.push(n),e}const FT=new Set(["true","1"]),LT=new Set(["false","0"]);function Oj(n,t){const e=FT.has(n)||LT.has(n),i=FT.has(t)||LT.has(t);return(r,s)=>{let a="*"==n||n==r,u="*"==t||t==s;return!a&&e&&"boolean"==typeof r&&(a=r?FT.has(n):LT.has(n)),!u&&i&&"boolean"==typeof s&&(u=s?FT.has(t):LT.has(t)),a&&u}}const zK=new RegExp("s*:selfs*,?","g");function MP(n,t,e,i){return new GK(n).build(t,e,i)}class GK{constructor(t){this._driver=t}build(t,e,i){const r=new YK(e);return this._resetContextStyleTimingState(r),ja(this,uD(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function K7(){return new o.vHH(3006,!1)}()),t.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const h=u,p=h.name;p.toString().split(/\s*,\s*/).forEach(v=>{h.name=v,s.push(this.visitState(h,e))}),h.name=p}else if(1==u.type){const h=this.visitTransition(u,e);i+=h.queryCount,r+=h.depCount,a.push(h)}else e.errors.push(function X7(){return new o.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};i.styles.forEach(u=>{u instanceof Map&&u.forEach(h=>{kj(h).forEach(p=>{a.hasOwnProperty(p)||s.add(p)})})}),s.size&&(kT(s.values()),e.errors.push(function Q7(n,t){return new o.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ja(this,uD(t.animation),e);return{type:1,matchers:HK(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:G_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ja(this,i,e)),options:G_(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(a=>{e.currentTime=i;const u=ja(this,a,e);return r=Math.max(r,e.currentTime),u});return e.currentTime=r,{type:3,steps:s,options:G_(t.options)}}visitAnimate(t,e){const i=function ZK(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return AP(IT(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=AP(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=IT(e,t);return AP(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Cn({});if(5==s.type)r=this.visitKeyframes(s,e);else{let a=t.styles,u=!1;if(!a){u=!0;const p={};i.easing&&(p.easing=i.easing),a=Cn(p)}e.currentTime+=i.duration+i.delay;const h=this.visitStyle(a,e);h.isEmptyStep=u,r=h}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let u of r)"string"==typeof u?u===mf?i.push(u):e.errors.push(new o.vHH(3002,!1)):i.push(Mj(u));let s=!1,a=null;return i.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(a=u.get("easing"),u.delete("easing")),!s))for(let h of u.values())if(h.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,h)=>{const p=e.collectedStyles.get(e.currentQuerySelector),v=p.get(h);let w=!0;v&&(s!=r&&s>=v.startTime&&r<=v.endTime&&(e.errors.push(function eK(n,t,e,i,r){return new o.vHH(3010,!1)}()),w=!1),s=v.startTime),w&&p.set(h,{startTime:s,endTime:r}),e.options&&function RK(n,t,e){const i=t.params||{},r=kj(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function W7(n){return new o.vHH(3001,!1)}())})}(u,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function tK(){return new o.vHH(3011,!1)}()),i;let s=0;const a=[];let u=!1,h=!1,p=0;const v=t.steps.map(We=>{const Je=this._makeStyleAst(We,e);let ct=null!=Je.offset?Je.offset:function qK(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Je.styles),ht=0;return null!=ct&&(s++,ht=Je.offset=ct),h=h||ht<0||ht>1,u=u||ht<p,p=ht,a.push(ht),Je});h&&e.errors.push(function nK(){return new o.vHH(3012,!1)}()),u&&e.errors.push(function iK(){return new o.vHH(3200,!1)}());const w=t.steps.length;let O=0;s>0&&s<w?e.errors.push(function rK(){return new o.vHH(3202,!1)}()):0==s&&(O=1/(w-1));const Y=w-1,he=e.currentTime,_e=e.currentAnimateTimings,ke=_e.duration;return v.forEach((We,Je)=>{const ct=O>0?Je==Y?1:O*Je:a[Je],ht=ct*ke;e.currentTime=he+_e.delay+ht,_e.duration=ht,this._validateStyleAst(We,e),We.offset=ct,i.styles.push(We)}),i}visitReference(t,e){return{type:8,animation:ja(this,uD(t.animation),e),options:G_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:G_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:G_(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,a]=function $K(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(zK,"")),n=n.replace(/@\*/g,TT).replace(/@\w+/g,e=>TT+"-"+e.slice(1)).replace(/:animating/g,xP),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Ha(e.collectedStyles,e.currentQuerySelector,new Map);const u=ja(this,uD(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:u,originalSelector:t.selector,options:G_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function sK(){return new o.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:IT(t.timings,e.errors,!0);return{type:12,animation:ja(this,uD(t.animation),e),timings:i,options:null}}}class YK{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function G_(n){return n?(n=cD(n)).params&&(n.params=function WK(n){return n?cD(n):null}(n.params)):n={},n}function AP(n,t,e){return{duration:n,delay:t,easing:e}}function TP(n,t,e,i,r,s,a=null,u=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:u}}class NT{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const QK=new RegExp(":enter","g"),eX=new RegExp(":leave","g");function IP(n,t,e,i,r,s=new Map,a=new Map,u,h,p=[]){return(new tX).buildKeyframes(n,t,e,i,r,s,a,u,h,p)}class tX{buildKeyframes(t,e,i,r,s,a,u,h,p,v=[]){p=p||new NT;const w=new kP(t,e,p,r,s,v,[]);w.options=h;const O=h.delay?yf(h.delay):0;w.currentTimeline.delayNextStep(O),w.currentTimeline.setStyles([a],null,w.errors,h),ja(this,i,w);const Y=w.timelines.filter(he=>he.containsAnimation());if(Y.length&&u.size){let he;for(let _e=Y.length-1;_e>=0;_e--){const ke=Y[_e];if(ke.element===e){he=ke;break}}he&&!he.allowOnlyTimelineStyles()&&he.setStyles([u],null,w.errors,h)}return Y.length?Y.map(he=>he.buildKeyframes()):[TP(e,[],[],[],0,O,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const a="number"==typeof s?s:yf(dD(s,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const a=null!=i.duration?yf(i.duration):null,u=null!=i.delay?yf(i.delay):null;return 0!==a&&t.forEach(h=>{const p=e.appendInstructionToTimeline(h,a,u);s=Math.max(s,p.duration+p.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),ja(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=BT);const a=yf(s.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>ja(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?yf(t.options.delay):0;t.steps.forEach(a=>{const u=e.createSubContext(t.options);s&&u.delayNextStep(s),ja(this,a,u),r=Math.max(r,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return IT(e.params?dD(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,u=e.createSubContext().currentTimeline;u.easing=i.easing,t.styles.forEach(h=>{u.forwardTime((h.offset||0)*s),u.setStyles(h.styles,h.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?yf(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=BT);let a=i;const u=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=u.length;let h=null;u.forEach((p,v)=>{e.currentQueryIndex=v;const w=e.createSubContext(t.options,p);s&&w.delayNextStep(s),p===e.element&&(h=w.currentTimeline),ja(this,t.animation,w),w.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,w.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),h&&(e.currentTimeline.mergeTimelineCollectedStyles(h),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,a=Math.abs(s.duration),u=a*(e.currentQueryTotal-1);let h=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":h=u-h;break;case"full":h=i.currentStaggerTime}const v=e.currentTimeline;h&&v.delayNextStep(h);const w=v.currentTime;ja(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-w+(r.startTime-i.currentTimeline.startTime)}}const BT={};class kP{constructor(t,e,i,r,s,a,u,h){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=BT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new VT(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=yf(i.duration)),null!=i.delay&&(r.delay=yf(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(u=>{(!e||!a.hasOwnProperty(u))&&(a[u]=dD(s[u],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new kP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=BT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new nX(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,a){let u=[];if(r&&u.push(this.element),t.length>0){t=(t=t.replace(QK,"."+this._enterClassName)).replace(eX,"."+this._leaveClassName);let p=this._driver.query(this.element,t,1!=i);0!==i&&(p=i<0?p.slice(p.length+i,p.length):p.slice(0,i)),u.push(...p)}return!s&&0==u.length&&a.push(function oK(n){return new o.vHH(3014,!1)}()),u}}class VT{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new VT(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||mf),this._currentKeyframe.set(e,mf);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},a=function iX(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,mf)}else mm(r,e)}),e}(t,this._globalTimelineStyles);for(let[u,h]of a){const p=dD(h,s,i);this._pendingStyles.set(u,p),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??mf),this._updateStyle(u,p)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,h)=>{const p=mm(u,new Map,this._backFill);p.forEach((v,w)=>{"!"===v?t.add(w):v===mf&&e.add(w)}),i||p.set("offset",h/this.duration),r.push(p)});const s=t.size?kT(t.values()):[],a=e.size?kT(e.values()):[];if(i){const u=r[0],h=new Map(u);u.set("offset",0),h.set("offset",1),r=[u,h]}return TP(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class nX extends VT{constructor(t,e,i,r,s,a,u=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=u,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],a=i+e,u=e/a,h=mm(t[0]);h.set("offset",0),s.push(h);const p=mm(t[0]);p.set("offset",Lj(u)),s.push(p);const v=t.length-1;for(let w=1;w<=v;w++){let O=mm(t[w]);const Y=O.get("offset");O.set("offset",Lj((e+Y*i)/a)),s.push(O)}i=a,e=0,r="",t=s}return TP(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function Lj(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class RP{}const rX=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class sX extends RP{normalizePropertyName(t,e){return EP(t)}normalizeStyleValue(t,e,i,r){let s="";const a=i.toString().trim();if(rX.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(function Z7(n,t){return new o.vHH(3005,!1)}())}return a+s}}function Nj(n,t,e,i,r,s,a,u,h,p,v,w,O){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:a,timelines:u,queriedElements:h,preStyleProps:p,postStyleProps:v,totalTime:w,errors:O}}const OP={};class Bj{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function oX(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,a,u,h,p,v){const w=[],O=this.ast.options&&this.ast.options.params||OP,he=this.buildStyles(i,u&&u.params||OP,w),_e=h&&h.params||OP,ke=this.buildStyles(r,_e,w),We=new Set,Je=new Map,ct=new Map,ht="void"===r,ft={params:aX(_e,O),delay:this.ast.options?.delay},xt=v?[]:IP(t,e,this.ast.animation,s,a,he,ke,ft,p,w);let Tt=0;if(xt.forEach(un=>{Tt=Math.max(un.duration+un.delay,Tt)}),w.length)return Nj(e,this._triggerName,i,r,ht,he,ke,[],[],Je,ct,Tt,w);xt.forEach(un=>{const An=un.element,Un=Ha(Je,An,new Set);un.preStyleProps.forEach(or=>Un.add(or));const Wn=Ha(ct,An,new Set);un.postStyleProps.forEach(or=>Wn.add(or)),An!==e&&We.add(An)});const Vt=kT(We.values());return Nj(e,this._triggerName,i,r,ht,he,ke,xt,Vt,Je,ct,Tt)}}function aX(n,t){const e=cD(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class lX{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=cD(this.defaultParams);return Object.keys(t).forEach(s=>{const a=t[s];null!==a&&(r[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,u)=>{a&&(a=dD(a,r,e));const h=this.normalizer.normalizePropertyName(u,e);a=this.normalizer.normalizeStyleValue(u,h,a,e),i.set(h,a)})}),i}}class uX{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new lX(r.style,r.options&&r.options.params||{},i))}),Vj(this.states,"true","1"),Vj(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Bj(t,r,this.states))}),this.fallbackTransition=function dX(n,t,e){return new Bj(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,u)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Vj(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const hX=new NT;class fX{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=MP(this._driver,e,i,[]);if(i.length)throw function fK(n){return new o.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=_j(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let a;const u=new Map;if(s?(a=IP(this._driver,e,s,CP,MT,new Map,new Map,i,hX,r),a.forEach(v=>{const w=Ha(u,v.element,new Map);v.postStyleProps.forEach(O=>w.set(O,null))})):(r.push(function pK(){return new o.vHH(3300,!1)}()),a=[]),r.length)throw function mK(n){return new o.vHH(3504,!1)}();u.forEach((v,w)=>{v.forEach((O,Y)=>{v.set(Y,this._driver.computeStyle(w,Y,mf))})});const p=pm(a.map(v=>{const w=u.get(v.element);return this._buildPlayer(v,new Map,w)}));return this._playersById.set(t,p),p.onDestroy(()=>this.destroy(t)),this.players.push(p),p}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function gK(n){return new o.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=yP(e,"","","");return gP(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Hj="ng-animate-queued",PP="ng-animate-disabled",yX=[],jj={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},vX={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Tl="__ng_removed";class FP{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function xX(n){return n??null}(i?t.value:t),i){const s=cD(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const hD="void",LP=new FP(hD);class bX{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Il(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function _K(n,t){return new o.vHH(3302,!1)}();if(null==i||0==i.length)throw function yK(n){return new o.vHH(3303,!1)}();if(!function DX(n){return"start"==n||"done"==n}(i))throw function vK(n,t){return new o.vHH(3400,!1)}();const s=Ha(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};s.push(a);const u=Ha(this._engine.statesByElement,t,new Map);return u.has(e)||(Il(t,AT),Il(t,AT+"-"+e),u.set(e,LP)),()=>{this._engine.afterFlush(()=>{const h=s.indexOf(a);h>=0&&s.splice(h,1),this._triggers.has(e)||u.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function bK(n){return new o.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),a=new NP(this.id,e,t);let u=this._engine.statesByElement.get(t);u||(Il(t,AT),Il(t,AT+"-"+e),this._engine.statesByElement.set(t,u=new Map));let h=u.get(e);const p=new FP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&h&&p.absorbOptions(h.options),u.set(e,p),h||(h=LP),p.value!==hD&&h.value===p.value){if(!function MX(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(h.params,p.params)){const _e=[],ke=s.matchStyles(h.value,h.params,_e),We=s.matchStyles(p.value,p.params,_e);_e.length?this._engine.reportError(_e):this._engine.afterFlush(()=>{z_(t,ke),_d(t,We)})}return}const O=Ha(this._engine.playersByElement,t,[]);O.forEach(_e=>{_e.namespaceId==this.id&&_e.triggerName==e&&_e.queued&&_e.destroy()});let Y=s.matchTransition(h.value,p.value,t,p.params),he=!1;if(!Y){if(!r)return;Y=s.fallbackTransition,he=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:Y,fromState:h,toState:p,player:a,isFallbackTransition:he}),he||(Il(t,Hj),a.onStart(()=>{e0(t,Hj)})),a.onDone(()=>{let _e=this.players.indexOf(a);_e>=0&&this.players.splice(_e,1);const ke=this._engine.playersByElement.get(t);if(ke){let We=ke.indexOf(a);We>=0&&ke.splice(We,1)}}),this.players.push(a),O.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,TT,!0);i.forEach(r=>{if(r[Tl])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),a=new Map;if(s){const u=[];if(s.forEach((h,p)=>{if(a.set(p,h.value),this._triggers.has(p)){const v=this.trigger(t,p,hD,r);v&&u.push(v)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&pm(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const h=this._triggers.get(a).fallbackTransition,p=i.get(a)||LP,v=new FP(hD),w=new NP(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:h,fromState:p,toState:v,player:w,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Tl];(!s||s===jj)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Il(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(u=>{if(u.name==i.triggerName){const h=yP(s,i.triggerName,i.fromState.value,i.toState.value);h._data=t,gP(i.player,u.phase,h,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class wX{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new bX(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,u=this.driver.getParentElement(e);for(;u;){const h=r.get(u);if(h){const p=i.indexOf(h);i.splice(p+1,0,t),a=!0;break}u=this.driver.getParentElement(u)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(HT(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!HT(e))return;const s=e[Tl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Il(t,PP)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),e0(t,PP))}removeNode(t,e,i,r){if(HT(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Tl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return HT(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,TT,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,xP,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return pm(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Tl];if(e&&e.setForRemoval){if(t[Tl]=jj,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(PP)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Il(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?pm(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function wK(n){return new o.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new NT,r=[],s=new Map,a=[],u=new Map,h=new Map,p=new Map,v=new Set;this.disabledNodes.forEach(Gt=>{v.add(Gt);const Qt=this.driver.query(Gt,".ng-animate-queued",!0);for(let pn=0;pn<Qt.length;pn++)v.add(Qt[pn])});const w=this.bodyNode,O=Array.from(this.statesByElement.keys()),Y=Gj(O,this.collectedEnterElements),he=new Map;let _e=0;Y.forEach((Gt,Qt)=>{const pn=CP+_e++;he.set(Qt,pn),Gt.forEach(Mn=>Il(Mn,pn))});const ke=[],We=new Set,Je=new Set;for(let Gt=0;Gt<this.collectedLeaveElements.length;Gt++){const Qt=this.collectedLeaveElements[Gt],pn=Qt[Tl];pn&&pn.setForRemoval&&(ke.push(Qt),We.add(Qt),pn.hasAnimation?this.driver.query(Qt,".ng-star-inserted",!0).forEach(Mn=>We.add(Mn)):Je.add(Qt))}const ct=new Map,ht=Gj(O,Array.from(We));ht.forEach((Gt,Qt)=>{const pn=MT+_e++;ct.set(Qt,pn),Gt.forEach(Mn=>Il(Mn,pn))}),t.push(()=>{Y.forEach((Gt,Qt)=>{const pn=he.get(Qt);Gt.forEach(Mn=>e0(Mn,pn))}),ht.forEach((Gt,Qt)=>{const pn=ct.get(Qt);Gt.forEach(Mn=>e0(Mn,pn))}),ke.forEach(Gt=>{this.processLeaveNode(Gt)})});const ft=[],xt=[];for(let Gt=this._namespaceList.length-1;Gt>=0;Gt--)this._namespaceList[Gt].drainQueuedTransitions(e).forEach(pn=>{const Mn=pn.player,ar=pn.element;if(ft.push(Mn),this.collectedEnterElements.length){const wo=ar[Tl];if(wo&&wo.setForMove){if(wo.previousTriggersValues&&wo.previousTriggersValues.has(pn.triggerName)){const sy=wo.previousTriggersValues.get(pn.triggerName),Rl=this.statesByElement.get(pn.element);if(Rl&&Rl.has(pn.triggerName)){const FI=Rl.get(pn.triggerName);FI.value=sy,Rl.set(pn.triggerName,FI)}}return void Mn.destroy()}}const zo=!w||!this.driver.containsElement(w,ar),ts=ct.get(ar),oa=he.get(ar),Oi=this._buildInstruction(pn,i,oa,ts,zo);if(Oi.errors&&Oi.errors.length)return void xt.push(Oi);if(zo)return Mn.onStart(()=>z_(ar,Oi.fromStyles)),Mn.onDestroy(()=>_d(ar,Oi.toStyles)),void r.push(Mn);if(pn.isFallbackTransition)return Mn.onStart(()=>z_(ar,Oi.fromStyles)),Mn.onDestroy(()=>_d(ar,Oi.toStyles)),void r.push(Mn);const Sm=[];Oi.timelines.forEach(wo=>{wo.stretchStartingKeyframe=!0,this.disabledNodes.has(wo.element)||Sm.push(wo)}),Oi.timelines=Sm,i.append(ar,Oi.timelines),a.push({instruction:Oi,player:Mn,element:ar}),Oi.queriedElements.forEach(wo=>Ha(u,wo,[]).push(Mn)),Oi.preStyleProps.forEach((wo,sy)=>{if(wo.size){let Rl=h.get(sy);Rl||h.set(sy,Rl=new Set),wo.forEach((FI,UF)=>Rl.add(UF))}}),Oi.postStyleProps.forEach((wo,sy)=>{let Rl=p.get(sy);Rl||p.set(sy,Rl=new Set),wo.forEach((FI,UF)=>Rl.add(UF))})});if(xt.length){const Gt=[];xt.forEach(Qt=>{Gt.push(function CK(n,t){return new o.vHH(3505,!1)}())}),ft.forEach(Qt=>Qt.destroy()),this.reportError(Gt)}const Tt=new Map,Vt=new Map;a.forEach(Gt=>{const Qt=Gt.element;i.has(Qt)&&(Vt.set(Qt,Qt),this._beforeAnimationBuild(Gt.player.namespaceId,Gt.instruction,Tt))}),r.forEach(Gt=>{const Qt=Gt.element;this._getPreviousPlayers(Qt,!1,Gt.namespaceId,Gt.triggerName,null).forEach(Mn=>{Ha(Tt,Qt,[]).push(Mn),Mn.destroy()})});const un=ke.filter(Gt=>Wj(Gt,h,p)),An=new Map;zj(An,this.driver,Je,p,mf).forEach(Gt=>{Wj(Gt,h,p)&&un.push(Gt)});const Wn=new Map;Y.forEach((Gt,Qt)=>{zj(Wn,this.driver,new Set(Gt),h,"!")}),un.forEach(Gt=>{const Qt=An.get(Gt),pn=Wn.get(Gt);An.set(Gt,new Map([...Array.from(Qt?.entries()??[]),...Array.from(pn?.entries()??[])]))});const or=[],bo=[],bi={};a.forEach(Gt=>{const{element:Qt,player:pn,instruction:Mn}=Gt;if(i.has(Qt)){if(v.has(Qt))return pn.onDestroy(()=>_d(Qt,Mn.toStyles)),pn.disabled=!0,pn.overrideTotalTime(Mn.totalTime),void r.push(pn);let ar=bi;if(Vt.size>1){let ts=Qt;const oa=[];for(;ts=ts.parentNode;){const Oi=Vt.get(ts);if(Oi){ar=Oi;break}oa.push(ts)}oa.forEach(Oi=>Vt.set(Oi,ar))}const zo=this._buildAnimation(pn.namespaceId,Mn,Tt,s,Wn,An);if(pn.setRealPlayer(zo),ar===bi)or.push(pn);else{const ts=this.playersByElement.get(ar);ts&&ts.length&&(pn.parentPlayer=pm(ts)),r.push(pn)}}else z_(Qt,Mn.fromStyles),pn.onDestroy(()=>_d(Qt,Mn.toStyles)),bo.push(pn),v.has(Qt)&&r.push(pn)}),bo.forEach(Gt=>{const Qt=s.get(Gt.element);if(Qt&&Qt.length){const pn=pm(Qt);Gt.setRealPlayer(pn)}}),r.forEach(Gt=>{Gt.parentPlayer?Gt.syncPlayerEvents(Gt.parentPlayer):Gt.destroy()});for(let Gt=0;Gt<ke.length;Gt++){const Qt=ke[Gt],pn=Qt[Tl];if(e0(Qt,MT),pn&&pn.hasAnimation)continue;let Mn=[];if(u.size){let zo=u.get(Qt);zo&&zo.length&&Mn.push(...zo);let ts=this.driver.query(Qt,xP,!0);for(let oa=0;oa<ts.length;oa++){let Oi=u.get(ts[oa]);Oi&&Oi.length&&Mn.push(...Oi)}}const ar=Mn.filter(zo=>!zo.destroyed);ar.length?SX(this,Qt,ar):this.processLeaveNode(Qt)}return ke.length=0,or.forEach(Gt=>{this.players.push(Gt),Gt.onDone(()=>{Gt.destroy();const Qt=this.players.indexOf(Gt);this.players.splice(Qt,1)}),Gt.play()}),or}elementContainsData(t,e){let i=!1;const r=e[Tl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let a=[];if(e){const u=this.playersByQueriedElement.get(t);u&&(a=u)}else{const u=this.playersByElement.get(t);if(u){const h=!s||s==hD;u.forEach(p=>{p.queued||!h&&p.triggerName!=r||a.push(p)})}}return(i||r)&&(a=a.filter(u=>!(i&&i!=u.namespaceId||r&&r!=u.triggerName))),a}_beforeAnimationBuild(t,e,i){const s=e.element,a=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName;for(const h of e.timelines){const p=h.element,v=p!==s,w=Ha(i,p,[]);this._getPreviousPlayers(p,v,a,u,e.toState).forEach(Y=>{const he=Y.getRealPlayer();he.beforeDestroy&&he.beforeDestroy(),Y.destroy(),w.push(Y)})}z_(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,a){const u=e.triggerName,h=e.element,p=[],v=new Set,w=new Set,O=e.timelines.map(he=>{const _e=he.element;v.add(_e);const ke=_e[Tl];if(ke&&ke.removedBeforeQueried)return new zx(he.duration,he.delay);const We=_e!==h,Je=function EX(n){const t=[];return $j(n,t),t}((i.get(_e)||yX).map(Tt=>Tt.getRealPlayer())).filter(Tt=>!!Tt.element&&Tt.element===_e),ct=s.get(_e),ht=a.get(_e),ft=_j(0,this._normalizer,0,he.keyframes,ct,ht),xt=this._buildPlayer(he,ft,Je);if(he.subTimeline&&r&&w.add(_e),We){const Tt=new NP(t,u,_e);Tt.setRealPlayer(xt),p.push(Tt)}return xt});p.forEach(he=>{Ha(this.playersByQueriedElement,he.element,[]).push(he),he.onDone(()=>function CX(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,he.element,he))}),v.forEach(he=>Il(he,Ej));const Y=pm(O);return Y.onDestroy(()=>{v.forEach(he=>e0(he,Ej)),_d(h,e.toStyles)}),w.forEach(he=>{Ha(r,he,[]).push(Y)}),Y}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new zx(t.duration,t.delay)}}class NP{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new zx,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>gP(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ha(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function HT(n){return n&&1===n.nodeType}function Uj(n,t){const e=n.style.display;return n.style.display=t??"none",e}function zj(n,t,e,i,r){const s=[];e.forEach(h=>s.push(Uj(h)));const a=[];i.forEach((h,p)=>{const v=new Map;h.forEach(w=>{const O=t.computeStyle(p,w,r);v.set(w,O),(!O||0==O.length)&&(p[Tl]=vX,a.push(p))}),n.set(p,v)});let u=0;return e.forEach(h=>Uj(h,s[u++])),a}function Gj(n,t){const e=new Map;if(n.forEach(u=>e.set(u,[])),0==t.length)return e;const r=new Set(t),s=new Map;function a(u){if(!u)return 1;let h=s.get(u);if(h)return h;const p=u.parentNode;return h=e.has(p)?p:r.has(p)?1:a(p),s.set(u,h),h}return t.forEach(u=>{const h=a(u);1!==h&&e.get(h).push(u)}),e}function Il(n,t){n.classList?.add(t)}function e0(n,t){n.classList?.remove(t)}function SX(n,t,e){pm(e).onDone(()=>n.processLeaveNode(t))}function $j(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof OV?$j(i.players,t):t.push(i)}}function Wj(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class jT{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new wX(t,e,i),this._timelineEngine=new fX(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const a=t+"-"+r;let u=this._triggerCache[a];if(!u){const h=[],v=MP(this._driver,s,h,[]);if(h.length)throw function dK(n,t){return new o.vHH(3404,!1)}();u=function cX(n,t,e){return new uX(n,t,e)}(r,v,this._normalizer),this._triggerCache[a]=u}this._transitionEngine.registerTrigger(e,r,u)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,a]=yj(i);this._timelineEngine.command(s,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[a,u]=yj(i);return this._timelineEngine.listen(a,e,u,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let TX=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&_d(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_d(this._element,this._initialStyles),this._endStyles&&(_d(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(z_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(z_(this._element,this._endStyles),this._endStyles=null),_d(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function BP(n){let t=null;return n.forEach((e,i)=>{(function IX(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class Yj{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:Rj(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class kX{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return Cj(t,e)}getParentElement(t){return bP(t)}query(t,e,i){return xj(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,a=[]){const h={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(h.easing=s);const p=new Map,v=a.filter(Y=>Y instanceof Yj);(function FK(n,t){return 0===n||0===t})(i,r)&&v.forEach(Y=>{Y.currentSnapshot.forEach((he,_e)=>p.set(_e,he))});let w=function kK(n){return n.length?n[0]instanceof Map?n:n.map(t=>Mj(t)):[]}(e).map(Y=>mm(Y));w=function LK(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,a)=>{i.has(a)||r.push(a),i.set(a,s)}),r.length)for(let s=1;s<t.length;s++){let a=t[s];r.forEach(u=>a.set(u,Rj(n,u)))}}return t}(t,w,p);const O=function AX(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=BP(t[0]),t.length>1&&(i=BP(t[t.length-1]))):t instanceof Map&&(e=BP(t)),e||i?new TX(n,e,i):null}(t,w);return new Yj(t,w,h,O)}}let RX=(()=>{class n extends TV{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?kV(e):e;return qj(this._renderer,null,i,"register",[r]),new OX(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(Fe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class OX extends class fY{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new PX(this._id,t,e||{},this._renderer)}}class PX{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return qj(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function qj(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const Zj="@.disabled";let FX=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const u=a?.parentNode(s);u&&a.removeChild(u,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let v=this._rendererCache.get(s);return v||(v=new Kj("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,v)),v}const a=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const h=v=>{Array.isArray(v)?v.forEach(h):this.engine.registerTrigger(a,u,e,v.name,v)};return i.data.animation.forEach(h),new LX(this,u,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,u]=s;a(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(jT),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Kj{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==Zj?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class LX extends Kj{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Zj?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function NX(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function BX(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,u=>{this.factory.scheduleListenerCallback(u._data||-1,i,u)})}return this.delegate.listen(t,e,i)}}let VX=(()=>{class n extends jT{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fe),o.LFG(wP),o.LFG(RP),o.LFG(o.z2F))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Xj=[{provide:TV,useClass:RX},{provide:RP,useFactory:function HX(){return new sX}},{provide:jT,useClass:VX},{provide:o.FYo,useFactory:function jX(n,t,e){return new FX(n,t,e)},deps:[el,jT,o.R0b]}],VP=[{provide:wP,useFactory:()=>new kX},{provide:o.QbO,useValue:"BrowserAnimations"},...Xj],Qj=[{provide:wP,useClass:Dj},{provide:o.QbO,useValue:"NoopAnimations"},...Xj];let UX=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Qj:VP}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:VP,imports:[mu]}),n})();const HP={production:!1,firebaseConfig:{apiKey:"AIzaSyDpULFaiP-jvKhfc2HrwKFI0frrkimCoa0",authDomain:"saferoad-2ef0d.firebaseapp.com",projectId:"saferoad-2ef0d",storageBucket:"saferoad-2ef0d.appspot.com",messagingSenderId:"1004752253194",appId:"1:1004752253194:web:e4a252bd3da747c68d8af3"}};let nU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[jx,Gn,Gn]}),n})(),iQ=(()=>{class n{constructor(){this.changes=new Ot.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fQ={provide:new o.OlP("mat-datepicker-scroll-strategy"),deps:[Uo],useFactory:function hQ(n){return()=>n.scrollStrategies.reposition()}};let oU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[iQ,fQ],imports:[rs,Ux,B_,wO,Wb,Gn,um]}),n})(),yQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[MV,KB,ij,Ux,cj,WH,mj,LO,kH,Gx,HV,nU,VO,oU,mV,lP,EH,bH,tj,MV,KB,ij,Ux,cj,WH,mj,LO,kH,Gx,HV,nU,VO,oU,mV,lP,EH,bH,tj]}),n})();function n0(n){return n+.5|0}const vf=(n,t,e)=>Math.max(Math.min(n,e),t);function fD(n){return vf(n0(2.55*n),0,255)}function gm(n){return vf(n0(255*n),0,255)}function bf(n){return vf(n0(n/2.55)/100,0,1)}function aU(n){return vf(n0(100*n),0,100)}const kl={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},jP=[..."0123456789ABCDEF"],vQ=n=>jP[15&n],bQ=n=>jP[(240&n)>>4]+jP[15&n],WT=n=>(240&n)>>4==(15&n);const SQ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function lU(n,t,e){const i=t*Math.min(e,1-e),r=(s,a=(s+n/30)%12)=>e-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function EQ(n,t,e){const i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function MQ(n,t,e){const i=lU(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function UP(n){const e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),a=Math.min(e,i,r),u=(s+a)/2;let h,p,v;return s!==a&&(v=s-a,p=u>.5?v/(2-s-a):v/(s+a),h=function AQ(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}(e,i,r,v,s),h=60*h+.5),[0|h,p||0,u]}function zP(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(gm)}function GP(n,t,e){return zP(lU,n,t,e)}function cU(n){return(n%360+360)%360}const uU={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},dU={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let YT;const LQ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,$P=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,r0=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function qT(n,t,e){if(n){let i=UP(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,0===t?360:1)),i=GP(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function hU(n,t){return n&&Object.assign(t||{},n)}function fU(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=gm(n[3]))):(t=hU(n,{r:0,g:0,b:0,a:1})).a=gm(t.a),t}function HQ(n){return"r"===n.charAt(0)?function NQ(n){const t=LQ.exec(n);let i,r,s,e=255;if(t){if(t[7]!==i){const a=+t[7];e=t[8]?fD(a):vf(255*a,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?fD(i):vf(i,0,255)),r=255&(t[4]?fD(r):vf(r,0,255)),s=255&(t[6]?fD(s):vf(s,0,255)),{r:i,g:r,b:s,a:e}}}(n):function kQ(n){const t=SQ.exec(n);let i,e=255;if(!t)return;t[5]!==i&&(e=t[6]?fD(+t[5]):gm(+t[5]));const r=cU(+t[2]),s=+t[3]/100,a=+t[4]/100;return i="hwb"===t[1]?function TQ(n,t,e){return zP(MQ,n,t,e)}(r,s,a):"hsv"===t[1]?function IQ(n,t,e){return zP(EQ,n,t,e)}(r,s,a):GP(r,s,a),{r:i[0],g:i[1],b:i[2],a:e}}(n)}class s0{constructor(t){if(t instanceof s0)return t;const e=typeof t;let i;"object"===e?i=fU(t):"string"===e&&(i=function CQ(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*kl[n[1]],g:255&17*kl[n[2]],b:255&17*kl[n[3]],a:5===t?17*kl[n[4]]:255}:(7===t||9===t)&&(e={r:kl[n[1]]<<4|kl[n[2]],g:kl[n[3]]<<4|kl[n[4]],b:kl[n[5]]<<4|kl[n[6]],a:9===t?kl[n[7]]<<4|kl[n[8]]:255})),e}(t)||function FQ(n){YT||(YT=function PQ(){const n={},t=Object.keys(dU),e=Object.keys(uU);let i,r,s,a,u;for(i=0;i<t.length;i++){for(a=u=t[i],r=0;r<e.length;r++)s=e[r],u=u.replace(s,uU[s]);s=parseInt(dU[a],16),n[u]=[s>>16&255,s>>8&255,255&s]}return n}(),YT.transparent=[0,0,0,0]);const t=YT[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||HQ(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=hU(this._rgb);return t&&(t.a=bf(t.a)),t}set rgb(t){this._rgb=fU(t)}rgbString(){return this._valid?function BQ(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${bf(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function DQ(n){var t=(n=>WT(n.r)&&WT(n.g)&&WT(n.b)&&WT(n.a))(n)?vQ:bQ;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function OQ(n){if(!n)return;const t=UP(n),e=t[0],i=aU(t[1]),r=aU(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${bf(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let s;const a=e===s?.5:e,u=2*a-1,h=i.a-r.a,p=((u*h==-1?u:(u+h)/(1+u*h))+1)/2;s=1-p,i.r=255&p*i.r+s*r.r+.5,i.g=255&p*i.g+s*r.g+.5,i.b=255&p*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function VQ(n,t,e){const i=r0(bf(n.r)),r=r0(bf(n.g)),s=r0(bf(n.b));return{r:gm($P(i+e*(r0(bf(t.r))-i))),g:gm($P(r+e*(r0(bf(t.g))-r))),b:gm($P(s+e*(r0(bf(t.b))-s))),a:n.a+e*(t.a-n.a)}}(this._rgb,t._rgb,e)),this}clone(){return new s0(this.rgb)}alpha(t){return this._rgb.a=gm(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=n0(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return qT(this._rgb,2,t),this}darken(t){return qT(this._rgb,2,-t),this}saturate(t){return qT(this._rgb,1,t),this}desaturate(t){return qT(this._rgb,1,-t),this}rotate(t){return function RQ(n,t){var e=UP(n);e[0]=cU(e[0]+t),e=GP(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function wf(){}const jQ=(()=>{let n=0;return()=>n++})();function hi(n){return null===n||typeof n>"u"}function nr(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function si(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function Or(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function Ua(n,t){return Or(n)?n:t}function jn(n,t){return typeof n>"u"?t:n}const pU=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Qi(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function Ri(n,t,e,i){let r,s,a;if(nr(n))if(s=n.length,i)for(r=s-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<s;r++)t.call(e,n[r],r);else if(si(n))for(a=Object.keys(n),s=a.length,r=0;r<s;r++)t.call(e,n[a[r]],a[r])}function ZT(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function KT(n){if(nr(n))return n.map(KT);if(si(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=KT(n[e[r]]);return t}return n}function mU(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function zQ(n,t,e,i){if(!mU(n))return;const r=t[n],s=e[n];si(r)&&si(s)?pD(r,s,i):t[n]=KT(s)}function pD(n,t,e){const i=nr(t)?t:[t],r=i.length;if(!si(n))return n;const s=(e=e||{}).merger||zQ;let a;for(let u=0;u<r;++u){if(a=i[u],!si(a))continue;const h=Object.keys(a);for(let p=0,v=h.length;p<v;++p)s(h[p],n,a,e)}return n}function mD(n,t){return pD(n,t,{merger:GQ})}function GQ(n,t,e){if(!mU(n))return;const i=t[n],r=e[n];si(i)&&si(r)?mD(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=KT(r))}const gU={"":n=>n,x:n=>n.x,y:n=>n.y};function _m(n,t){return(gU[t]||(gU[t]=function WQ(n){const t=function $Q(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}(n);return e=>{for(const i of t){if(""===i)break;e=e&&e[i]}return e}}(t)))(n)}function WP(n){return n.charAt(0).toUpperCase()+n.slice(1)}const gD=n=>typeof n<"u",ym=n=>"function"==typeof n,_U=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},ir=Math.PI,rr=2*ir,qQ=rr+ir,XT=Number.POSITIVE_INFINITY,ZQ=ir/180,jr=ir/2,$_=ir/4,yU=2*ir/3,vm=Math.log10,yd=Math.sign;function _D(n,t,e){return Math.abs(n-t)<e}function vU(n){const t=Math.round(n);n=_D(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(vm(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function o0(n){return!isNaN(parseFloat(n))&&isFinite(n)}function bU(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Vc(n){return n*(ir/180)}function YP(n){return n*(180/ir)}function wU(n){if(!Or(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function CU(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let s=Math.atan2(i,e);return s<-.5*ir&&(s+=rr),{angle:s,distance:r}}function qP(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function QQ(n,t){return(n-t+qQ)%rr-ir}function za(n){return(n%rr+rr)%rr}function yD(n,t,e,i){const r=za(n),s=za(t),a=za(e),u=za(s-r),h=za(a-r),p=za(r-s),v=za(r-a);return r===s||r===a||i&&s===a||u>h&&p<v}function Rs(n,t,e){return Math.max(t,Math.min(e,n))}function Cf(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function ZP(n,t,e){e=e||(a=>n[a]<t);let s,i=n.length-1,r=0;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}const xf=(n,t,e,i)=>ZP(n,e,i?r=>{const s=n[r][t];return s<e||s===e&&n[r+1][t]===e}:r=>n[r][t]<e),eJ=(n,t,e)=>ZP(n,e,i=>n[i][t]>=e),xU=["push","pop","shift","splice","unshift"];function DU(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),!(i.length>0)&&(xU.forEach(s=>{delete n[s]}),delete n._chartjs)}function SU(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const EU=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function MU(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,EU.call(window,()=>{i=!1,n.apply(t,e)}))}}const KP=n=>"start"===n?"left":"end"===n?"right":"center",_o=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function AU(n,t,e){const i=t.length;let r=0,s=i;if(n._sorted){const{iScale:a,_parsed:u}=n,h=a.axis,{min:p,max:v,minDefined:w,maxDefined:O}=a.getUserBounds();w&&(r=Rs(Math.min(xf(u,h,p).lo,e?i:xf(t,h,a.getPixelForValue(p)).lo),0,i-1)),s=O?Rs(Math.max(xf(u,a.axis,v,!0).hi+1,e?0:xf(t,h,a.getPixelForValue(v),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function TU(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}const QT=n=>0===n||1===n,IU=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*rr/e),kU=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*rr/e)+1,vD={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*jr),easeOutSine:n=>Math.sin(n*jr),easeInOutSine:n=>-.5*(Math.cos(ir*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>QT(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>QT(n)?n:IU(n,.075,.3),easeOutElastic:n=>QT(n)?n:kU(n,.075,.3),easeInOutElastic:n=>QT(n)?n:n<.5?.5*IU(2*n,.1125,.45):.5+.5*kU(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-vD.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*vD.easeInBounce(2*n):.5*vD.easeOutBounce(2*n-1)+.5};function XP(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function RU(n){return XP(n)?n:new s0(n)}function QP(n){return XP(n)?n:new s0(n).saturate(.5).darken(.1).hexString()}const sJ=["x","y","borderWidth","radius","tension"],oJ=["color","borderColor","backgroundColor"],OU=new Map;function bD(n,t,e){return function cJ(n,t){t=t||{};const e=n+JSON.stringify(t);let i=OU.get(e);return i||(i=new Intl.NumberFormat(n,t),OU.set(e,i)),i}(t,e).format(n)}const PU={values:n=>nr(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const i=this.chart.options.locale;let r,s=n;if(e.length>1){const p=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(p<1e-4||p>1e15)&&(r="scientific"),s=function uJ(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const a=vm(Math.abs(s)),u=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),h={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),bD(n,i,h)},logarithmic(n,t,e){if(0===n)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(vm(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?PU.numeric.call(this,n,t,e):""}};var JT={formatters:PU};const W_=Object.create(null),JP=Object.create(null);function wD(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function eF(n,t,e){return"string"==typeof t?pD(wD(n,t),e):pD(wD(n,""),t)}class hJ{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>QP(r.backgroundColor),this.hoverBorderColor=(i,r)=>QP(r.borderColor),this.hoverColor=(i,r)=>QP(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return eF(this,t,e)}get(t){return wD(this,t)}describe(t,e){return eF(JP,t,e)}override(t,e){return eF(W_,t,e)}route(t,e,i,r){const s=wD(this,t),a=wD(this,i),u="_"+e;Object.defineProperties(s,{[u]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[u],p=a[r];return si(h)?Object.assign({},p,h):jn(h,p)},set(h){this[u]=h}}})}apply(t){t.forEach(e=>e(this))}}var br=new hJ({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function aJ(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),n.set("animations",{colors:{type:"color",properties:oJ},numbers:{type:"number",properties:sJ}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function lJ(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function dJ(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:JT.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function eI(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function pJ(n,t,e,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let a=0;const u=e.length;let h,p,v,w,O;for(h=0;h<u;h++)if(w=e[h],null==w||nr(w)){if(nr(w))for(p=0,v=w.length;p<v;p++)O=w[p],null!=O&&!nr(O)&&(a=eI(n,r,s,a,O))}else a=eI(n,r,s,a,w);n.restore();const Y=s.length/2;if(Y>e.length){for(h=0;h<Y;h++)delete r[s[h]];s.splice(0,Y)}return a}function Y_(n,t,e){const i=n.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function FU(n,t){(t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function tF(n,t,e,i){LU(n,t,e,i,null)}function LU(n,t,e,i,r){let s,a,u,h,p,v,w,O;const Y=t.pointStyle,he=t.rotation,_e=t.radius;let ke=(he||0)*ZQ;if(Y&&"object"==typeof Y&&(s=Y.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(e,i),n.rotate(ke),n.drawImage(Y,-Y.width/2,-Y.height/2,Y.width,Y.height),void n.restore();if(!(isNaN(_e)||_e<=0)){switch(n.beginPath(),Y){default:r?n.ellipse(e,i,r/2,_e,0,0,rr):n.arc(e,i,_e,0,rr),n.closePath();break;case"triangle":v=r?r/2:_e,n.moveTo(e+Math.sin(ke)*v,i-Math.cos(ke)*_e),ke+=yU,n.lineTo(e+Math.sin(ke)*v,i-Math.cos(ke)*_e),ke+=yU,n.lineTo(e+Math.sin(ke)*v,i-Math.cos(ke)*_e),n.closePath();break;case"rectRounded":p=.516*_e,h=_e-p,a=Math.cos(ke+$_)*h,w=Math.cos(ke+$_)*(r?r/2-p:h),u=Math.sin(ke+$_)*h,O=Math.sin(ke+$_)*(r?r/2-p:h),n.arc(e-w,i-u,p,ke-ir,ke-jr),n.arc(e+O,i-a,p,ke-jr,ke),n.arc(e+w,i+u,p,ke,ke+jr),n.arc(e-O,i+a,p,ke+jr,ke+ir),n.closePath();break;case"rect":if(!he){h=Math.SQRT1_2*_e,v=r?r/2:h,n.rect(e-v,i-h,2*v,2*h);break}ke+=$_;case"rectRot":w=Math.cos(ke)*(r?r/2:_e),a=Math.cos(ke)*_e,u=Math.sin(ke)*_e,O=Math.sin(ke)*(r?r/2:_e),n.moveTo(e-w,i-u),n.lineTo(e+O,i-a),n.lineTo(e+w,i+u),n.lineTo(e-O,i+a),n.closePath();break;case"crossRot":ke+=$_;case"cross":w=Math.cos(ke)*(r?r/2:_e),a=Math.cos(ke)*_e,u=Math.sin(ke)*_e,O=Math.sin(ke)*(r?r/2:_e),n.moveTo(e-w,i-u),n.lineTo(e+w,i+u),n.moveTo(e+O,i-a),n.lineTo(e-O,i+a);break;case"star":w=Math.cos(ke)*(r?r/2:_e),a=Math.cos(ke)*_e,u=Math.sin(ke)*_e,O=Math.sin(ke)*(r?r/2:_e),n.moveTo(e-w,i-u),n.lineTo(e+w,i+u),n.moveTo(e+O,i-a),n.lineTo(e-O,i+a),ke+=$_,w=Math.cos(ke)*(r?r/2:_e),a=Math.cos(ke)*_e,u=Math.sin(ke)*_e,O=Math.sin(ke)*(r?r/2:_e),n.moveTo(e-w,i-u),n.lineTo(e+w,i+u),n.moveTo(e+O,i-a),n.lineTo(e-O,i+a);break;case"line":a=r?r/2:Math.cos(ke)*_e,u=Math.sin(ke)*_e,n.moveTo(e-a,i-u),n.lineTo(e+a,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(ke)*(r?r/2:_e),i+Math.sin(ke)*_e);break;case!1:n.closePath()}n.fill(),t.borderWidth>0&&n.stroke()}}function Df(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function tI(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function nI(n){n.restore()}function mJ(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if("middle"===r){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else"after"===r!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function gJ(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function yJ(n,t,e,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),a=t-s.actualBoundingBoxLeft,u=t+s.actualBoundingBoxRight,h=e-s.actualBoundingBoxAscent,p=e+s.actualBoundingBoxDescent,v=r.strikethrough?(h+p)/2:p;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(a,v),n.lineTo(u,v),n.stroke()}}function vJ(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function q_(n,t,e,i,r,s={}){const a=nr(t)?t:[t],u=s.strokeWidth>0&&""!==s.strokeColor;let h,p;for(n.save(),n.font=r.string,function _J(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),hi(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,s),h=0;h<a.length;++h)p=a[h],s.backdrop&&vJ(n,s.backdrop),u&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),hi(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(p,e,i,s.maxWidth)),n.fillText(p,e,i,s.maxWidth),yJ(n,e,i,p,s),i+=Number(r.lineHeight);n.restore()}function CD(n,t){const{x:e,y:i,w:r,h:s,radius:a}=t;n.arc(e+a.topLeft,i+a.topLeft,a.topLeft,1.5*ir,ir,!0),n.lineTo(e,i+s-a.bottomLeft),n.arc(e+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,ir,jr,!0),n.lineTo(e+r-a.bottomRight,i+s),n.arc(e+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,jr,0,!0),n.lineTo(e+r,i+a.topRight),n.arc(e+r-a.topRight,i+a.topRight,a.topRight,0,-jr,!0),n.lineTo(e+a.topLeft,i)}const bJ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,wJ=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function CJ(n,t){const e=(""+n).match(bJ);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const xJ=n=>+n||0;function nF(n,t){const e={},i=si(t),r=i?Object.keys(t):t,s=si(n)?i?a=>jn(n[a],n[t[a]]):a=>n[a]:()=>n;for(const a of r)e[a]=xJ(s(a));return e}function NU(n){return nF(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Z_(n){return nF(n,["topLeft","topRight","bottomLeft","bottomRight"])}function yo(n){const t=NU(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function fs(n,t){let e=jn((n=n||{}).size,(t=t||br.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=jn(n.style,t.style);i&&!(""+i).match(wJ)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:jn(n.family,t.family),lineHeight:CJ(jn(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:jn(n.weight,t.weight),string:""};return r.string=function fJ(n){return!n||hi(n.size)||hi(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function xD(n,t,e,i){let s,a,u,r=!0;for(s=0,a=n.length;s<a;++s)if(u=n[s],void 0!==u&&(void 0!==t&&"function"==typeof u&&(u=u(t),r=!1),void 0!==e&&nr(u)&&(u=u[e%u.length],r=!1),void 0!==u))return i&&!r&&(i.cacheable=!1),u}function bm(n,t){return Object.assign(Object.create(n),t)}function iF(n,t=[""],e,i,r=(()=>n[0])){const s=e||n;typeof i>"u"&&(i=UU("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:u=>iF([u,...n],t,s,i)};return new Proxy(a,{deleteProperty:(u,h)=>(delete u[h],delete u._keys,delete n[0][h],!0),get:(u,h)=>VU(u,h,()=>function RJ(n,t,e,i){let r;for(const s of t)if(r=UU(SJ(s,n),e),typeof r<"u")return rF(n,r)?sF(e,i,n,r):r}(h,t,n,u)),getOwnPropertyDescriptor:(u,h)=>Reflect.getOwnPropertyDescriptor(u._scopes[0],h),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(u,h)=>zU(u).includes(h),ownKeys:u=>zU(u),set(u,h,p){const v=u._storage||(u._storage=r());return u[h]=v[h]=p,delete u._keys,!0}})}function a0(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:BU(n,i),setContext:s=>a0(n,s,e,i),override:s=>a0(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty:(s,a)=>(delete s[a],delete n[a],!0),get:(s,a,u)=>VU(s,a,()=>function EJ(n,t,e){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=n;let u=i[t];return ym(u)&&a.isScriptable(t)&&(u=function MJ(n,t,e,i){const{_proxy:r,_context:s,_subProxy:a,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=t(s,a||i);return u.delete(n),rF(n,h)&&(h=sF(r._scopes,r,n,h)),h}(t,u,n,e)),nr(u)&&u.length&&(u=function AJ(n,t,e,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:u}=e;if(typeof s.index<"u"&&i(n))return t[s.index%t.length];if(si(t[0])){const h=t,p=r._scopes.filter(v=>v!==h);t=[];for(const v of h){const w=sF(p,r,n,v);t.push(a0(w,s,a&&a[n],u))}}return t}(t,u,n,a.isIndexable)),rF(t,u)&&(u=a0(u,r,s&&s[t],a)),u}(s,a,u)),getOwnPropertyDescriptor:(s,a)=>s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,a)=>Reflect.has(n,a),ownKeys:()=>Reflect.ownKeys(n),set:(s,a,u)=>(n[a]=u,delete s[a],!0)})}function BU(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:ym(e)?e:()=>e,isIndexable:ym(i)?i:()=>i}}const SJ=(n,t)=>n?n+WP(t):t,rF=(n,t)=>si(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function VU(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];const i=e();return n[t]=i,i}function HU(n,t,e){return ym(n)?n(t,e):n}const TJ=(n,t)=>!0===n?t:"string"==typeof n?_m(t,n):void 0;function IJ(n,t,e,i,r){for(const s of t){const a=TJ(e,s);if(a){n.add(a);const u=HU(a._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(!1===a&&typeof i<"u"&&e!==i)return null}return!1}function sF(n,t,e,i){const r=t._rootScopes,s=HU(t._fallback,e,i),a=[...n,...r],u=new Set;u.add(i);let h=jU(u,a,e,s||e,i);return!(null===h||typeof s<"u"&&s!==e&&(h=jU(u,a,s,h,i),null===h))&&iF(Array.from(u),[""],r,s,()=>function kJ(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return nr(r)&&si(e)?e:r||{}}(t,e,i))}function jU(n,t,e,i,r){for(;e;)e=IJ(n,t,e,i,r);return e}function UU(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function zU(n){let t=n._keys;return t||(t=n._keys=function OJ(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}(n._scopes)),t}function GU(n,t,e,i){const{iScale:r}=n,{key:s="r"}=this._parsing,a=new Array(i);let u,h,p,v;for(u=0,h=i;u<h;++u)p=u+e,v=t[p],a[u]={r:r.parse(_m(v,s),p)};return a}const PJ=Number.EPSILON||1e-14,l0=(n,t)=>t<n.length&&!n[t].skip&&n[t],$U=n=>"x"===n?"y":"x";function FJ(n,t,e,i){const r=n.skip?t:n,s=t,a=e.skip?t:e,u=qP(s,r),h=qP(a,s);let p=u/(u+h),v=h/(u+h);p=isNaN(p)?0:p,v=isNaN(v)?0:v;const w=i*p,O=i*v;return{previous:{x:s.x-w*(a.x-r.x),y:s.y-w*(a.y-r.y)},next:{x:s.x+O*(a.x-r.x),y:s.y+O*(a.y-r.y)}}}function iI(n,t,e){return Math.max(Math.min(n,e),t)}function HJ(n,t,e,i,r){let s,a,u,h;if(t.spanGaps&&(n=n.filter(p=>!p.skip)),"monotone"===t.cubicInterpolationMode)!function BJ(n,t="x"){const e=$U(t),i=n.length,r=Array(i).fill(0),s=Array(i);let a,u,h,p=l0(n,0);for(a=0;a<i;++a)if(u=h,h=p,p=l0(n,a+1),h){if(p){const v=p[t]-h[t];r[a]=0!==v?(p[e]-h[e])/v:0}s[a]=u?p?yd(r[a-1])!==yd(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}(function LJ(n,t,e){const i=n.length;let r,s,a,u,h,p=l0(n,0);for(let v=0;v<i-1;++v)if(h=p,p=l0(n,v+1),h&&p){if(_D(t[v],0,PJ)){e[v]=e[v+1]=0;continue}r=e[v]/t[v],s=e[v+1]/t[v],u=Math.pow(r,2)+Math.pow(s,2),!(u<=9)&&(a=3/Math.sqrt(u),e[v]=r*a*t[v],e[v+1]=s*a*t[v])}})(n,r,s),function NJ(n,t,e="x"){const i=$U(e),r=n.length;let s,a,u,h=l0(n,0);for(let p=0;p<r;++p){if(a=u,u=h,h=l0(n,p+1),!u)continue;const v=u[e],w=u[i];a&&(s=(v-a[e])/3,u[`cp1${e}`]=v-s,u[`cp1${i}`]=w-s*t[p]),h&&(s=(h[e]-v)/3,u[`cp2${e}`]=v+s,u[`cp2${i}`]=w+s*t[p])}}(n,s,t)}(n,r);else{let p=i?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)u=n[s],h=FJ(p,u,n[Math.min(s+1,a-(i?0:1))%a],t.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,p=u}t.capBezierPoints&&function VJ(n,t){let e,i,r,s,a,u=Df(n[0],t);for(e=0,i=n.length;e<i;++e)a=s,s=u,u=e<i-1&&Df(n[e+1],t),s&&(r=n[e],a&&(r.cp1x=iI(r.cp1x,t.left,t.right),r.cp1y=iI(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=iI(r.cp2x,t.left,t.right),r.cp2y=iI(r.cp2y,t.top,t.bottom)))}(n,e)}function WU(){return typeof window<"u"&&typeof document<"u"}function oF(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function rI(n,t,e){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*t.parentNode[e])):i=n,i}const sI=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),UJ=["top","right","bottom","left"];function K_(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const s=UJ[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function X_(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=sI(e),s="border-box"===r.boxSizing,a=K_(r,"padding"),u=K_(r,"border","width"),{x:h,y:p,box:v}=function GJ(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:s}=i;let u,h,a=!1;if(((n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot))(r,s,n.target))u=r,h=s;else{const p=t.getBoundingClientRect();u=i.clientX-p.left,h=i.clientY-p.top,a=!0}return{x:u,y:h,box:a}}(n,e),w=a.left+(v&&u.left),O=a.top+(v&&u.top);let{width:Y,height:he}=t;return s&&(Y-=a.width+u.width,he-=a.height+u.height),{x:Math.round((h-w)/Y*e.width/i),y:Math.round((p-O)/he*e.height/i)}}const oI=n=>Math.round(10*n)/10;function YU(n,t,e){const i=t||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||a.height!==r||a.width!==s)&&(n.currentDevicePixelRatio=i,a.height=r,a.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0)}const YJ=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return n}();function qU(n,t){const e=function jJ(n,t){return sI(n).getPropertyValue(t)}(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Q_(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function qJ(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:"middle"===i?e<.5?n.y:t.y:"after"===i?e<1?n.y:t.y:e>0?t.y:n.y}}function ZJ(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},a=Q_(n,r,e),u=Q_(r,s,e),h=Q_(s,t,e),p=Q_(a,u,e),v=Q_(u,h,e);return Q_(p,v,e)}function c0(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function ZU(n,t){let e,i;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function KU(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function XU(n){return"angle"===n?{between:yD,compare:QQ,normalize:za}:{between:Cf,compare:(t,e)=>t-e,normalize:t=>t}}function QU({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:r}}function JU(n,t,e){if(!e)return[n];const{property:i,start:r,end:s}=e,a=t.length,{compare:u,between:h,normalize:p}=XU(i),{start:v,end:w,loop:O,style:Y}=function QJ(n,t,e){const{property:i,start:r,end:s}=e,{between:a,normalize:u}=XU(i),h=t.length;let O,Y,{start:p,end:v,loop:w}=n;if(w){for(p+=h,v+=h,O=0,Y=h;O<Y&&a(u(t[p%h][i]),r,s);++O)p--,v--;p%=h,v%=h}return v<p&&(v+=h),{start:p,end:v,loop:w,style:n.style}}(n,t,e),he=[];let We,Je,ct,_e=!1,ke=null;for(let Vt=v,un=v;Vt<=w;++Vt)Je=t[Vt%a],!Je.skip&&(We=p(Je[i]),We!==ct&&(_e=h(We,r,s),null===ke&&(_e||h(r,ct,We)&&0!==u(r,ct))&&(ke=0===u(We,r)?Vt:un),null!==ke&&(!_e||0===u(s,We)||h(s,ct,We))&&(he.push(QU({start:ke,end:Vt,loop:O,count:a,style:Y})),ke=null),un=Vt,ct=We));return null!==ke&&he.push(QU({start:ke,end:w,loop:O,count:a,style:Y})),he}function ez(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const s=JU(i[r],n.points,t);s.length&&e.push(...s)}return e}function nz(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function iee(n,t){if(!t)return!1;const e=[],i=function(r,s){return XP(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(t,i)}class ree{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const a=e.duration;e.listeners[r].forEach(u=>u({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(i-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=EU.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let h,a=s.length-1,u=!1;for(;a>=0;--a)h=s[a],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),u=!0):(s[a]=s[s.length-1],s.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Sf=new ree;const iz="transparent",see={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const i=RU(n||iz),r=i.valid&&RU(t||iz);return r&&r.valid?r.mix(i,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class oee{constructor(t,e,i,r){const s=e[i];r=xD([t.to,r,s,t.from]);const a=xD([t.from,s,r]);this._active=!0,this._fn=t.fn||see[t.type||typeof a],this._easing=vD[t.easing]||vD.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=xD([t.to,e,r,t.from]),this._from=xD([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,u=this._to;let h;if(this._active=s!==u&&(a||e<i),!this._active)return this._target[r]=u,void this._notify(!0);e<0?this._target[r]=s:(h=e/i%2,h=a&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(s,u,h))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class rz{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!si(t))return;const e=Object.keys(br.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!si(s))return;const a={};for(const u of e)a[u]=s[u];(nr(s.properties)&&s.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,a)})})}_animateOptions(t,e){const i=e.options,r=function lee(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&function aee(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),a=Object.keys(e),u=Date.now();let h;for(h=a.length-1;h>=0;--h){const p=a[h];if("$"===p.charAt(0))continue;if("options"===p){r.push(...this._animateOptions(t,e));continue}const v=e[p];let w=s[p];const O=i.get(p);if(w){if(O&&w.active()){w.update(O,v,u);continue}w.cancel()}O&&O.duration?(s[p]=w=new oee(O,t,p,v),r.push(w)):t[p]=v}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(Sf.add(this._chart,i),!0):void 0}}function sz(n,t){const e=n&&n.options||{},i=e.reverse,r=void 0===e.min?t:0,s=void 0===e.max?t:0;return{start:i?s:r,end:i?r:s}}function oz(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function az(n,t,e,i={}){const r=n.keys,s="single"===i.mode;let a,u,h,p;if(null!==t){for(a=0,u=r.length;a<u;++a){if(h=+r[a],h===e){if(i.all)continue;break}p=n.values[h],Or(p)&&(s||0===t||yd(t)===yd(p))&&(t+=p)}return t}}function lz(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function pee(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function cz(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function uz(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:a,index:u}=i,h=s.axis,p=a.axis,v=function hee(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(s,a,i),w=t.length;let O;for(let Y=0;Y<w;++Y){const he=t[Y],{[h]:_e,[p]:ke}=he;O=(he._stacks||(he._stacks={}))[p]=pee(r,v,_e),O[u]=ke,O._top=cz(O,a,!0,i.type),O._bottom=cz(O,a,!1,i.type),(O._visualValues||(O._visualValues={}))[u]=ke}}function aF(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function DD(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const s=r._stacks;if(!s||void 0===s[i]||void 0===s[i][e])return;delete s[i][e],void 0!==s[i]._visualValues&&void 0!==s[i]._visualValues[e]&&delete s[i]._visualValues[e]}}}const lF=n=>"reset"===n||"none"===n,dz=(n,t)=>t?n:Object.assign({},n);class Hc{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=lz(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&DD(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(w,O,Y,he)=>"x"===w?O:"r"===w?he:Y,s=e.xAxisID=jn(i.xAxisID,aF(t,"x")),a=e.yAxisID=jn(i.yAxisID,aF(t,"y")),u=e.rAxisID=jn(i.rAxisID,aF(t,"r")),h=e.indexAxis,p=e.iAxisID=r(h,s,a,u),v=e.vAxisID=r(h,a,s,u);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(a),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(p),e.vScale=this.getScaleForId(v)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&DU(this._data,this),t._stacked&&DD(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(si(e))this._data=function dee(n){const t=Object.keys(n),e=new Array(t.length);let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],e[i]={x:s,y:n[s]};return e}(e);else if(i!==e){if(i){DU(i,this);const r=this._cachedMeta;DD(r),r._parsed=[]}e&&Object.isExtensible(e)&&function nJ(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),xU.forEach(e=>{const i="_onData"+WP(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return n._chartjs.listeners.forEach(u=>{"function"==typeof u[i]&&u[i](...s)}),a}})}))}(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=e._stacked;e._stacked=lz(e.vScale,e),e.stack!==i.stack&&(r=!0,DD(e),e.stack=i.stack),this._resyncElements(t),(r||s!==e._stacked)&&uz(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:a}=i,u=s.axis;let v,w,O,h=0===t&&e===r.length||i._sorted,p=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=r,i._sorted=!0,O=r;else{O=nr(r[t])?this.parseArrayData(i,r,t,e):si(r[t])?this.parseObjectData(i,r,t,e):this.parsePrimitiveData(i,r,t,e);const Y=()=>null===w[u]||p&&w[u]<p[u];for(v=0;v<e;++v)i._parsed[v+t]=w=O[v],h&&(Y()&&(h=!1),p=w);i._sorted=h}a&&uz(this,O)}parsePrimitiveData(t,e,i,r){const{iScale:s,vScale:a}=t,u=s.axis,h=a.axis,p=s.getLabels(),v=s===a,w=new Array(r);let O,Y,he;for(O=0,Y=r;O<Y;++O)he=O+i,w[O]={[u]:v||s.parse(p[he],he),[h]:a.parse(e[he],he)};return w}parseArrayData(t,e,i,r){const{xScale:s,yScale:a}=t,u=new Array(r);let h,p,v,w;for(h=0,p=r;h<p;++h)v=h+i,w=e[v],u[h]={x:s.parse(w[0],v),y:a.parse(w[1],v)};return u}parseObjectData(t,e,i,r){const{xScale:s,yScale:a}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,p=new Array(r);let v,w,O,Y;for(v=0,w=r;v<w;++v)O=v+i,Y=e[O],p[v]={x:s.parse(_m(Y,u),O),y:a.parse(_m(Y,h),O)};return p}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this._cachedMeta,a=e[t.axis];return az({keys:oz(this.chart,!0),values:e._stacks[t.axis]._visualValues},a,s.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const s=i[e.axis];let a=null===s?NaN:s;const u=r&&i._stacks[e.axis];r&&u&&(r.values=u,a=az(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,a=r.length,u=this._getOtherScale(t),h=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:oz(this.chart,!0),values:null})(e,i),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:v,max:w}=function fee(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(u);let O,Y;function he(){Y=r[O];const _e=Y[u.axis];return!Or(Y[t.axis])||v>_e||w<_e}for(O=0;O<a&&(he()||(this.updateRangeFromParsed(p,t,Y,h),!s));++O);if(s)for(O=a-1;O>=0;--O)if(!he()){this.updateRangeFromParsed(p,t,Y,h);break}return p}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,s,a;for(r=0,s=e.length;r<s;++r)a=e[r][t.axis],Or(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function uee(n){let t,e,i,r;return si(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:!1===n}}(jn(this.options.clip,function cee(n,t,e){if(!1===e)return!1;const i=sz(n,e),r=sz(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,i=this._cachedMeta,r=i.data||[],s=this.chart.chartArea,a=[],u=this._drawStart||0,h=this._drawCount||r.length-u,p=this.options.drawActiveElementsOnTop;let v;for(i.dataset&&i.dataset.draw(t,s,u,h),v=u;v<u+h;++v){const w=r[v];w.hidden||(w.active&&p?a.push(w):w.draw(t,s))}for(v=0;v<a.length;++v)a[v].draw(t,s)}getStyle(t,e){const i=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];s=a.$context||(a.$context=function gee(n,t,e){return bm(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),t,a)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=function mee(n,t){return bm(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r="active"===e,s=this._cachedDataOpts,a=t+"-"+e,u=s[a],h=this.enableOptionSharing&&gD(i);if(u)return dz(u,h);const p=this.chart.config,v=p.datasetElementScopeKeys(this._type,t),w=r?[`${t}Hover`,"hover",t,""]:[t,""],O=p.getOptionScopes(this.getDataset(),v),Y=Object.keys(br.elements[t]),_e=p.resolveNamedOptions(O,Y,()=>this.getContext(i,r,e),w);return _e.$shared&&(_e.$shared=h,s[a]=Object.freeze(dz(_e,h))),_e}_resolveAnimations(t,e,i){const r=this.chart,s=this._cachedDataOpts,a=`animation-${e}`,u=s[a];if(u)return u;let h;if(!1!==r.options.animation){const v=this.chart.config,w=v.datasetAnimationScopeKeys(this._type,e),O=v.getOptionScopes(this.getDataset(),w);h=v.createResolver(O,this.getContext(t,i,e))}const p=new rz(r,h&&h.animations);return h&&h._cacheable&&(s[a]=Object.freeze(p)),p}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||lF(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(e,s)||s!==r;return this.updateSharedOptions(s,e,i),{sharedOptions:s,includeOptions:a}}updateElement(t,e,i,r){lF(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!lF(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const s=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,h,p]of this._syncList)this[u](h,p);this._syncList=[];const r=i.length,s=e.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,e,i=!0){const r=this._cachedMeta,s=r.data,a=t+e;let u;const h=p=>{for(p.length+=e,u=p.length-1;u>=a;u--)p[u]=p[u-e]};for(h(s),u=t;u<a;++u)s[u]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(t,e),i&&this.updateElements(s,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&DD(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function vee(n){const t=n.iScale,e=function yee(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=SU(i.sort((r,s)=>r-s))}return n._cache.$bar}(t,n.type);let r,s,a,u,i=t._length;const h=()=>{32767===a||-32768===a||(gD(u)&&(i=Math.min(i,Math.abs(a-u)||i)),u=a)};for(r=0,s=e.length;r<s;++r)a=t.getPixelForValue(e[r]),h();for(u=void 0,r=0,s=t.ticks.length;r<s;++r)a=t.getPixelForTick(r),h();return i}function hz(n,t,e,i){return nr(n)?function Cee(n,t,e,i){const r=e.parse(n[0],i),s=e.parse(n[1],i),a=Math.min(r,s),u=Math.max(r,s);let h=a,p=u;Math.abs(a)>Math.abs(u)&&(h=u,p=a),t[e.axis]=p,t._custom={barStart:h,barEnd:p,start:r,end:s,min:a,max:u}}(n,t,e,i):t[e.axis]=e.parse(n,i),t}function fz(n,t,e,i){const r=n.iScale,s=n.vScale,a=r.getLabels(),u=r===s,h=[];let p,v,w,O;for(p=e,v=e+i;p<v;++p)O=t[p],w={},w[r.axis]=u||r.parse(a[p],p),h.push(hz(O,w,s,p));return h}function cF(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function See(n,t,e,i){let r=t.borderSkipped;const s={};if(!r)return void(n.borderSkipped=s);if(!0===r)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:u,reverse:h,top:p,bottom:v}=function Dee(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}(n);"middle"===r&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=p:(e._bottom||0)===i?r=v:(s[pz(v,a,u,h)]=!0,r=p)),s[pz(r,a,u,h)]=!0,n.borderSkipped=s}function pz(n,t,e,i){return i?(n=function Eee(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=mz(n,e,t)):n=mz(n,t,e),n}function mz(n,t,e){return"start"===n?t:"end"===n?e:n}function Mee(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}Kt(Hc,"defaults",{}),Kt(Hc,"datasetElementType",null),Kt(Hc,"dataElementType",null);class aI extends Hc{parsePrimitiveData(t,e,i,r){return fz(t,e,i,r)}parseArrayData(t,e,i,r){return fz(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:s,vScale:a}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,p="x"===s.axis?u:h,v="x"===a.axis?u:h,w=[];let O,Y,he,_e;for(O=i,Y=i+r;O<Y;++O)_e=e[O],he={},he[s.axis]=s.parse(_m(_e,p),O),w.push(hz(_m(_e,v),he,a,O));return w}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const s=i._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,s=this.getParsed(t),a=s._custom,u=cF(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const s="reset"===r,{index:a,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),p=u.isHorizontal(),v=this._getRuler(),{sharedOptions:w,includeOptions:O}=this._getSharedOptions(e,r);for(let Y=e;Y<e+i;Y++){const he=this.getParsed(Y),_e=s||hi(he[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(Y),ke=this._calculateBarIndexPixels(Y,v),We=(he._stacks||{})[u.axis],Je={horizontal:p,base:_e.base,enableBorderRadius:!We||cF(he._custom)||a===We._top||a===We._bottom,x:p?_e.head:ke.center,y:p?ke.center:_e.head,height:p?ke.size:Math.abs(_e.size),width:p?Math.abs(_e.size):ke.size};O&&(Je.options=w||this.resolveDataElementOptions(Y,t[Y].active?"active":r));const ct=Je.options||t[Y].options;See(Je,ct,We,a),Mee(Je,ct,v.ratio),this.updateElement(t[Y],Y,Je,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=i.options.stacked,a=[],u=h=>{const p=h.controller.getParsed(e),v=p&&p[h.vScale.axis];if(hi(v)||isNaN(v))return!0};for(const h of r)if((void 0===e||!u(h))&&((!1===s||-1===a.indexOf(h.stack)||void 0===s&&void 0===h.stack)&&a.push(h.stack),h.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const r=this._getStacks(t,i),s=void 0!==e?r.indexOf(e):-1;return-1===s?r.length-1:s}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let s,a;for(s=0,a=e.data.length;s<a;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const u=t.barThickness;return{min:u||vee(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:s,minBarLength:a}}=this,u=s||0,h=this.getParsed(t),p=h._custom,v=cF(p);let he,_e,w=h[e.axis],O=0,Y=i?this.applyStack(e,h,i):w;Y!==w&&(O=Y-w,Y=w),v&&(w=p.barStart,Y=p.barEnd-p.barStart,0!==w&&yd(w)!==yd(p.barEnd)&&(O=0),O+=w);const ke=hi(s)||v?O:s;let We=e.getPixelForValue(ke);if(he=this.chart.getDataVisibility(t)?e.getPixelForValue(O+Y):We,_e=he-We,Math.abs(_e)<a){_e=function xee(n,t,e){return 0!==n?yd(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(_e,e,u)*a,w===u&&(We-=_e/2);const Je=e.getPixelForDecimal(0),ct=e.getPixelForDecimal(1),ht=Math.min(Je,ct),ft=Math.max(Je,ct);We=Math.max(Math.min(We,ft),ht),he=We+_e,i&&!v&&(h._stacks[e.axis]._visualValues[r]=e.getValueForPixel(he)-e.getValueForPixel(We))}if(We===e.getPixelForValue(u)){const Je=yd(_e)*e.getLineWidthForValue(u)/2;We+=Je,_e-=Je}return{size:_e,base:We,head:he,center:he+_e/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,s=r.skipNull,a=jn(r.maxBarThickness,1/0);let u,h;if(e.grouped){const p=s?this._getStackCount(t):e.stackCount,v="flex"===r.barThickness?function wee(n,t,e,i){const r=t.pixels,s=r[n];let a=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const h=e.categoryPercentage;null===a&&(a=s-(null===u?t.end-t.start:u-s)),null===u&&(u=s+s-a);const p=s-(s-Math.min(a,u))/2*h;return{chunk:Math.abs(u-a)/2*h/i,ratio:e.barPercentage,start:p}}(t,e,r,p):function bee(n,t,e,i){const r=e.barThickness;let s,a;return hi(r)?(s=t.min*e.categoryPercentage,a=e.barPercentage):(s=r*i,a=1),{chunk:s/i,ratio:a,start:t.pixels[n]-s/2}}(t,e,r,p),w=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);u=v.start+v.chunk*w+v.chunk/2,h=Math.min(a,v.chunk*v.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(a,e.min*e.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)null!==this.getParsed(s)[e.axis]&&i[s].draw(this._ctx)}}Kt(aI,"id","bar"),Kt(aI,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Kt(aI,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class lI extends Hc{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,r){const s=super.parsePrimitiveData(t,e,i,r);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+i).radius;return s}parseArrayData(t,e,i,r){const s=super.parseArrayData(t,e,i,r);for(let a=0;a<s.length;a++)s[a]._custom=jn(e[i+a][2],this.resolveDataElementOptions(a+i).radius);return s}parseObjectData(t,e,i,r){const s=super.parseObjectData(t,e,i,r);for(let a=0;a<s.length;a++){const u=e[i+a];s[a]._custom=jn(u&&u.r&&+u.r,this.resolveDataElementOptions(a+i).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=e,a=this.getParsed(t),u=r.getLabelForValue(a.x),h=s.getLabelForValue(a.y),p=a._custom;return{label:i[t]||"",value:"("+u+", "+h+(p?", "+p:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,r){const s="reset"===r,{iScale:a,vScale:u}=this._cachedMeta,{sharedOptions:h,includeOptions:p}=this._getSharedOptions(e,r),v=a.axis,w=u.axis;for(let O=e;O<e+i;O++){const Y=t[O],he=!s&&this.getParsed(O),_e={},ke=_e[v]=s?a.getPixelForDecimal(.5):a.getPixelForValue(he[v]),We=_e[w]=s?u.getBasePixel():u.getPixelForValue(he[w]);_e.skip=isNaN(ke)||isNaN(We),p&&(_e.options=h||this.resolveDataElementOptions(O,Y.active?"active":r),s&&(_e.options.radius=0)),this.updateElement(Y,O,_e,r)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return"active"!==e&&(r.radius=0),r.radius+=jn(i&&i._custom,s),r}}Kt(lI,"id","bubble"),Kt(lI,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Kt(lI,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class J_ extends Hc{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=i;else{let a,u,s=h=>+i[h];if(si(i[t])){const{key:h="value"}=this._parsing;s=p=>+_m(i[p],h)}for(a=t,u=t+e;a<u;++a)r._parsed[a]=s(a)}}_getRotation(){return Vc(this.options.rotation-90)}_getCircumference(){return Vc(this.options.circumference)}_getRotationExtents(){let t=rr,e=-rr;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),a=r._getCircumference();t=Math.min(t,s),e=Math.max(e,s+a)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-a)/2,0),h=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/t)(this.options.cutout,u),1),p=this._getRingWeight(this.index),{circumference:v,rotation:w}=this._getRotationExtents(),{ratioX:O,ratioY:Y,offsetX:he,offsetY:_e}=function Aee(n,t,e){let i=1,r=1,s=0,a=0;if(t<rr){const u=n,h=u+t,p=Math.cos(u),v=Math.sin(u),w=Math.cos(h),O=Math.sin(h),Y=(ct,ht,ft)=>yD(ct,u,h,!0)?1:Math.max(ht,ht*e,ft,ft*e),he=(ct,ht,ft)=>yD(ct,u,h,!0)?-1:Math.min(ht,ht*e,ft,ft*e),_e=Y(0,p,w),ke=Y(jr,v,O),We=he(ir,p,w),Je=he(ir+jr,v,O);i=(_e-We)/2,r=(ke-Je)/2,s=-(_e+We)/2,a=-(ke+Je)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:a}}(w,v,h),Je=Math.max(Math.min((i.width-a)/O,(i.height-a)/Y)/2,0),ct=pU(this.options.radius,Je),ft=(ct-Math.max(ct*h,0))/this._getVisibleDatasetWeightTotal();this.offsetX=he*ct,this.offsetY=_e*ct,r.total=this.calculateTotal(),this.outerRadius=ct-ft*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ft*p,0),this.updateElements(s,0,s.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===r._parsed[t]||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/rr)}updateElements(t,e,i,r){const s="reset"===r,a=this.chart,u=a.chartArea,v=(u.left+u.right)/2,w=(u.top+u.bottom)/2,O=s&&a.options.animation.animateScale,Y=O?0:this.innerRadius,he=O?0:this.outerRadius,{sharedOptions:_e,includeOptions:ke}=this._getSharedOptions(e,r);let Je,We=this._getRotation();for(Je=0;Je<e;++Je)We+=this._circumference(Je,s);for(Je=e;Je<e+i;++Je){const ct=this._circumference(Je,s),ht=t[Je],ft={x:v+this.offsetX,y:w+this.offsetY,startAngle:We,endAngle:We+ct,circumference:ct,outerRadius:he,innerRadius:Y};ke&&(ft.options=_e||this.resolveDataElementOptions(Je,ht.active?"active":r)),We+=ct,this.updateElement(ht,Je,ft,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let r,i=0;for(r=0;r<e.length;r++){const s=t._parsed[r];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?rr*(Math.abs(t)/e):0}getLabelAndValue(t){const i=this.chart,r=i.data.labels||[],s=bD(this._cachedMeta._parsed[t],i.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,s,a,u,h;if(!t)for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){a=i.getDatasetMeta(r),t=a.data,u=a.controller;break}if(!t)return 0;for(r=0,s=t.length;r<s;++r)h=u.resolveDataElementOptions(r),"inner"!==h.borderAlign&&(e=Math.max(e,h.borderWidth||0,h.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const s=this.resolveDataElementOptions(i);e=Math.max(e,s.offset||0,s.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(jn(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Kt(J_,"id","doughnut"),Kt(J_,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Kt(J_,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Kt(J_,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,a)=>{const h=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class cI extends Hc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=e,a=this.chart._animationsDisabled;let{start:u,count:h}=AU(e,r,a);this._drawStart=u,this._drawCount=h,TU(e)&&(u=0,h=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const p=this.resolveDatasetElementOptions(t);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:p},t),this.updateElements(r,u,h,t)}updateElements(t,e,i,r){const s="reset"===r,{iScale:a,vScale:u,_stacked:h,_dataset:p}=this._cachedMeta,{sharedOptions:v,includeOptions:w}=this._getSharedOptions(e,r),O=a.axis,Y=u.axis,{spanGaps:he,segment:_e}=this.options,ke=o0(he)?he:Number.POSITIVE_INFINITY,We=this.chart._animationsDisabled||s||"none"===r,Je=e+i,ct=t.length;let ht=e>0&&this.getParsed(e-1);for(let ft=0;ft<ct;++ft){const xt=t[ft],Tt=We?xt:{};if(ft<e||ft>=Je){Tt.skip=!0;continue}const Vt=this.getParsed(ft),un=hi(Vt[Y]),An=Tt[O]=a.getPixelForValue(Vt[O],ft),Un=Tt[Y]=s||un?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,Vt,h):Vt[Y],ft);Tt.skip=isNaN(An)||isNaN(Un)||un,Tt.stop=ft>0&&Math.abs(Vt[O]-ht[O])>ke,_e&&(Tt.parsed=Vt,Tt.raw=p.data[ft]),w&&(Tt.options=v||this.resolveDataElementOptions(ft,xt.active?"active":r)),We||this.updateElement(xt,ft,Tt,r),ht=Vt}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Kt(cI,"id","line"),Kt(cI,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Kt(cI,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class SD extends Hc{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const i=this.chart,r=i.data.labels||[],s=bD(this._cachedMeta._parsed[t].r,i.options.locale);return{label:r[t]||"",value:s}}parseObjectData(t,e,i,r){return GU.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<e.min&&(e.min=s),s>e.max&&(e.max=s))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),s=Math.max(r/2,0),u=(s-Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=s-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(t,e,i,r){const s="reset"===r,a=this.chart,h=a.options.animation,p=this._cachedMeta.rScale,v=p.xCenter,w=p.yCenter,O=p.getIndexAngle(0)-.5*ir;let he,Y=O;const _e=360/this.countVisibleElements();for(he=0;he<e;++he)Y+=this._computeAngle(he,r,_e);for(he=e;he<e+i;he++){const ke=t[he];let We=Y,Je=Y+this._computeAngle(he,r,_e),ct=a.getDataVisibility(he)?p.getDistanceFromCenterForValue(this.getParsed(he).r):0;Y=Je,s&&(h.animateScale&&(ct=0),h.animateRotate&&(We=Je=O));const ht={x:v,y:w,innerRadius:0,outerRadius:ct,startAngle:We,endAngle:Je,options:this.resolveDataElementOptions(he,ke.active?"active":r)};this.updateElement(ke,he,ht,r)}}countVisibleElements(){let e=0;return this._cachedMeta.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Vc(this.resolveDataElementOptions(t,e).angle||i):0}}Kt(SD,"id","polarArea"),Kt(SD,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Kt(SD,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,a)=>{const h=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class uF extends J_{}Kt(uF,"id","pie"),Kt(uF,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class uI extends Hc{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,r){return GU.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta,i=e.dataset,r=e.data||[],s=e.iScale.getLabels();if(i.points=r,"resize"!==t){const a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0),this.updateElement(i,void 0,{_loop:!0,_fullLoop:s.length===r.length,options:a},t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,i,r){const s=this._cachedMeta.rScale,a="reset"===r;for(let u=e;u<e+i;u++){const h=t[u],p=this.resolveDataElementOptions(u,h.active?"active":r),v=s.getPointPositionForValue(u,this.getParsed(u).r),w=a?s.xCenter:v.x,O=a?s.yCenter:v.y,Y={x:w,y:O,angle:v.angle,skip:isNaN(w)||isNaN(O),options:p};this.updateElement(h,u,Y,r)}}}Kt(uI,"id","radar"),Kt(uI,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Kt(uI,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class dI extends Hc{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=e,a=this.getParsed(t),u=r.getLabelForValue(a.x),h=s.getLabelForValue(a.y);return{label:i[t]||"",value:"("+u+", "+h+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,r=this.chart._animationsDisabled;let{start:s,count:a}=AU(e,i,r);if(this._drawStart=s,this._drawCount=a,TU(e)&&(s=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:h}=e;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!h._decimated,u.points=i;const p=this.resolveDatasetElementOptions(t);p.segment=this.options.segment,this.updateElement(u,void 0,{animated:!r,options:p},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,s,a,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,r){const s="reset"===r,{iScale:a,vScale:u,_stacked:h,_dataset:p}=this._cachedMeta,v=this.resolveDataElementOptions(e,r),w=this.getSharedOptions(v),O=this.includeOptions(r,w),Y=a.axis,he=u.axis,{spanGaps:_e,segment:ke}=this.options,We=o0(_e)?_e:Number.POSITIVE_INFINITY,Je=this.chart._animationsDisabled||s||"none"===r;let ct=e>0&&this.getParsed(e-1);for(let ht=e;ht<e+i;++ht){const ft=t[ht],xt=this.getParsed(ht),Tt=Je?ft:{},Vt=hi(xt[he]),un=Tt[Y]=a.getPixelForValue(xt[Y],ht),An=Tt[he]=s||Vt?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,xt,h):xt[he],ht);Tt.skip=isNaN(un)||isNaN(An)||Vt,Tt.stop=ht>0&&Math.abs(xt[Y]-ct[Y])>We,ke&&(Tt.parsed=xt,Tt.raw=p.data[ht]),O&&(Tt.options=w||this.resolveDataElementOptions(ht,ft.active?"active":r)),Je||this.updateElement(ft,ht,Tt,r),ct=xt}this.updateSharedOptions(w,r,v)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let u=0;for(let h=e.length-1;h>=0;--h)u=Math.max(u,e[h].size(this.resolveDataElementOptions(h))/2);return u>0&&u}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!e.length)return r;const s=e[0].size(this.resolveDataElementOptions(0)),a=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,s,a)/2}}Kt(dI,"id","scatter"),Kt(dI,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Kt(dI,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Tee=Object.freeze({__proto__:null,BarController:aI,BubbleController:lI,DoughnutController:J_,LineController:cI,PieController:uF,PolarAreaController:SD,RadarController:uI,ScatterController:dI});function ey(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class dF{constructor(t){Kt(this,"options"),this.options=t||{}}static override(t){Object.assign(dF.prototype,t)}init(){}formats(){return ey()}parse(){return ey()}format(){return ey()}add(){return ey()}diff(){return ey()}startOf(){return ey()}endOf(){return ey()}}var Iee__date=dF;function kee(n,t,e,i){const{controller:r,data:s,_sorted:a}=n,u=r._cachedMeta.iScale;if(u&&t===u.axis&&"r"!==t&&a&&s.length){const h=u._reversePixels?eJ:xf;if(!i)return h(s,t,e);if(r._sharedOptions){const p=s[0],v="function"==typeof p.getRange&&p.getRange(t);if(v){const w=h(s,t,e-v),O=h(s,t,e+v);return{lo:w.lo,hi:O.hi}}}}return{lo:0,hi:s.length-1}}function ED(n,t,e,i,r){const s=n.getSortedVisibleDatasetMetas(),a=e[t];for(let u=0,h=s.length;u<h;++u){const{index:p,data:v}=s[u],{lo:w,hi:O}=kee(s[u],t,a,r);for(let Y=w;Y<=O;++Y){const he=v[Y];he.skip||i(he,p,Y)}}}function hF(n,t,e,i,r){const s=[];return!r&&!n.isPointInArea(t)||ED(n,e,t,function(u,h,p){!r&&!Df(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&s.push({element:u,datasetIndex:h,index:p})},!0),s}function fF(n,t,e,i,r,s){return s||n.isPointInArea(t)?"r"!==e||i?function Pee(n,t,e,i,r,s){let a=[];const u=function Ree(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(i,r){const s=t?Math.abs(i.x-r.x):0,a=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}(e);let h=Number.POSITIVE_INFINITY;return ED(n,e,t,function p(v,w,O){const Y=v.inRange(t.x,t.y,r);if(i&&!Y)return;const he=v.getCenterPoint(r);if(!s&&!n.isPointInArea(he)&&!Y)return;const ke=u(t,he);ke<h?(a=[{element:v,datasetIndex:w,index:O}],h=ke):ke===h&&a.push({element:v,datasetIndex:w,index:O})}),a}(n,t,e,i,r,s):function Oee(n,t,e,i){let r=[];return ED(n,e,t,function s(a,u,h){const{startAngle:p,endAngle:v}=a.getProps(["startAngle","endAngle"],i),{angle:w}=CU(a,{x:t.x,y:t.y});yD(w,p,v)&&r.push({element:a,datasetIndex:u,index:h})}),r}(n,t,e,r):[]}function gz(n,t,e,i,r){const s=[],a="x"===e?"inXRange":"inYRange";let u=!1;return ED(n,e,t,(h,p,v)=>{h[a](t[e],r)&&(s.push({element:h,datasetIndex:p,index:v}),u=u||h.inRange(t.x,t.y,r))}),i&&!u?[]:s}var Fee={evaluateInteractionItems:ED,modes:{index(n,t,e,i){const r=X_(t,n),s=e.axis||"x",a=e.includeInvisible||!1,u=e.intersect?hF(n,r,s,i,a):fF(n,r,s,!1,i,a),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(p=>{const v=u[0].index,w=p.data[v];w&&!w.skip&&h.push({element:w,datasetIndex:p.index,index:v})}),h):[]},dataset(n,t,e,i){const r=X_(t,n),s=e.axis||"xy",a=e.includeInvisible||!1;let u=e.intersect?hF(n,r,s,i,a):fF(n,r,s,!1,i,a);if(u.length>0){const h=u[0].datasetIndex,p=n.getDatasetMeta(h).data;u=[];for(let v=0;v<p.length;++v)u.push({element:p[v],datasetIndex:h,index:v})}return u},point:(n,t,e,i)=>hF(n,X_(t,n),e.axis||"xy",i,e.includeInvisible||!1),nearest:(n,t,e,i)=>fF(n,X_(t,n),e.axis||"xy",e.intersect,i,e.includeInvisible||!1),x:(n,t,e,i)=>gz(n,X_(t,n),"x",e.intersect,i),y:(n,t,e,i)=>gz(n,X_(t,n),"y",e.intersect,i)}};const _z=["left","top","right","bottom"];function MD(n,t){return n.filter(e=>e.pos===t)}function yz(n,t){return n.filter(e=>-1===_z.indexOf(e.pos)&&e.box.axis===t)}function AD(n,t){return n.sort((e,i)=>{const r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function vz(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function bz(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function Hee(n,t,e,i){const{pos:r,box:s}=e,a=n.maxPadding;if(!si(r)){e.size&&(n[r]-=e.size);const w=i[e.stack]||{size:0,count:1};w.size=Math.max(w.size,e.horizontal?s.height:s.width),e.size=w.size/w.count,n[r]+=e.size}s.getPadding&&bz(a,s.getPadding());const u=Math.max(0,t.outerWidth-vz(a,n,"left","right")),h=Math.max(0,t.outerHeight-vz(a,n,"top","bottom")),p=u!==n.w,v=h!==n.h;return n.w=u,n.h=h,e.horizontal?{same:p,other:v}:{same:v,other:p}}function Uee(n,t){const e=t.maxPadding;return function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(t[a],e[a])}),s}(n?["left","right"]:["top","bottom"])}function TD(n,t,e,i){const r=[];let s,a,u,h,p,v;for(s=0,a=n.length,p=0;s<a;++s){u=n[s],h=u.box,h.update(u.width||t.w,u.height||t.h,Uee(u.horizontal,t));const{same:w,other:O}=Hee(t,e,u,i);p|=w&&r.length,v=v||O,h.fullSize||r.push(u)}return p&&TD(r,t,e,i)||v}function hI(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function wz(n,t,e,i){const r=e.padding;let{x:s,y:a}=t;for(const u of n){const h=u.box,p=i[u.stack]||{count:1,placed:0,weight:1},v=u.stackWeight/p.weight||1;if(u.horizontal){const w=t.w*v,O=p.size||h.height;gD(p.start)&&(a=p.start),h.fullSize?hI(h,r.left,a,e.outerWidth-r.right-r.left,O):hI(h,t.left+p.placed,a,w,O),p.start=a,p.placed+=w,a=h.bottom}else{const w=t.h*v,O=p.size||h.width;gD(p.start)&&(s=p.start),h.fullSize?hI(h,s,r.top,O,e.outerHeight-r.bottom-r.top):hI(h,s,t.top+p.placed,O,w),p.start=s,p.placed+=w,s=h.right}}t.x=s,t.y=a}var vo={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=yo(n.options.layout.padding),s=Math.max(t-r.width,0),a=Math.max(e-r.height,0),u=function Vee(n){const t=function Lee(n){const t=[];let e,i,r,s,a,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],({position:s,options:{stack:a,stackWeight:u=1}}=r),t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:u});return t}(n),e=AD(t.filter(p=>p.box.fullSize),!0),i=AD(MD(t,"left"),!0),r=AD(MD(t,"right")),s=AD(MD(t,"top"),!0),a=AD(MD(t,"bottom")),u=yz(t,"x"),h=yz(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(h).concat(a).concat(u),chartArea:MD(t,"chartArea"),vertical:i.concat(r).concat(h),horizontal:s.concat(a).concat(u)}}(n.boxes),h=u.vertical,p=u.horizontal;Ri(n.boxes,_e=>{"function"==typeof _e.beforeLayout&&_e.beforeLayout()});const v=h.reduce((_e,ke)=>ke.box.options&&!1===ke.box.options.display?_e:_e+1,0)||1,w=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/v,hBoxMaxHeight:a/2}),O=Object.assign({},r);bz(O,yo(i));const Y=Object.assign({maxPadding:O,w:s,h:a,x:r.left,y:r.top},r),he=function Bee(n,t){const e=function Nee(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:s}=e;if(!i||!_z.includes(r))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return t}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,a,u;for(s=0,a=n.length;s<a;++s){u=n[s];const{fullSize:h}=u.box,p=e[u.stack],v=p&&u.stackWeight/p.weight;u.horizontal?(u.width=v?v*i:h&&t.availableWidth,u.height=r):(u.width=i,u.height=v?v*r:h&&t.availableHeight)}return e}(h.concat(p),w);TD(u.fullSize,Y,w,he),TD(h,Y,w,he),TD(p,Y,w,he)&&TD(h,Y,w,he),function jee(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(Y),wz(u.leftAndTop,Y,w,he),Y.x+=Y.w,Y.y+=Y.h,wz(u.rightAndBottom,Y,w,he),n.chartArea={left:Y.left,top:Y.top,right:Y.left+Y.w,bottom:Y.top+Y.h,height:Y.h,width:Y.w},Ri(u.chartArea,_e=>{const ke=_e.box;Object.assign(ke,n.chartArea),ke.update(Y.w,Y.h,{left:0,top:0,right:0,bottom:0})})}};class Cz{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class zee extends Cz{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const fI="$chartjs",Gee={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xz=n=>null===n||""===n,Dz=!!YJ&&{passive:!0};function Yee(n,t,e){n.canvas.removeEventListener(t,e,Dz)}function pI(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function Zee(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const u of s)a=a||pI(u.addedNodes,i),a=a&&!pI(u.removedNodes,i);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function Kee(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const u of s)a=a||pI(u.removedNodes,i),a=a&&!pI(u.addedNodes,i);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const ID=new Map;let Sz=0;function Ez(){const n=window.devicePixelRatio;n!==Sz&&(Sz=n,ID.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function Jee(n,t,e){const i=n.canvas,r=i&&oF(i);if(!r)return;const s=MU((u,h)=>{const p=r.clientWidth;e(u,h),p<r.clientWidth&&e()},window),a=new ResizeObserver(u=>{const h=u[0],p=h.contentRect.width,v=h.contentRect.height;0===p&&0===v||s(p,v)});return a.observe(r),function Xee(n,t){ID.size||window.addEventListener("resize",Ez),ID.set(n,t)}(n,s),a}function pF(n,t,e){e&&e.disconnect(),"resize"===t&&function Qee(n){ID.delete(n),ID.size||window.removeEventListener("resize",Ez)}(n)}function ete(n,t,e){const i=n.canvas,r=MU(s=>{null!==n.ctx&&e(function qee(n,t){const e=Gee[n.type]||n.type,{x:i,y:r}=X_(n,t);return{type:e,chart:t,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(s,n))},n);return function Wee(n,t,e){n.addEventListener(t,e,Dz)}(i,t,r),r}class tte extends Cz{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function $ee(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[fI]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",xz(r)){const s=qU(n,"width");void 0!==s&&(n.width=s)}if(xz(i))if(""===n.style.height)n.height=n.width/(t||2);else{const s=qU(n,"height");void 0!==s&&(n.height=s)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[fI])return!1;const i=e[fI].initial;["height","width"].forEach(s=>{const a=i[s];hi(a)?e.removeAttribute(s):e.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[fI],!0}addEventListener(t,e,i){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:Zee,detach:Kee,resize:Jee}[e]||ete)(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];r&&(({attach:pF,detach:pF,resize:pF}[e]||Yee)(t,e,r),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return function WJ(n,t,e,i){const r=sI(n),s=K_(r,"margin"),a=rI(r.maxWidth,n,"clientWidth")||XT,u=rI(r.maxHeight,n,"clientHeight")||XT,h=function $J(n,t,e){let i,r;if(void 0===t||void 0===e){const s=oF(n);if(s){const a=s.getBoundingClientRect(),u=sI(s),h=K_(u,"border","width"),p=K_(u,"padding");t=a.width-p.width-h.width,e=a.height-p.height-h.height,i=rI(u.maxWidth,s,"clientWidth"),r=rI(u.maxHeight,s,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:i||XT,maxHeight:r||XT}}(n,t,e);let{width:p,height:v}=h;if("content-box"===r.boxSizing){const O=K_(r,"border","width"),Y=K_(r,"padding");p-=Y.width+O.width,v-=Y.height+O.height}return p=Math.max(0,p-s.width),v=Math.max(0,i?p/i:v-s.height),p=oI(Math.min(p,a,h.maxWidth)),v=oI(Math.min(v,u,h.maxHeight)),p&&!v&&(v=oI(p/2)),(void 0!==t||void 0!==e)&&i&&h.height&&v>h.height&&(v=h.height,p=oI(Math.floor(v*i))),{width:p,height:v}}(t,e,i,r)}isAttached(t){const e=oF(t);return!(!e||!e.isConnected)}}class jc{constructor(){Kt(this,"x"),Kt(this,"y"),Kt(this,"active",!1),Kt(this,"options"),Kt(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return o0(this.x)&&o0(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}function mI(n,t,e,i,r){const s=jn(i,0),a=Math.min(jn(r,n.length),n.length);let h,p,v,u=0;for(e=Math.ceil(e),r&&(h=r-i,e=h/Math.floor(h/e)),v=s;v<0;)u++,v=Math.round(s+u*e);for(p=Math.max(s,0);p<a;p++)p===v&&(t.push(n[p]),u++,v=Math.round(s+u*e))}Kt(jc,"defaults",{}),Kt(jc,"defaultRoutes");const Mz=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e,Az=(n,t)=>Math.min(t||n,n);function Tz(n,t){const e=[],i=n.length/t,r=n.length;let s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function ute(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,a=n._endPixel,u=1e-6;let p,h=n.getPixelForTick(r);if(!(e&&(p=1===i?Math.max(h-s,a-h):0===t?(n.getPixelForTick(1)-h)/2:(h-n.getPixelForTick(r-1))/2,h+=r<t?p:-p,h<s-u||h>a+u)))return h}function kD(n){return n.drawTicks?n.tickLength:0}function Iz(n,t){if(!n.display)return 0;const e=fs(n.font,t),i=yo(n.padding);return(nr(n.text)?n.text.length:1)*e.lineHeight+i.height}function pte(n,t,e){let i=KP(n);return(e&&"right"!==t||!e&&"right"===t)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class ty extends jc{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Ua(t,Number.POSITIVE_INFINITY),e=Ua(e,Number.NEGATIVE_INFINITY),i=Ua(i,Number.POSITIVE_INFINITY),r=Ua(r,Number.NEGATIVE_INFINITY),{min:Ua(t,i),max:Ua(e,r),minDefined:Or(t),maxDefined:Or(e)}}getMinMax(t){let a,{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,p=u.length;h<p;++h)a=u[h].controller.getMinMax(this,t),r||(e=Math.min(e,a.min)),s||(i=Math.max(i,a.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:Ua(e,Ua(i,e)),max:Ua(i,Ua(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Qi(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,u=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function DJ(n,t,e){const{min:i,max:r}=n,s=pU(t,(r-i)/2),a=(u,h)=>e&&0===u?0:u+h;return{min:a(i,-Math.abs(s)),max:a(r,s)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?Tz(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function ite(n,t){const e=n.options.ticks,i=function rte(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),r=Math.min(e.maxTicksLimit||i,i),s=e.major.enabled?function ote(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}(t):[],a=s.length,u=s[0],h=s[a-1],p=[];if(a>r)return function ate(n,t,e,i){let a,r=0,s=e[0];for(i=Math.ceil(i),a=0;a<n.length;a++)a===s&&(t.push(n[a]),r++,s=e[r*i])}(t,p,s,a/r),p;const v=function ste(n,t,e){const i=function lte(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}(n),r=t.length/e;if(!i)return Math.max(r,1);const s=function KQ(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(0|e)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}(i);for(let a=0,u=s.length-1;a<u;a++){const h=s[a];if(h>r)return h}return Math.max(r,1)}(s,t,r);if(a>0){let w,O;const Y=a>1?Math.round((h-u)/(a-1)):null;for(mI(t,p,v,hi(Y)?0:u-Y,u),w=0,O=a-1;w<O;w++)mI(t,p,v,s[w],s[w+1]);return mI(t,p,v,h,hi(Y)?t.length:h+Y),p}return mI(t,p,v),p}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,t=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Qi(this.options.afterUpdate,[this])}beforeSetDimensions(){Qi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Qi(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Qi(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Qi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=Qi(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){Qi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Qi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Az(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,s=e.maxRotation;let u,h,p,a=r;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const v=this._getLabelSizes(),w=v.widest.width,O=v.highest.height,Y=Rs(this.chart.width-w,0,this.maxWidth);u=t.offset?this.maxWidth/i:Y/(i-1),w+6>u&&(u=Y/(i-(t.offset?.5:1)),h=this.maxHeight-kD(t.grid)-e.padding-Iz(t.title,this.chart.options.font),p=Math.sqrt(w*w+O*O),a=YP(Math.min(Math.asin(Rs((v.highest.height+6)/u,-1,1)),Math.asin(Rs(h/p,-1,1))-Math.asin(Rs(O/p,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Qi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Qi(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),u=this.isHorizontal();if(a){const h=Iz(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=kD(s)+h):(t.height=this.maxHeight,t.width=kD(s)+h),i.display&&this.ticks.length){const{first:p,last:v,widest:w,highest:O}=this._getLabelSizes(),Y=2*i.padding,he=Vc(this.labelRotation),_e=Math.cos(he),ke=Math.sin(he);u?t.height=Math.min(this.maxHeight,t.height+(i.mirror?0:ke*w.width+_e*O.height)+Y):t.width=Math.min(this.maxWidth,t.width+(i.mirror?0:_e*w.width+ke*O.height)+Y),this._calculatePadding(p,v,ke,_e)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:s,padding:a},position:u}=this.options,h=0!==this.labelRotation,p="top"!==u&&"x"===this.axis;if(this.isHorizontal()){const v=this.getPixelForTick(0)-this.left,w=this.right-this.getPixelForTick(this.ticks.length-1);let O=0,Y=0;h?p?(O=r*t.width,Y=i*e.height):(O=i*t.height,Y=r*e.width):"start"===s?Y=e.width:"end"===s?O=t.width:"inner"!==s&&(O=t.width/2,Y=e.width/2),this.paddingLeft=Math.max((O-v+a)*this.width/(this.width-v),0),this.paddingRight=Math.max((Y-w+a)*this.width/(this.width-w),0)}else{let v=e.height/2,w=t.height/2;"start"===s?(v=0,w=t.height):"end"===s&&(v=e.height,w=0),this.paddingTop=v+a,this.paddingBottom=w+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Qi(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)hi(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Tz(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:s}=this,a=[],u=[],h=Math.floor(e/Az(e,i));let w,O,Y,he,_e,ke,We,Je,ct,ht,ft,p=0,v=0;for(w=0;w<e;w+=h){if(he=t[w].label,_e=this._resolveTickFontOptions(w),r.font=ke=_e.string,We=s[ke]=s[ke]||{data:{},gc:[]},Je=_e.lineHeight,ct=ht=0,hi(he)||nr(he)){if(nr(he))for(O=0,Y=he.length;O<Y;++O)ft=he[O],!hi(ft)&&!nr(ft)&&(ct=eI(r,We.data,We.gc,ct,ft),ht+=Je)}else ct=eI(r,We.data,We.gc,ct,he),ht=Je;a.push(ct),u.push(ht),p=Math.max(ct,p),v=Math.max(ht,v)}!function dte(n,t){Ri(n,e=>{const i=e.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}(s,e);const xt=a.indexOf(p),Tt=u.indexOf(v),Vt=un=>({width:a[un]||0,height:u[un]||0});return{first:Vt(0),last:Vt(e-1),widest:Vt(xt),highest:Vt(Tt),widths:a,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function JQ(n){return Rs(n,-32768,32767)}(this._alignToPixels?Y_(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function fte(n,t,e){return bm(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=function hte(n,t){return bm(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Vc(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),a=t.autoSkipPadding||0,u=s?s.widest.width+a:0,h=s?s.highest.height+a:0;return this.isHorizontal()?h*i>u*r?u/i:h/r:h*r<u*i?h/i:u/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:s,position:a,border:u}=r,h=s.offset,p=this.isHorizontal(),w=this.ticks.length+(h?1:0),O=kD(s),Y=[],he=u.setContext(this.getContext()),_e=he.display?he.width:0,ke=_e/2,We=function(Gt){return Y_(i,Gt,_e)};let Je,ct,ht,ft,xt,Tt,Vt,un,An,Un,Wn,or;if("top"===a)Je=We(this.bottom),Tt=this.bottom-O,un=Je-ke,Un=We(t.top)+ke,or=t.bottom;else if("bottom"===a)Je=We(this.top),Un=t.top,or=We(t.bottom)-ke,Tt=Je+ke,un=this.top+O;else if("left"===a)Je=We(this.right),xt=this.right-O,Vt=Je-ke,An=We(t.left)+ke,Wn=t.right;else if("right"===a)Je=We(this.left),An=t.left,Wn=We(t.right)-ke,xt=Je+ke,Vt=this.left+O;else if("x"===e){if("center"===a)Je=We((t.top+t.bottom)/2+.5);else if(si(a)){const Gt=Object.keys(a)[0];Je=We(this.chart.scales[Gt].getPixelForValue(a[Gt]))}Un=t.top,or=t.bottom,Tt=Je+ke,un=Tt+O}else if("y"===e){if("center"===a)Je=We((t.left+t.right)/2);else if(si(a)){const Gt=Object.keys(a)[0];Je=We(this.chart.scales[Gt].getPixelForValue(a[Gt]))}xt=Je-ke,Vt=xt-O,An=t.left,Wn=t.right}const bo=jn(r.ticks.maxTicksLimit,w),bi=Math.max(1,Math.ceil(w/bo));for(ct=0;ct<w;ct+=bi){const Gt=this.getContext(ct),Qt=s.setContext(Gt),pn=u.setContext(Gt),Mn=Qt.lineWidth,ar=Qt.color,zo=pn.dash||[],ts=pn.dashOffset,oa=Qt.tickWidth,Oi=Qt.tickColor,Sm=Qt.tickBorderDash||[],ry=Qt.tickBorderDashOffset;ht=ute(this,ct,h),void 0!==ht&&(ft=Y_(i,ht,Mn),p?xt=Vt=An=Wn=ft:Tt=un=Un=or=ft,Y.push({tx1:xt,ty1:Tt,tx2:Vt,ty2:un,x1:An,y1:Un,x2:Wn,y2:or,width:Mn,color:ar,borderDash:zo,borderDashOffset:ts,tickWidth:oa,tickColor:Oi,tickBorderDash:Sm,tickBorderDashOffset:ry}))}return this._ticksLength=w,this._borderValue=Je,Y}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:p,padding:v,mirror:w}=s,O=kD(i.grid),Y=O+v,he=w?-v:Y,_e=-Vc(this.labelRotation),ke=[];let We,Je,ct,ht,ft,xt,Tt,Vt,un,An,Un,Wn,or="middle";if("top"===r)xt=this.bottom-he,Tt=this._getXAxisLabelAlignment();else if("bottom"===r)xt=this.top+he,Tt=this._getXAxisLabelAlignment();else if("left"===r){const bi=this._getYAxisLabelAlignment(O);Tt=bi.textAlign,ft=bi.x}else if("right"===r){const bi=this._getYAxisLabelAlignment(O);Tt=bi.textAlign,ft=bi.x}else if("x"===e){if("center"===r)xt=(t.top+t.bottom)/2+Y;else if(si(r)){const bi=Object.keys(r)[0];xt=this.chart.scales[bi].getPixelForValue(r[bi])+Y}Tt=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)ft=(t.left+t.right)/2-Y;else if(si(r)){const bi=Object.keys(r)[0];ft=this.chart.scales[bi].getPixelForValue(r[bi])}Tt=this._getYAxisLabelAlignment(O).textAlign}"y"===e&&("start"===h?or="top":"end"===h&&(or="bottom"));const bo=this._getLabelSizes();for(We=0,Je=u.length;We<Je;++We){ct=u[We],ht=ct.label;const bi=s.setContext(this.getContext(We));Vt=this.getPixelForTick(We)+s.labelOffset,un=this._resolveTickFontOptions(We),An=un.lineHeight,Un=nr(ht)?ht.length:1;const Gt=Un/2,Qt=bi.color,pn=bi.textStrokeColor,Mn=bi.textStrokeWidth;let zo,ar=Tt;if(a?(ft=Vt,"inner"===Tt&&(ar=We===Je-1?this.options.reverse?"left":"right":0===We?this.options.reverse?"right":"left":"center"),Wn="top"===r?"near"===p||0!==_e?-Un*An+An/2:"center"===p?-bo.highest.height/2-Gt*An+An:An/2-bo.highest.height:"near"===p||0!==_e?An/2:"center"===p?bo.highest.height/2-Gt*An:bo.highest.height-Un*An,w&&(Wn*=-1),0!==_e&&!bi.showLabelBackdrop&&(ft+=An/2*Math.sin(_e))):(xt=Vt,Wn=(1-Un)*An/2),bi.showLabelBackdrop){const ts=yo(bi.backdropPadding),oa=bo.heights[We],Oi=bo.widths[We];let Sm=Wn-ts.top,ry=0-ts.left;switch(or){case"middle":Sm-=oa/2;break;case"bottom":Sm-=oa}switch(Tt){case"center":ry-=Oi/2;break;case"right":ry-=Oi}zo={left:ry,top:Sm,width:Oi+ts.width,height:oa+ts.height,color:bi.backdropColor}}ke.push({label:ht,font:un,textOffset:Wn,options:{rotation:_e,color:Qt,strokeColor:pn,strokeWidth:Mn,textAlign:ar,textBaseline:or,translation:[ft,xt],backdrop:zo}})}return ke}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Vc(this.labelRotation))return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,u=t+s,h=this._getLabelSizes().widest.width;let p,v;return"left"===e?r?(v=this.right+s,"near"===i?p="left":"center"===i?(p="center",v+=h/2):(p="right",v+=h)):(v=this.right-u,"near"===i?p="right":"center"===i?(p="center",v-=h/2):(p="left",v=this.left)):"right"===e?r?(v=this.left+s,"near"===i?p="right":"center"===i?(p="center",v-=h/2):(p="left",v-=h)):(v=this.left+u,"near"===i?p="left":"center"===i?(p="center",v+=h/2):(p="right",v=this.right)):p="right",{textAlign:p,x:v}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,a),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,a;const u=(h,p,v)=>{!v.width||!v.color||(i.save(),i.lineWidth=v.width,i.strokeStyle=v.color,i.setLineDash(v.borderDash||[]),i.lineDashOffset=v.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(p.x,p.y),i.stroke(),i.restore())};if(e.display)for(s=0,a=r.length;s<a;++s){const h=r[s];e.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const u=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let p,v,w,O;this.isHorizontal()?(p=Y_(t,this.left,a)-a/2,v=Y_(t,this.right,u)+u/2,w=O=h):(w=Y_(t,this.top,a)-a/2,O=Y_(t,this.bottom,u)+u/2,p=v=h),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(p,w),e.lineTo(v,O),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&tI(i,r);const s=this.getLabelItems(t);for(const a of s)q_(i,a.label,0,a.textOffset,a.font,a.options);r&&nI(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const s=fs(i.font),a=yo(i.padding),u=i.align;let h=s.lineHeight/2;"bottom"===e||"center"===e||si(e)?(h+=a.bottom,nr(i.text)&&(h+=s.lineHeight*(i.text.length-1))):h+=a.top;const{titleX:p,titleY:v,maxWidth:w,rotation:O}=function mte(n,t,e,i){const{top:r,left:s,bottom:a,right:u,chart:h}=n,{chartArea:p,scales:v}=h;let O,Y,he,w=0;const _e=a-r,ke=u-s;if(n.isHorizontal()){if(Y=_o(i,s,u),si(e)){const We=Object.keys(e)[0];he=v[We].getPixelForValue(e[We])+_e-t}else he="center"===e?(p.bottom+p.top)/2+_e-t:Mz(n,e,t);O=u-s}else{if(si(e)){const We=Object.keys(e)[0];Y=v[We].getPixelForValue(e[We])-ke+t}else Y="center"===e?(p.left+p.right)/2-ke+t:Mz(n,e,t);he=_o(i,a,r),w="left"===e?-jr:jr}return{titleX:Y,titleY:he,maxWidth:O,rotation:w}}(this,h,e,u);q_(t,i.text,0,0,s,{color:i.color,maxWidth:w,rotation:O,textAlign:pte(u,e,r),textBaseline:"middle",translation:[p,v]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=jn(t.grid&&t.grid.z,-1),r=jn(t.border&&t.border.z,0);return this._isVisible()&&this.draw===ty.prototype.draw?[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]:[{z:e,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=e.length;s<a;++s){const u=e[s];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){return fs(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class gI{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function yte(n){return"id"in n&&"defaults"in n})(e)&&(i=this.register(e));const r=this.items,s=t.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,function gte(n,t,e){const i=pD(Object.create(null),[e?br.get(e):{},br.get(t),n.defaults]);br.set(t,i),n.defaultRoutes&&function _te(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),a=t[e].split("."),u=a.pop(),h=a.join(".");br.route(s,r,h,u)})}(t,n.defaultRoutes),n.descriptors&&br.describe(t,n.descriptors)}(t,a,i),this.override&&br.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in br[r]&&(delete br[r][i],this.override&&delete W_[i])}}class vte{constructor(){this.controllers=new gI(Hc,"datasets",!0),this.elements=new gI(jc,"elements"),this.plugins=new gI(Object,"plugins"),this.scales=new gI(ty,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):Ri(r,a=>{const u=i||this._getRegistryForType(a);this._exec(t,u,a)})})}_exec(t,e,i){const r=WP(t);Qi(i["before"+r],[],i),e[t](i),Qi(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var vd=new vte;class bte{constructor(){this._init=[]}notify(t,e,i,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),a=this._notify(s,t,e,i);return"afterDestroy"===e&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,i,r){r=r||{};for(const s of t){const a=s.plugin;if(!1===Qi(a[i],[e,r,s.options],a)&&r.cancelable)return!1}return!0}invalidate(){hi(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=jn(i.options&&i.options.plugins,{}),s=function wte(n){const t={},e=[],i=Object.keys(vd.plugins.items);for(let s=0;s<i.length;s++)e.push(vd.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];-1===e.indexOf(a)&&(e.push(a),t[a.id]=!0)}return{plugins:e,localIds:t}}(i);return!1!==r||e?function xte(n,{plugins:t,localIds:e},i,r){const s=[],a=n.getContext();for(const u of t){const h=u.id,p=Cte(i[h],r);null!==p&&s.push({plugin:u,options:Dte(n.config,{plugin:u,local:e[h]},p,a)})}return s}(t,s,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(u=>!a.some(h=>u.plugin.id===h.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function Cte(n,t){return t||!1!==n?!0===n?{}:n:null}function Dte(n,{plugin:t,local:e},i,r){const s=n.pluginScopeKeys(t),a=n.getOptionScopes(i,s);return e&&t.defaults&&a.push(t.defaults),n.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function mF(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(br.datasets[n]||{}).indexAxis||"x"}function kz(n){if("x"===n||"y"===n||"r"===n)return n}function Mte(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function gF(n,...t){if(kz(n))return n;for(const e of t){const i=e.axis||Mte(e.position)||n.length>1&&kz(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Rz(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function Oz(n){const t=n.options||(n.options={});t.plugins=jn(t.plugins,{}),t.scales=function Tte(n,t){const e=W_[n.type]||{scales:{}},i=t.scales||{},r=mF(n.type,t),s=Object.create(null);return Object.keys(i).forEach(a=>{const u=i[a];if(!si(u))return console.error(`Invalid scale configuration for scale: ${a}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const h=gF(a,u,function Ate(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return Rz(n,"x",e[0])||Rz(n,"y",e[0])}return{}}(a,n),br.scales[u.type]),p=function Ete(n,t){return n===t?"_index_":"_value_"}(h,r),v=e.scales||{};s[a]=mD(Object.create(null),[{axis:h},u,v[h],v[p]])}),n.data.datasets.forEach(a=>{const u=a.type||n.type,h=a.indexAxis||mF(u,t),v=(W_[u]||{}).scales||{};Object.keys(v).forEach(w=>{const O=function Ste(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(w,h),Y=a[O+"AxisID"]||O;s[Y]=s[Y]||Object.create(null),mD(s[Y],[{axis:O},i[Y],v[w]])})}),Object.keys(s).forEach(a=>{const u=s[a];mD(u,[br.scales[u.type],br.scale])}),s}(n,t)}function Pz(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const Fz=new Map,Lz=new Set;function _I(n,t){let e=Fz.get(n);return e||(e=t(),Fz.set(n,e),Lz.add(e)),e}const RD=(n,t,e)=>{const i=_m(t,e);void 0!==i&&n.add(i)};class kte{constructor(t){this._config=function Ite(n){return(n=n||{}).data=Pz(n.data),Oz(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Pz(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Oz(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return _I(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return _I(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return _I(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return _I(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:s}=this,a=this._cachedScopes(t,i),u=a.get(e);if(u)return u;const h=new Set;e.forEach(v=>{t&&(h.add(t),v.forEach(w=>RD(h,t,w))),v.forEach(w=>RD(h,r,w)),v.forEach(w=>RD(h,W_[s]||{},w)),v.forEach(w=>RD(h,br,w)),v.forEach(w=>RD(h,JP,w))});const p=Array.from(h);return 0===p.length&&p.push(Object.create(null)),Lz.has(e)&&a.set(e,p),p}chartOptionScopes(){const{options:t,type:e}=this;return[t,W_[e]||{},br.datasets[e]||{},{type:e},br,JP]}resolveNamedOptions(t,e,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:u}=Nz(this._resolverCache,t,r);let h=a;(function Ote(n,t){const{isScriptable:e,isIndexable:i}=BU(n);for(const r of t){const s=e(r),a=i(r),u=(a||s)&&n[r];if(s&&(ym(u)||Rte(u))||a&&nr(u))return!0}return!1})(a,e)&&(s.$shared=!1,h=a0(a,i=ym(i)?i():i,this.createResolver(t,i,u)));for(const p of e)s[p]=h[p];return s}createResolver(t,e,i=[""],r){const{resolver:s}=Nz(this._resolverCache,t,i);return si(e)?a0(s,e,void 0,r):s}}function Nz(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let s=i.get(r);return s||(s={resolver:iF(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,s)),s}const Rte=n=>si(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||ym(n[e]),!1),Fte=["top","bottom","left","right","chartArea"];function Bz(n,t){return"top"===n||"bottom"===n||-1===Fte.indexOf(n)&&"x"===t}function Vz(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Hz(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Qi(e&&e.onComplete,[n],t)}function Lte(n){const t=n.chart,e=t.options.animation;Qi(e&&e.onProgress,[n],t)}function jz(n){return WU()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const yI={},Uz=n=>{const t=jz(n);return Object.values(yI).filter(e=>e.canvas===t).pop()};function Nte(n,t,e){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=t){const a=n[r];delete n[r],(e>0||s>t)&&(n[s+e]=a)}}}function vI(n,t,e){return n.options.clip?n[e]:t[e]}class Ef{static register(...t){vd.add(...t),zz()}static unregister(...t){vd.remove(...t),zz()}constructor(t,e){const i=this.config=new kte(e),r=jz(t),s=Uz(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function nte(n){return!WU()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?zee:tte}(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,a.aspectRatio),h=u&&u.canvas,p=h&&h.height,v=h&&h.width;this.id=jQ(),this.ctx=u,this.canvas=h,this.width=v,this.height=p,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new bte,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function iJ(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}(w=>this.update(w),a.resizeDelay||0),this._dataChanges=[],yI[this.id]=this,u&&h?(Sf.listen(this,"complete",Hz),Sf.listen(this,"progress",Lte),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:s}=this;return hi(t)?e&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return vd}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():YU(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return FU(this.canvas,this.ctx),this}stop(){return Sf.stop(this),this}resize(t,e){Sf.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.platform.getMaximumSize(this.canvas,t,e,i.maintainAspectRatio&&this.aspectRatio),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,YU(this,u,!0)&&(this.notifyPlugins("resize",{size:a}),Qi(i.onResize,[this,a],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){Ri(this.options.scales||{},(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((a,u)=>(a[u]=!1,a),{});let s=[];e&&(s=s.concat(Object.keys(e).map(a=>{const u=e[a],h=gF(a,u),p="r"===h,v="x"===h;return{options:u,dposition:p?"chartArea":v?"bottom":"left",dtype:p?"radialLinear":v?"category":"linear"}}))),Ri(s,a=>{const u=a.options,h=u.id,p=gF(h,u),v=jn(u.type,a.dtype);(void 0===u.position||Bz(u.position,p)!==Bz(a.dposition))&&(u.position=a.dposition),r[h]=!0;let w=null;h in i&&i[h].type===v?w=i[h]:(w=new(vd.getScale(v))({id:h,type:v,ctx:this.ctx,chart:this}),i[w.id]=w),w.init(u,t)}),Ri(r,(a,u)=>{a||delete i[u]}),Ri(i,a=>{vo.configure(this,a,a.options),vo.addBox(this,a)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Vz("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{0===e.filter(s=>s===i._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const s=e[i];let a=this.getDatasetMeta(i);const u=s.type||this.config.type;if(a.type&&a.type!==u&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=u,a.indexAxis=s.indexAxis||mF(u,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const h=vd.getController(u),{datasetElementType:p,dataElementType:v}=br.datasets[u];Object.assign(h,{dataElementType:vd.getElement(v),datasetElementType:p&&vd.getElement(p)}),a.controller=new h(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){Ri(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let p=0,v=this.data.datasets.length;p<v;p++){const{controller:w}=this.getDatasetMeta(p),O=!r&&-1===s.indexOf(w);w.buildOrUpdateElements(O),a=Math.max(+w.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||Ri(s,p=>{p.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Vz("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Ri(this.scales,t=>{vo.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!_U(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of e)Nte(t,r,"_removeElements"===i?-s:s)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=s=>new Set(t.filter(a=>a[0]===s).map((a,u)=>u+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<e;s++)if(!_U(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;vo.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Ri(this.boxes,r=>{i&&"chartArea"===r.position||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,ym(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Sf.has(this)?this.attached&&!Sf.running(this)&&Sf.start(this):(this.draw(),Hz({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,s;for(r=0,s=e.length;r<s;++r){const a=e[r];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,r=!i.disabled,s=function Vte(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:vI(e,t,"left"),right:vI(e,t,"right"),top:vI(i,t,"top"),bottom:vI(i,t,"bottom")}:t}(t,this.chartArea),a={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(r&&tI(e,{left:!1===i.left?0:s.left-i.left,right:!1===i.right?this.width:s.right+i.right,top:!1===i.top?0:s.top-i.top,bottom:!1===i.bottom?this.height:s.bottom+i.bottom}),t.controller.draw(),r&&nI(e),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return Df(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const s=Fee.modes[e];return"function"==typeof s?s(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=bm(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),a=s.controller._resolveAnimations(void 0,r);gD(e)?(s.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(s,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Sf.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),FU(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete yI[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(s,a)=>{e.addEventListener(this,s,a),t[s]=a},r=(s,a,u)=>{s.offsetX=a,s.offsetY=u,this._eventHandler(s)};Ri(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(h,p)=>{e.addEventListener(this,h,p),t[h]=p},r=(h,p)=>{t[h]&&(e.removeEventListener(this,h,p),delete t[h])},s=(h,p)=>{this.canvas&&this.resize(h,p)};let a;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():a()}unbindEvents(){Ri(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Ri(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let s,a,u,h;for("dataset"===e&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),u=0,h=t.length;u<h;++u){a=t[u];const p=a&&this.getDatasetMeta(a.datasetIndex).controller;p&&p[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:s,index:a})=>{const u=this.getDatasetMeta(s);if(!u)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:u.data[a],index:a}});!ZT(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return 1===this._plugins._cache.filter(e=>e.plugin.id===t).length}_updateHoverStyles(t,e,i){const r=this.options.hover,s=(h,p)=>h.filter(v=>!p.some(w=>v.datasetIndex===w.datasetIndex&&v.index===w.index)),a=s(e,t),u=i?t:s(t,e);a.length&&this.updateHoverStyle(a,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=a=>(a.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,r))return;const s=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:s}=this,u=this._getActiveElements(t,r,i,e),h=function YQ(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(t),p=function Bte(n,t,e,i){return e&&"mouseout"!==n.type?i?t:n:null}(t,this._lastEvent,i,h);i&&(this._lastEvent=null,Qi(s.onHover,[t,u,this],this),h&&Qi(s.onClick,[t,u,this],this));const v=!ZT(u,r);return(v||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=p,v}_getActiveElements(t,e,i,r){if("mouseout"===t.type)return[];if(!i)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}}function zz(){return Ri(Ef.instances,n=>n._plugins.invalidate())}function u0(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function bI(n,t,e,i,r,s){const{x:a,y:u,startAngle:h,pixelMargin:p,innerRadius:v}=t,w=Math.max(t.outerRadius+i+e-p,0),O=v>0?v+i+e+p:0;let Y=0;const he=r-h;if(i){const Qt=((v>0?v-i:0)+(w>0?w-i:0))/2;Y=(he-(0!==Qt?he*Qt/(Qt+i):he))/2}const ke=(he-Math.max(.001,he*w-e/ir)/w)/2,We=h+ke+Y,Je=r-ke-Y,{outerStart:ct,outerEnd:ht,innerStart:ft,innerEnd:xt}=function Ute(n,t,e,i){const r=function jte(n){return nF(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(e-t)/2,a=Math.min(s,i*t/2),u=h=>{const p=(e-Math.min(s,h))*i/2;return Rs(h,0,Math.min(s,p))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:Rs(r.innerStart,0,a),innerEnd:Rs(r.innerEnd,0,a)}}(t,O,w,Je-We),Tt=w-ct,Vt=w-ht,un=We+ct/Tt,An=Je-ht/Vt,Un=O+ft,Wn=O+xt,or=We+ft/Un,bo=Je-xt/Wn;if(n.beginPath(),s){const bi=(un+An)/2;if(n.arc(a,u,w,un,bi),n.arc(a,u,w,bi,An),ht>0){const Mn=u0(Vt,An,a,u);n.arc(Mn.x,Mn.y,ht,An,Je+jr)}const Gt=u0(Wn,Je,a,u);if(n.lineTo(Gt.x,Gt.y),xt>0){const Mn=u0(Wn,bo,a,u);n.arc(Mn.x,Mn.y,xt,Je+jr,bo+Math.PI)}const Qt=(Je-xt/O+(We+ft/O))/2;if(n.arc(a,u,O,Je-xt/O,Qt,!0),n.arc(a,u,O,Qt,We+ft/O,!0),ft>0){const Mn=u0(Un,or,a,u);n.arc(Mn.x,Mn.y,ft,or+Math.PI,We-jr)}const pn=u0(Tt,We,a,u);if(n.lineTo(pn.x,pn.y),ct>0){const Mn=u0(Tt,un,a,u);n.arc(Mn.x,Mn.y,ct,We-jr,un)}}else{n.moveTo(a,u);const bi=Math.cos(un)*w+a,Gt=Math.sin(un)*w+u;n.lineTo(bi,Gt);const Qt=Math.cos(An)*w+a,pn=Math.sin(An)*w+u;n.lineTo(Qt,pn)}n.closePath()}Kt(Ef,"defaults",br),Kt(Ef,"instances",yI),Kt(Ef,"overrides",W_),Kt(Ef,"registry",vd),Kt(Ef,"version","4.4.0"),Kt(Ef,"getChart",Uz);class OD extends jc{constructor(e){super(),Kt(this,"circumference"),Kt(this,"endAngle"),Kt(this,"fullCircles"),Kt(this,"innerRadius"),Kt(this,"outerRadius"),Kt(this,"pixelMargin"),Kt(this,"startAngle"),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,r){const s=this.getProps(["x","y"],r),{angle:a,distance:u}=CU(s,{x:e,y:i}),{startAngle:h,endAngle:p,innerRadius:v,outerRadius:w,circumference:O}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),Y=(this.options.spacing+this.options.borderWidth)/2,_e=jn(O,p-h)>=rr||yD(a,h,p),ke=Cf(u,v+Y,w+Y);return _e&&ke}getCenterPoint(e){const{x:i,y:r,startAngle:s,endAngle:a,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:p,spacing:v}=this.options,w=(s+a)/2,O=(u+h+v+p)/2;return{x:i+Math.cos(w)*O,y:r+Math.sin(w)*O}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:r}=this,s=(i.offset||0)/4,a=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin="inner"===i.borderAlign?.33:0,this.fullCircles=r>rr?Math.floor(r/rr):0,0===r||this.innerRadius<0||this.outerRadius<0)return;e.save();const h=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(h)*s,Math.sin(h)*s);const v=s*(1-Math.sin(Math.min(ir,r||0)));e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,function zte(n,t,e,i,r){const{fullCircles:s,startAngle:a,circumference:u}=t;let h=t.endAngle;if(s){bI(n,t,e,i,h,r);for(let p=0;p<s;++p)n.fill();isNaN(u)||(h=a+(u%rr||rr))}bI(n,t,e,i,h,r),n.fill()}(e,this,v,a,u),function Gte(n,t,e,i,r){const{fullCircles:s,startAngle:a,circumference:u,options:h}=t,{borderWidth:p,borderJoinStyle:v,borderDash:w,borderDashOffset:O}=h,Y="inner"===h.borderAlign;if(!p)return;n.setLineDash(w||[]),n.lineDashOffset=O,Y?(n.lineWidth=2*p,n.lineJoin=v||"round"):(n.lineWidth=p,n.lineJoin=v||"bevel");let he=t.endAngle;if(s){bI(n,t,e,i,he,r);for(let _e=0;_e<s;++_e)n.stroke();isNaN(u)||(he=a+(u%rr||rr))}Y&&function Hte(n,t,e){const{startAngle:i,pixelMargin:r,x:s,y:a,outerRadius:u,innerRadius:h}=t;let p=r/u;n.beginPath(),n.arc(s,a,u,i-p,e+p),h>r?(p=r/h,n.arc(s,a,h,e+p,i-p,!0)):n.arc(s,a,r,e+jr,i-jr),n.closePath(),n.clip()}(n,t,he),s||(bI(n,t,e,i,he,r),n.stroke())}(e,this,v,a,u),e.restore()}}function Gz(n,t,e=t){n.lineCap=jn(e.borderCapStyle,t.borderCapStyle),n.setLineDash(jn(e.borderDash,t.borderDash)),n.lineDashOffset=jn(e.borderDashOffset,t.borderDashOffset),n.lineJoin=jn(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=jn(e.borderWidth,t.borderWidth),n.strokeStyle=jn(e.borderColor,t.borderColor)}function $te(n,t,e){n.lineTo(e.x,e.y)}function $z(n,t,e={}){const i=n.length,{start:r=0,end:s=i-1}=e,{start:a,end:u}=t,h=Math.max(r,a),p=Math.min(s,u);return{count:i,start:h,loop:t.loop,ilen:p<h&&!(r<a&&s<a||r>u&&s>u)?i+p-h:p-h}}function Yte(n,t,e,i){const{points:r,options:s}=t,{count:a,start:u,loop:h,ilen:p}=$z(r,e,i),v=function Wte(n){return n.stepped?mJ:n.tension||"monotone"===n.cubicInterpolationMode?gJ:$te}(s);let Y,he,_e,{move:w=!0,reverse:O}=i||{};for(Y=0;Y<=p;++Y)he=r[(u+(O?p-Y:Y))%a],!he.skip&&(w?(n.moveTo(he.x,he.y),w=!1):v(n,_e,he,O,s.stepped),_e=he);return h&&(he=r[(u+(O?p:0))%a],v(n,_e,he,O,s.stepped)),!!h}function qte(n,t,e,i){const r=t.points,{count:s,start:a,ilen:u}=$z(r,e,i),{move:h=!0,reverse:p}=i||{};let O,Y,he,_e,ke,We,v=0,w=0;const Je=ht=>(a+(p?u-ht:ht))%s,ct=()=>{_e!==ke&&(n.lineTo(v,ke),n.lineTo(v,_e),n.lineTo(v,We))};for(h&&(Y=r[Je(0)],n.moveTo(Y.x,Y.y)),O=0;O<=u;++O){if(Y=r[Je(O)],Y.skip)continue;const ht=Y.x,ft=Y.y,xt=0|ht;xt===he?(ft<_e?_e=ft:ft>ke&&(ke=ft),v=(w*v+ht)/++w):(ct(),n.lineTo(ht,ft),he=xt,w=0,_e=ke=ft),We=ft}ct()}function _F(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?Yte:qte}Kt(OD,"id","arc"),Kt(OD,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Kt(OD,"defaultRoutes",{backgroundColor:"backgroundColor"}),Kt(OD,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const Qte="function"==typeof Path2D;class wm extends jc{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;!i.tension&&"monotone"!==i.cubicInterpolationMode||i.stepped||this._pointsUpdated||(HJ(this._points,i,t,i.spanGaps?this._loop:this._fullLoop,e),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function tee(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const s=!!n._loop,{start:a,end:u}=function JJ(n,t,e,i){let r=0,s=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&n[s%t].skip;)s--;return s%=t,{start:r,end:s}}(e,r,s,i);return function tz(n,t,e,i){return i&&i.setContext&&e?function nee(n,t,e,i){const r=n._chart.getContext(),s=nz(n.options),{_datasetIndex:a,options:{spanGaps:u}}=n,h=e.length,p=[];let v=s,w=t[0].start,O=w;function Y(he,_e,ke,We){const Je=u?-1:1;if(he!==_e){for(he+=h;e[he%h].skip;)he-=Je;for(;e[_e%h].skip;)_e+=Je;he%h!=_e%h&&(p.push({start:he%h,end:_e%h,loop:ke,style:We}),v=We,w=_e%h)}}for(const he of t){w=u?w:he.start;let ke,_e=e[w%h];for(O=w+1;O<=he.end;O++){const We=e[O%h];ke=nz(i.setContext(bm(r,{type:"segment",p0:_e,p1:We,p0DataIndex:(O-1)%h,p1DataIndex:O%h,datasetIndex:a}))),iee(ke,v)&&Y(w,O-1,he.loop,v),_e=We,v=ke}w<O-1&&Y(w,O-1,he.loop,v)}return p}(n,t,e,i):t}(n,!0===i?[{start:a,end:u,loop:s}]:function eee(n,t,e,i){const r=n.length,s=[];let h,a=t,u=n[t];for(h=t+1;h<=e;++h){const p=n[h%r];p.skip||p.stop?u.skip||(s.push({start:t%r,end:(h-1)%r,loop:i=!1}),t=a=p.stop?h:null):(a=h,u.skip&&(t=h)),u=p}return null!==a&&s.push({start:t%r,end:a%r,loop:i}),s}(e,a,u<a?u+r:u,!!n._fullLoop&&0===a&&u===r-1),e,t)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,i=t.length;return i&&this.points[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],s=this.points,a=ez(this,{property:e,start:r,end:r});if(!a.length)return;const u=[],h=function Zte(n){return n.stepped?qJ:n.tension||"monotone"===n.cubicInterpolationMode?ZJ:Q_}(i);let p,v;for(p=0,v=a.length;p<v;++p){const{start:w,end:O}=a[p],Y=s[w],he=s[O];if(Y===he){u.push(Y);continue}const ke=h(Y,he,Math.abs((r-Y[e])/(he[e]-Y[e])),i.stepped);ke[e]=t[e],u.push(ke)}return 1===u.length?u[0]:u}pathSegment(t,e,i){return _F(this)(t,this,e,i)}path(t,e,i){const r=this.segments,s=_F(this);let a=this._loop;e=e||0,i=i||this.points.length-e;for(const u of r)a&=s(t,this,u,{start:e,end:e+i-1});return!!a}draw(t,e,i,r){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function Jte(n,t,e,i){Qte&&!t.options.segment?function Kte(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),Gz(n,t.options),n.stroke(r)}(n,t,e,i):function Xte(n,t,e,i){const{segments:r,options:s}=t,a=_F(t);for(const u of r)Gz(n,s,u.style),n.beginPath(),a(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}(n,t,e,i)}(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Wz(n,t,e,i){const r=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<r.radius+r.hitRadius}Kt(wm,"id","line"),Kt(wm,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Kt(wm,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Kt(wm,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class wI extends jc{constructor(e){super(),Kt(this,"parsed"),Kt(this,"skip"),Kt(this,"stop"),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const s=this.options,{x:a,y:u}=this.getProps(["x","y"],r);return Math.pow(e-a,2)+Math.pow(i-u,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,i){return Wz(this,e,"x",i)}inYRange(e,i){return Wz(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){let i=(e=e||this.options||{}).radius||0;return i=Math.max(i,i&&e.hoverRadius||0),2*(i+(i&&e.borderWidth||0))}draw(e,i){const r=this.options;this.skip||r.radius<.1||!Df(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,tF(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Yz(n,t){const{x:e,y:i,base:r,width:s,height:a}=n.getProps(["x","y","base","width","height"],t);let u,h,p,v,w;return n.horizontal?(w=a/2,u=Math.min(e,r),h=Math.max(e,r),p=i-w,v=i+w):(w=s/2,u=e-w,h=e+w,p=Math.min(i,r),v=Math.max(i,r)),{left:u,top:p,right:h,bottom:v}}function Cm(n,t,e,i){return n?0:Rs(t,e,i)}function yF(n,t,e,i){const r=null===t,s=null===e,u=n&&!(r&&s)&&Yz(n,i);return u&&(r||Cf(t,u.left,u.right))&&(s||Cf(e,u.top,u.bottom))}function rne(n,t){n.rect(t.x,t.y,t.w,t.h)}function vF(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-i),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-r),radius:n.radius}}Kt(wI,"id","point"),Kt(wI,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Kt(wI,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class CI extends jc{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:a}=function nne(n){const t=Yz(n),e=t.right-t.left,i=t.bottom-t.top,r=function ene(n,t,e){const r=n.borderSkipped,s=NU(n.options.borderWidth);return{t:Cm(r.top,s.top,0,e),r:Cm(r.right,s.right,0,t),b:Cm(r.bottom,s.bottom,0,e),l:Cm(r.left,s.left,0,t)}}(n,e/2,i/2),s=function tne(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=Z_(r),a=Math.min(t,e),u=n.borderSkipped,h=i||si(r);return{topLeft:Cm(!h||u.top||u.left,s.topLeft,0,a),topRight:Cm(!h||u.top||u.right,s.topRight,0,a),bottomLeft:Cm(!h||u.bottom||u.left,s.bottomLeft,0,a),bottomRight:Cm(!h||u.bottom||u.right,s.bottomRight,0,a)}}(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),u=function ine(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(a.radius)?CD:rne;t.save(),(a.w!==s.w||a.h!==s.h)&&(t.beginPath(),u(t,vF(a,e,s)),t.clip(),u(t,vF(s,-e,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,vF(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return yF(this,t,e,i)}inXRange(t,e){return yF(this,t,null,e)}inYRange(t,e){return yF(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}Kt(CI,"id","bar"),Kt(CI,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Kt(CI,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var sne=Object.freeze({__proto__:null,ArcElement:OD,BarElement:CI,LineElement:wm,PointElement:wI});const bF=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],qz=bF.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function Zz(n){return bF[n%bF.length]}function Kz(n){return qz[n%qz.length]}function Xz(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}var dne={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:s}=r;if(!e.forceOverride&&(Xz(i)||function une(n){return n&&(n.borderColor||n.backgroundColor)}(r)||s&&Xz(s)))return;const a=function cne(n){let t=0;return(e,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof J_?t=function ane(n,t){return n.backgroundColor=n.data.map(()=>Zz(t++)),t}(e,t):r instanceof SD?t=function lne(n,t){return n.backgroundColor=n.data.map(()=>Kz(t++)),t}(e,t):r&&(t=function one(n,t){return n.borderColor=Zz(t),n.backgroundColor=Kz(t),++t}(e,t))}}(n);i.forEach(a)}};function Qz(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Jz(n){n.data.datasets.forEach(t=>{Qz(t)})}var mne={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void Jz(n);const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:a,indexAxis:u}=r,h=n.getDatasetMeta(s),p=a||r.data;if("y"===xD([u,n.options.indexAxis])||!h.controller.supportsDecimation)return;const v=n.scales[h.xAxisID];if("linear"!==v.type&&"time"!==v.type||n.options.parsing)return;let he,{start:w,count:O}=function pne(n,t){const e=t.length;let r,i=0;const{iScale:s}=n,{min:a,max:u,minDefined:h,maxDefined:p}=s.getUserBounds();return h&&(i=Rs(xf(t,s.axis,a).lo,0,e-1)),r=p?Rs(xf(t,s.axis,u).hi+1,i,e)-i:e-i,{start:i,count:r}}(h,p);if(O<=(e.threshold||4*i))Qz(r);else{switch(hi(a)&&(r._data=p,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_e){this._data=_e}})),e.algorithm){case"lttb":he=function hne(n,t,e,i,r){const s=r.samples||i;if(s>=e)return n.slice(t,t+e);const a=[],u=(e-2)/(s-2);let h=0;const p=t+e-1;let w,O,Y,he,_e,v=t;for(a[h++]=n[v],w=0;w<s-2;w++){let Je,ke=0,We=0;const ct=Math.floor((w+1)*u)+1+t,ht=Math.min(Math.floor((w+2)*u)+1,e)+t,ft=ht-ct;for(Je=ct;Je<ht;Je++)ke+=n[Je].x,We+=n[Je].y;ke/=ft,We/=ft;const xt=Math.floor(w*u)+1+t,Tt=Math.min(Math.floor((w+1)*u)+1,e)+t,{x:Vt,y:un}=n[v];for(Y=he=-1,Je=xt;Je<Tt;Je++)he=.5*Math.abs((Vt-ke)*(n[Je].y-un)-(Vt-n[Je].x)*(We-un)),he>Y&&(Y=he,O=n[Je],_e=Je);a[h++]=O,v=_e}return a[h++]=n[p],a}(p,w,O,i,e);break;case"min-max":he=function fne(n,t,e,i){let a,u,h,p,v,w,O,Y,he,_e,r=0,s=0;const ke=[],Je=n[t].x,ht=n[t+e-1].x-Je;for(a=t;a<t+e;++a){u=n[a],h=(u.x-Je)/ht*i,p=u.y;const ft=0|h;if(ft===v)p<he?(he=p,w=a):p>_e&&(_e=p,O=a),r=(s*r+u.x)/++s;else{const xt=a-1;if(!hi(w)&&!hi(O)){const Tt=Math.min(w,O),Vt=Math.max(w,O);Tt!==Y&&Tt!==xt&&ke.push({...n[Tt],x:r}),Vt!==Y&&Vt!==xt&&ke.push({...n[Vt],x:r})}a>0&&xt!==Y&&ke.push(n[xt]),ke.push(u),v=ft,s=0,he=_e=p,w=O=Y=a}}return ke}(p,w,O,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=he}})},destroy(n){Jz(n)}};function wF(n,t,e,i){if(i)return;let r=t[n],s=e[n];return"angle"===n&&(r=za(r),s=za(s)),{property:n,start:r,end:s}}function CF(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function e3(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function t3(n,t){let e=[],i=!1;return nr(n)?(i=!0,e=n):e=function _ne(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,s=[];return t.segments.forEach(({start:a,end:u})=>{u=CF(a,u,r);const h=r[a],p=r[u];null!==i?(s.push({x:h.x,y:i}),s.push({x:p.x,y:i})):null!==e&&(s.push({x:e,y:h.y}),s.push({x:e,y:p.y}))}),s}(n,t),e.length?new wm({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function n3(n){return n&&!1!==n.fill}function yne(n,t,e){let r=n[t].fill;const s=[t];let a;if(!e)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!Or(r))return r;if(a=n[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function vne(n,t,e){const i=function xne(n){const t=n.options,e=t.fill;let i=jn(e&&e.target,e);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(si(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return Or(r)&&Math.floor(r)===r?function bne(n,t,e,i){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=i)&&e}(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Ene(n,t,e){const i=[];for(let r=0;r<e.length;r++){const s=e[r],{first:a,last:u,point:h}=Mne(s,t,"x");if(!(!h||a&&u))if(a)i.unshift(h);else if(n.push(h),!u)break}n.push(...i)}function Mne(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],s=n.segments,a=n.points;let u=!1,h=!1;for(let p=0;p<s.length;p++){const v=s[p],w=a[v.start][e],O=a[v.end][e];if(Cf(r,w,O)){u=r===w,h=r===O;break}}return{first:u,last:h,point:i}}class r3{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:s,radius:a}=this;return t.arc(r,s,a,(e=e||{start:0,end:rr}).end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function xF(n,t,e){const i=function Ane(n){const{chart:t,fill:e,line:i}=n;if(Or(e))return function Tne(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function Dne(n){const{scale:t,index:e,line:i}=n,r=[],s=i.segments,a=i.points,u=function Sne(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}(t,e);u.push(t3({x:null,y:t.bottom},i));for(let h=0;h<s.length;h++){const p=s[h];for(let v=p.start;v<=p.end;v++)Ene(r,a[v],u)}return new wm({points:r,options:{}})}(n);if("shape"===e)return!0;const r=function Ine(n){return(n.scale||{}).getPointPositionForValue?function Rne(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,a=function Cne(n,t,e){let i;return i="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:si(n)?n.value:t.getBaseValue(),i}(e,t,s),u=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,s);return new r3({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(a)})}for(let h=0;h<r;++h)u.push(t.getPointPositionForValue(h,a));return u}(n):function kne(n){const{scale:t={},fill:e}=n,i=function wne(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:si(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(Or(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof r3?r:t3(r,i)}(t),{line:r,scale:s,axis:a}=t,u=r.options,h=u.fill,p=u.backgroundColor,{above:v=p,below:w=p}=h||{};i&&r.points.length&&(tI(n,e),function One(n,t){const{line:e,target:i,above:r,below:s,area:a,scale:u}=t,h=e._loop?"angle":t.axis;n.save(),"x"===h&&s!==r&&(s3(n,i,a.top),o3(n,{line:e,target:i,color:r,scale:u,property:h}),n.restore(),n.save(),s3(n,i,a.bottom)),o3(n,{line:e,target:i,color:s,scale:u,property:h}),n.restore()}(n,{line:r,target:i,above:v,below:w,area:e,scale:s,axis:a}),nI(n))}function s3(n,t,e){const{segments:i,points:r}=t;let s=!0,a=!1;n.beginPath();for(const u of i){const{start:h,end:p}=u,v=r[h],w=r[CF(h,p,r)];s?(n.moveTo(v.x,v.y),s=!1):(n.lineTo(v.x,e),n.lineTo(v.x,v.y)),a=!!t.pathSegment(n,u,{move:a}),a?n.closePath():n.lineTo(w.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function o3(n,t){const{line:e,target:i,property:r,color:s,scale:a}=t,u=function gne(n,t,e){const i=n.segments,r=n.points,s=t.points,a=[];for(const u of i){let{start:h,end:p}=u;p=CF(h,p,r);const v=wF(e,r[h],r[p],u.loop);if(!t.segments){a.push({source:u,target:v,start:r[h],end:r[p]});continue}const w=ez(t,v);for(const O of w){const Y=wF(e,s[O.start],s[O.end],O.loop),he=JU(u,r,Y);for(const _e of he)a.push({source:_e,target:O,start:{[e]:e3(v,Y,"start",Math.max)},end:{[e]:e3(v,Y,"end",Math.min)}})}}return a}(e,i,r);for(const{source:h,target:p,start:v,end:w}of u){const{style:{backgroundColor:O=s}={}}=h,Y=!0!==i;n.save(),n.fillStyle=O,Pne(n,a,Y&&wF(r,v,w)),n.beginPath();const he=!!e.pathSegment(n,h);let _e;if(Y){he?n.closePath():a3(n,i,w,r);const ke=!!i.pathSegment(n,p,{move:he,reverse:!0});_e=he&&ke,_e||a3(n,i,v,r)}n.closePath(),n.fill(_e?"evenodd":"nonzero"),n.restore()}}function Pne(n,t,e){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:a,end:u}=e||{};"x"===s&&(n.beginPath(),n.rect(a,i,u-a,r-i),n.clip())}function a3(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var Fne={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let s,a,u,h;for(a=0;a<i;++a)s=n.getDatasetMeta(a),u=s.dataset,h=null,u&&u.options&&u instanceof wm&&(h={visible:n.isDatasetVisible(a),index:a,fill:vne(u,a,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:u}),s.$filler=h,r.push(h);for(a=0;a<i;++a)h=r[a],h&&!1!==h.fill&&(h.fill=yne(r,a,e.propagate))},beforeDraw(n,t,e){const i="beforeDraw"===e.drawTime,r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let a=r.length-1;a>=0;--a){const u=r[a].$filler;!u||(u.line.updateControlPoints(s,u.axis),i&&u.fill&&xF(n.ctx,u,s))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;n3(s)&&xF(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!n3(i)||"beforeDatasetDraw"!==e.drawTime||xF(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const l3=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}};class c3 extends jc{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Qi(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,r=fs(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=l3(i,s);let p,v;e.font=r.string,this.isHorizontal()?(p=this.maxWidth,v=this._fitRows(a,s,u,h)+10):(v=this.maxHeight,p=this._fitCols(a,r,u,h)+10),this.width=Math.min(p,t.maxWidth||this.maxWidth),this.height=Math.min(v,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],p=this.lineWidths=[0],v=r+u;let w=t;s.textAlign="left",s.textBaseline="middle";let O=-1,Y=-v;return this.legendItems.forEach((he,_e)=>{const ke=i+e/2+s.measureText(he.text).width;(0===_e||p[p.length-1]+ke+2*u>a)&&(w+=v,p[p.length-(_e>0?0:1)]=0,Y+=v,O++),h[_e]={left:0,top:Y,row:O,width:ke,height:r},p[p.length-1]+=ke+u}),w}_fitCols(t,e,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],p=this.columnSizes=[],v=a-t;let w=u,O=0,Y=0,he=0,_e=0;return this.legendItems.forEach((ke,We)=>{const{itemWidth:Je,itemHeight:ct}=function Nne(n,t,e,i,r){const s=function Bne(n,t,e,i){let r=n.text;return r&&"string"!=typeof r&&(r=r.reduce((s,a)=>s.length>a.length?s:a)),t+e.size/2+i.measureText(r).width}(i,n,t,e),a=function Vne(n,t,e){let i=n;return"string"!=typeof t.text&&(i=u3(t,e)),i}(r,i,t.lineHeight);return{itemWidth:s,itemHeight:a}}(i,e,s,ke,r);We>0&&Y+ct+2*u>v&&(w+=O+u,p.push({width:O,height:Y}),he+=O+u,_e++,O=Y=0),h[We]={left:he,top:Y,col:_e,width:Je,height:ct},O=Math.max(O,Je),Y+=ct+u}),w+=O,p.push({width:O,height:Y}),w}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,a=c0(s,this.left,this.width);if(this.isHorizontal()){let u=0,h=_o(i,this.left+r,this.right-this.lineWidths[u]);for(const p of e)u!==p.row&&(u=p.row,h=_o(i,this.left+r,this.right-this.lineWidths[u])),p.top+=this.top+t+r,p.left=a.leftForLtr(a.x(h),p.width),h+=p.width+r}else{let u=0,h=_o(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const p of e)p.col!==u&&(u=p.col,h=_o(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),p.top=h,p.left+=this.left+r,p.left=a.leftForLtr(a.x(p.left),p.width),h+=p.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;tI(t,this),this._draw(),nI(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:a}=t,u=br.color,h=c0(t.rtl,this.left,this.width),p=fs(a.font),{padding:v}=a,w=p.size,O=w/2;let Y;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=p.string;const{boxWidth:he,boxHeight:_e,itemHeight:ke}=l3(a,w),ct=this.isHorizontal(),ht=this._computeTitleHeight();Y=ct?{x:_o(s,this.left+v,this.right-i[0]),y:this.top+v+ht,line:0}:{x:this.left+v,y:_o(s,this.top+ht+v,this.bottom-e[0].height),line:0},ZU(this.ctx,t.textDirection);const ft=ke+v;this.legendItems.forEach((xt,Tt)=>{r.strokeStyle=xt.fontColor,r.fillStyle=xt.fontColor;const Vt=r.measureText(xt.text).width,un=h.textAlign(xt.textAlign||(xt.textAlign=a.textAlign)),An=he+O+Vt;let Un=Y.x,Wn=Y.y;h.setWidth(this.width),ct?Tt>0&&Un+An+v>this.right&&(Wn=Y.y+=ft,Y.line++,Un=Y.x=_o(s,this.left+v,this.right-i[Y.line])):Tt>0&&Wn+ft>this.bottom&&(Un=Y.x=Un+e[Y.line].width+v,Y.line++,Wn=Y.y=_o(s,this.top+ht+v,this.bottom-e[Y.line].height)),function(xt,Tt,Vt){if(isNaN(he)||he<=0||isNaN(_e)||_e<0)return;r.save();const un=jn(Vt.lineWidth,1);if(r.fillStyle=jn(Vt.fillStyle,u),r.lineCap=jn(Vt.lineCap,"butt"),r.lineDashOffset=jn(Vt.lineDashOffset,0),r.lineJoin=jn(Vt.lineJoin,"miter"),r.lineWidth=un,r.strokeStyle=jn(Vt.strokeStyle,u),r.setLineDash(jn(Vt.lineDash,[])),a.usePointStyle){const An={radius:_e*Math.SQRT2/2,pointStyle:Vt.pointStyle,rotation:Vt.rotation,borderWidth:un},Un=h.xPlus(xt,he/2);LU(r,An,Un,Tt+O,a.pointStyleWidth&&he)}else{const An=Tt+Math.max((w-_e)/2,0),Un=h.leftForLtr(xt,he),Wn=Z_(Vt.borderRadius);r.beginPath(),Object.values(Wn).some(or=>0!==or)?CD(r,{x:Un,y:An,w:he,h:_e,radius:Wn}):r.rect(Un,An,he,_e),r.fill(),0!==un&&r.stroke()}r.restore()}(h.x(Un),Wn,xt),Un=((n,t,e,i)=>n===(i?"left":"right")?e:"center"===n?(t+e)/2:t)(un,Un+he+O,ct?Un+An:this.right,t.rtl),function(xt,Tt,Vt){q_(r,Vt.text,xt,Tt+ke/2,p,{strikethrough:Vt.hidden,textAlign:h.textAlign(Vt.textAlign)})}(h.x(Un),Wn,xt),ct?Y.x+=An+v:Y.y+="string"!=typeof xt.text?u3(xt,p.lineHeight)+v:ft}),KU(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=fs(e.font),r=yo(e.padding);if(!e.display)return;const s=c0(t.rtl,this.left,this.width),a=this.ctx,u=e.position,p=r.top+i.size/2;let v,w=this.left,O=this.width;if(this.isHorizontal())O=Math.max(...this.lineWidths),v=this.top+p,w=_o(t.align,w,this.right-O);else{const he=this.columnSizes.reduce((_e,ke)=>Math.max(_e,ke.height),0);v=p+_o(t.align,this.top,this.bottom-he-t.labels.padding-this._computeTitleHeight())}const Y=_o(u,w,w+O);a.textAlign=s.textAlign(KP(u)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=i.string,q_(a,e.text,Y,v,i)}_computeTitleHeight(){const t=this.options.title,e=fs(t.font),i=yo(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(Cf(t,this.left,this.right)&&Cf(e,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Cf(t,r.left,r.left+r.width)&&Cf(e,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function Hne(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,s=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(r,i);r&&!s&&Qi(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&Qi(e.onHover,[t,i,this],this)}else i&&Qi(e.onClick,[t,i,this],this)}}function u3(n,t){return t*(n.text?n.text.length:0)}var jne={id:"legend",_element:c3,start(n,t,e){const i=n.legend=new c3({ctx:n.ctx,options:e,chart:n});vo.configure(n,i,e),vo.addBox(n,i)},stop(n){vo.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;vo.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const p=h.controller.getStyle(e?0:void 0),v=yo(p.borderWidth);return{text:t[h.index].label,fillStyle:p.backgroundColor,fontColor:s,hidden:!h.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(v.width+v.height)/4,strokeStyle:p.borderColor,pointStyle:i||p.pointStyle,rotation:p.rotation,textAlign:r||p.textAlign,borderRadius:a&&(u||p.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class DF extends jc{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=nr(i.text)?i.text.length:1;this._padding=yo(i.padding);const s=r*fs(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:r,right:s,options:a}=this,u=a.align;let p,v,w,h=0;return this.isHorizontal()?(v=_o(u,i,s),w=e+t,p=s-i):("left"===a.position?(v=i+t,w=_o(u,r,e),h=-.5*ir):(v=s-t,w=_o(u,e,r),h=.5*ir),p=r-e),{titleX:v,titleY:w,maxWidth:p,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=fs(e.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:u,maxWidth:h,rotation:p}=this._drawArgs(s);q_(t,e.text,0,0,i,{color:e.color,maxWidth:h,rotation:p,textAlign:KP(e.align),textBaseline:"middle",translation:[a,u]})}}var zne={id:"title",_element:DF,start(n,t,e){!function Une(n,t){const e=new DF({ctx:n.ctx,options:t,chart:n});vo.configure(n,e,t),vo.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){vo.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;vo.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const xI=new WeakMap;var Gne={id:"subtitle",start(n,t,e){const i=new DF({ctx:n.ctx,options:e,chart:n});vo.configure(n,i,e),vo.addBox(n,i),xI.set(n,i)},stop(n){vo.removeBox(n,xI.get(n)),xI.delete(n)},beforeUpdate(n,t,e){const i=xI.get(n);vo.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const PD={average(n){if(!n.length)return!1;let t,e,i=0,r=0,s=0;for(t=0,e=n.length;t<e;++t){const a=n[t].element;if(a&&a.hasValue()){const u=a.tooltipPosition();i+=u.x,r+=u.y,++s}}return{x:i/s,y:r/s}},nearest(n,t){if(!n.length)return!1;let s,a,u,e=t.x,i=t.y,r=Number.POSITIVE_INFINITY;for(s=0,a=n.length;s<a;++s){const h=n[s].element;if(h&&h.hasValue()){const v=qP(t,h.getCenterPoint());v<r&&(r=v,u=h)}}if(u){const h=u.tooltipPosition();e=h.x,i=h.y}return{x:e,y:i}}};function bd(n,t){return t&&(nr(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Mf(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function $ne(n,t){const{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:a,value:u}=s.getLabelAndValue(r);return{chart:n,label:a,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function d3(n,t){const e=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:a,boxHeight:u}=t,h=fs(t.bodyFont),p=fs(t.titleFont),v=fs(t.footerFont),w=s.length,O=r.length,Y=i.length,he=yo(t.padding);let _e=he.height,ke=0,We=i.reduce((ht,ft)=>ht+ft.before.length+ft.lines.length+ft.after.length,0);We+=n.beforeBody.length+n.afterBody.length,w&&(_e+=w*p.lineHeight+(w-1)*t.titleSpacing+t.titleMarginBottom),We&&(_e+=Y*(t.displayColors?Math.max(u,h.lineHeight):h.lineHeight)+(We-Y)*h.lineHeight+(We-1)*t.bodySpacing),O&&(_e+=t.footerMarginTop+O*v.lineHeight+(O-1)*t.footerSpacing);let Je=0;const ct=function(ht){ke=Math.max(ke,e.measureText(ht).width+Je)};return e.save(),e.font=p.string,Ri(n.title,ct),e.font=h.string,Ri(n.beforeBody.concat(n.afterBody),ct),Je=t.displayColors?a+2+t.boxPadding:0,Ri(i,ht=>{Ri(ht.before,ct),Ri(ht.lines,ct),Ri(ht.after,ct)}),Je=0,e.font=v.string,Ri(n.footer,ct),e.restore(),ke+=he.width,{width:ke,height:_e}}function qne(n,t,e,i){const{x:r,width:s}=e,{width:a,chartArea:{left:u,right:h}}=n;let p="center";return"center"===i?p=r<=(u+h)/2?"left":"right":r<=s/2?p="left":r>=a-s/2&&(p="right"),function Yne(n,t,e,i){const{x:r,width:s}=i,a=e.caretSize+e.caretPadding;if("left"===n&&r+s+a>t.width||"right"===n&&r-s-a<0)return!0}(p,n,t,e)&&(p="center"),p}function h3(n,t,e){const i=e.yAlign||t.yAlign||function Wne(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||qne(n,t,e,i),yAlign:i}}function f3(n,t,e,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=n,{xAlign:u,yAlign:h}=e,p=r+s,{topLeft:v,topRight:w,bottomLeft:O,bottomRight:Y}=Z_(a);let he=function Zne(n,t){let{x:e,width:i}=n;return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(t,u);const _e=function Kne(n,t,e){let{y:i,height:r}=n;return"top"===t?i+=e:i-="bottom"===t?r+e:r/2,i}(t,h,p);return"center"===h?"left"===u?he+=p:"right"===u&&(he-=p):"left"===u?he-=Math.max(v,O)+r:"right"===u&&(he+=Math.max(w,Y)+r),{x:Rs(he,0,i.width-t.width),y:Rs(_e,0,i.height-t.height)}}function DI(n,t,e){const i=yo(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-i.right:n.x+i.left}function p3(n){return bd([],Mf(n))}function m3(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const g3={beforeTitle:wf,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:wf,beforeBody:wf,beforeLabel:wf,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return hi(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:wf,afterBody:wf,beforeFooter:wf,footer:wf,afterFooter:wf};function ra(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?g3[t].call(e,i):r}class SF extends jc{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,s=new rz(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=function Xne(n,t,e){return bm(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=ra(i,"beforeTitle",this,t),s=ra(i,"title",this,t),a=ra(i,"afterTitle",this,t);let u=[];return u=bd(u,Mf(r)),u=bd(u,Mf(s)),u=bd(u,Mf(a)),u}getBeforeBody(t,e){return p3(ra(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Ri(t,s=>{const a={before:[],lines:[],after:[]},u=m3(i,s);bd(a.before,Mf(ra(u,"beforeLabel",this,s))),bd(a.lines,ra(u,"label",this,s)),bd(a.after,Mf(ra(u,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(t,e){return p3(ra(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=ra(i,"beforeFooter",this,t),s=ra(i,"footer",this,t),a=ra(i,"afterFooter",this,t);let u=[];return u=bd(u,Mf(r)),u=bd(u,Mf(s)),u=bd(u,Mf(a)),u}_createItems(t){const e=this._active,i=this.chart.data,r=[],s=[],a=[];let h,p,u=[];for(h=0,p=e.length;h<p;++h)u.push($ne(this.chart,e[h]));return t.filter&&(u=u.filter((v,w,O)=>t.filter(v,w,O,i))),t.itemSort&&(u=u.sort((v,w)=>t.itemSort(v,w,i))),Ri(u,v=>{const w=m3(t.callbacks,v);r.push(ra(w,"labelColor",this,v)),s.push(ra(w,"labelPointStyle",this,v)),a.push(ra(w,"labelTextColor",this,v))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let s,a=[];if(r.length){const u=PD[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const h=this._size=d3(this,i),p=Object.assign({},u,h),v=h3(this.chart,i,p),w=f3(i,p,v,this.chart);this.xAlign=v.xAlign,this.yAlign=v.yAlign,s={opacity:1,x:w.x,y:w.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const s=this.getCaretPosition(t,i,r);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:u}=i,{topLeft:h,topRight:p,bottomLeft:v,bottomRight:w}=Z_(u),{x:O,y:Y}=t,{width:he,height:_e}=e;let ke,We,Je,ct,ht,ft;return"center"===s?(ht=Y+_e/2,"left"===r?(ke=O,We=ke-a,ct=ht+a,ft=ht-a):(ke=O+he,We=ke+a,ct=ht-a,ft=ht+a),Je=ke):(We="left"===r?O+Math.max(h,v)+a:"right"===r?O+he-Math.max(p,w)-a:this.caretX,"top"===s?(ct=Y,ht=ct-a,ke=We-a,Je=We+a):(ct=Y+_e,ht=ct+a,ke=We+a,Je=We-a),ft=ct),{x1:ke,x2:We,x3:Je,y1:ct,y2:ht,y3:ft}}drawTitle(t,e,i){const r=this.title,s=r.length;let a,u,h;if(s){const p=c0(i.rtl,this.x,this.width);for(t.x=DI(this,i.titleAlign,i),e.textAlign=p.textAlign(i.titleAlign),e.textBaseline="middle",a=fs(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=a.string,h=0;h<s;++h)e.fillText(r[h],p.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+u,h+1===s&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,r,s){const a=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:p}=s,v=fs(s.bodyFont),w=DI(this,"left",s),O=r.x(w),he=e.y+(h<v.lineHeight?(v.lineHeight-h)/2:0);if(s.usePointStyle){const _e={radius:Math.min(p,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},ke=r.leftForLtr(O,p)+p/2,We=he+h/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,tF(t,_e,ke,We),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,tF(t,_e,ke,We)}else{t.lineWidth=si(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const _e=r.leftForLtr(O,p),ke=r.leftForLtr(r.xPlus(O,1),p-2),We=Z_(a.borderRadius);Object.values(We).some(Je=>0!==Je)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,CD(t,{x:_e,y:he,w:p,h,radius:We}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),CD(t,{x:ke,y:he+1,w:p-2,h:h-2,radius:We}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(_e,he,p,h),t.strokeRect(_e,he,p,h),t.fillStyle=a.backgroundColor,t.fillRect(ke,he+1,p-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:u,boxHeight:h,boxWidth:p,boxPadding:v}=i,w=fs(i.bodyFont);let O=w.lineHeight,Y=0;const he=c0(i.rtl,this.x,this.width),_e=function(Vt){e.fillText(Vt,he.x(t.x+Y),t.y+O/2),t.y+=O+s},ke=he.textAlign(a);let We,Je,ct,ht,ft,xt,Tt;for(e.textAlign=a,e.textBaseline="middle",e.font=w.string,t.x=DI(this,ke,i),e.fillStyle=i.bodyColor,Ri(this.beforeBody,_e),Y=u&&"right"!==ke?"center"===a?p/2+v:p+2+v:0,ht=0,xt=r.length;ht<xt;++ht){for(We=r[ht],Je=this.labelTextColors[ht],e.fillStyle=Je,Ri(We.before,_e),ct=We.lines,u&&ct.length&&(this._drawColorBox(e,t,ht,he,i),O=Math.max(w.lineHeight,h)),ft=0,Tt=ct.length;ft<Tt;++ft)_e(ct[ft]),O=w.lineHeight;Ri(We.after,_e)}Y=0,O=w.lineHeight,Ri(this.afterBody,_e),t.y-=s}drawFooter(t,e,i){const r=this.footer,s=r.length;let a,u;if(s){const h=c0(i.rtl,this.x,this.width);for(t.x=DI(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=h.textAlign(i.footerAlign),e.textBaseline="middle",a=fs(i.footerFont),e.fillStyle=i.footerColor,e.font=a.string,u=0;u<s;++u)e.fillText(r[u],h.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:s,yAlign:a}=this,{x:u,y:h}=t,{width:p,height:v}=i,{topLeft:w,topRight:O,bottomLeft:Y,bottomRight:he}=Z_(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+w,h),"top"===a&&this.drawCaret(t,e,i,r),e.lineTo(u+p-O,h),e.quadraticCurveTo(u+p,h,u+p,h+O),"center"===a&&"right"===s&&this.drawCaret(t,e,i,r),e.lineTo(u+p,h+v-he),e.quadraticCurveTo(u+p,h+v,u+p-he,h+v),"bottom"===a&&this.drawCaret(t,e,i,r),e.lineTo(u+Y,h+v),e.quadraticCurveTo(u,h+v,u,h+v-Y),"center"===a&&"left"===s&&this.drawCaret(t,e,i,r),e.lineTo(u,h+w),e.quadraticCurveTo(u,h,u+w,h),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const a=PD[t.position].call(this,this._active,this._eventPosition);if(!a)return;const u=this._size=d3(this,t),h=Object.assign({},a,this._size),p=h3(e,t,h),v=f3(t,h,p,e);(r._to!==v.x||s._to!==v.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=u.width,this.height=u.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,v))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=yo(e.padding);e.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,e),ZU(t,e.textDirection),s.y+=a.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),KU(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:u,index:h})=>{const p=this.chart.getDatasetMeta(u);if(!p)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:p.data[h],index:h}}),s=!ZT(i,r),a=this._positionChanged(r,e);(s||a)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],a=this._getActiveElements(t,s,e,i),u=this._positionChanged(a,t),h=e||!ZT(a,s)||u;return h&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),h}_getActiveElements(t,e,i,r){const s=this.options;if("mouseout"===t.type)return[];if(!r)return e;const a=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(t,e){const{caretX:i,caretY:r,options:s}=this,a=PD[s.position].call(this,t,e);return!1!==a&&(i!==a.x||r!==a.y)}}Kt(SF,"positioners",PD);var Qne={id:"tooltip",_element:SF,positioners:PD,afterInit(n,t,e){e&&(n.tooltip=new SF({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:g3},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Jne=Object.freeze({__proto__:null,Colors:dne,Decimation:mne,Filler:Fne,Legend:jne,SubTitle:Gne,Title:zne,Tooltip:Qne});function _3(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class EF extends ty{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:s}of e)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(hi(t))return null;const i=this.getLabels();return((n,t)=>null===n?null:Rs(Math.round(n),0,t))(e=isFinite(e)&&i[e]===t?e:function tie(n,t,e,i){const r=n.indexOf(t);return-1===r?((n,t,e,i)=>("string"==typeof t?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,i):r!==n.lastIndexOf(t)?e:r}(i,t,jn(e,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=0===t&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=e;a++)r.push({value:a});return r}getLabelForValue(t){return _3.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function y3(n,t,{horizontal:e,minRotation:i}){const r=Vc(i),s=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(t/s,.75*t*(""+n).length)}Kt(EF,"id","category"),Kt(EF,"defaults",{ticks:{callback:_3}});class SI extends ty{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return hi(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=h=>r=e?r:h,u=h=>s=i?s:h;if(t){const h=yd(r),p=yd(s);h<0&&p<0?u(0):h>0&&p>0&&a(0)}if(r===s){let h=0===s?1:Math.abs(.05*s);u(s+h),t||a(r-h)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let r,{maxTicksLimit:e,stepSize:i}=t;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a=function iie(n,t){const e=[],{bounds:r,step:s,min:a,max:u,precision:h,count:p,maxTicks:v,maxDigits:w,includeBounds:O}=n,Y=s||1,he=v-1,{min:_e,max:ke}=t,We=!hi(a),Je=!hi(u),ct=!hi(p),ht=(ke-_e)/(w+1);let xt,Tt,Vt,un,ft=vU((ke-_e)/he/Y)*Y;if(ft<1e-14&&!We&&!Je)return[{value:_e},{value:ke}];un=Math.ceil(ke/ft)-Math.floor(_e/ft),un>he&&(ft=vU(un*ft/he/Y)*Y),hi(h)||(xt=Math.pow(10,h),ft=Math.ceil(ft*xt)/xt),"ticks"===r?(Tt=Math.floor(_e/ft)*ft,Vt=Math.ceil(ke/ft)*ft):(Tt=_e,Vt=ke),We&&Je&&s&&function XQ(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((u-a)/s,ft/1e3)?(un=Math.round(Math.min((u-a)/ft,v)),ft=(u-a)/un,Tt=a,Vt=u):ct?(Tt=We?a:Tt,Vt=Je?u:Vt,un=p-1,ft=(Vt-Tt)/un):(un=(Vt-Tt)/ft,un=_D(un,Math.round(un),ft/1e3)?Math.round(un):Math.ceil(un));const An=Math.max(wU(ft),wU(Tt));xt=Math.pow(10,hi(h)?An:h),Tt=Math.round(Tt*xt)/xt,Vt=Math.round(Vt*xt)/xt;let Un=0;for(We&&(O&&Tt!==a?(e.push({value:a}),Tt<a&&Un++,_D(Math.round((Tt+Un*ft)*xt)/xt,a,y3(a,ht,n))&&Un++):Tt<a&&Un++);Un<un;++Un){const Wn=Math.round((Tt+Un*ft)*xt)/xt;if(Je&&Wn>u)break;e.push({value:Wn})}return Je&&O&&Vt!==u?e.length&&_D(e[e.length-1].value,u,y3(u,ht,n))?e[e.length-1].value=u:e.push({value:u}):(!Je||Vt===u)&&e.push({value:Vt}),e}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&bU(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return bD(t,this.chart.options.locale,this.options.ticks.format)}}class MF extends SI{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Or(t)?t:0,this.max=Or(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Vc(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Kt(MF,"id","linear"),Kt(MF,"defaults",{ticks:{callback:JT.formatters.numeric}});const FD=n=>Math.floor(vm(n)),ny=(n,t)=>Math.pow(10,FD(n)+t);function v3(n){return n/Math.pow(10,FD(n))==1}function b3(n,t,e){const i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}class AF extends ty{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=SI.prototype.parse.apply(this,[t,e]);if(0!==i)return Or(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Or(t)?Math.max(0,t):null,this.max=Or(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Or(this._userMin)&&(this.min=t===ny(this.min,0)?ny(this.min,-1):ny(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const s=u=>i=t?i:u,a=u=>r=e?r:u;i===r&&(i<=0?(s(1),a(10)):(s(ny(i,-1)),a(ny(r,1)))),i<=0&&s(ny(r,-1)),r<=0&&a(ny(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,i=function sie(n,{min:t,max:e}){t=Ua(n.min,t);const i=[],r=FD(t);let s=function rie(n,t){let i=FD(t-n);for(;b3(n,t,i)>10;)i++;for(;b3(n,t,i)<10;)i--;return Math.min(i,FD(n))}(t,e),a=s<0?Math.pow(10,Math.abs(s)):1;const u=Math.pow(10,s),h=r>s?Math.pow(10,r):0,p=Math.round((t-h)*a)/a,v=Math.floor((t-h)/u/10)*u*10;let w=Math.floor((p-v)/Math.pow(10,s)),O=Ua(n.min,Math.round((h+v+w*Math.pow(10,s))*a)/a);for(;O<e;)i.push({value:O,major:v3(O),significand:w}),w>=10?w=w<15?15:20:w++,w>=20&&(s++,w=2,a=s>=0?1:a),O=Math.round((h+v+w*Math.pow(10,s))*a)/a;const Y=Ua(n.max,O);return i.push({value:Y,major:v3(Y),significand:w}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&bU(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":bD(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=vm(t),this._valueRange=vm(this.max)-vm(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(vm(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function TF(n){const t=n.ticks;if(t.display&&n.display){const e=yo(t.backdropPadding);return jn(t.font&&t.font.size,br.font.size)+e.height}return 0}function oie(n,t,e){return e=nr(e)?e:[e],{w:pJ(n,t.string,e),h:e.length*t.lineHeight}}function w3(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function lie(n,t,e,i,r){const s=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e));let u=0,h=0;i.start<t.l?(u=(t.l-i.start)/s,n.l=Math.min(n.l,t.l-u)):i.end>t.r&&(u=(i.end-t.r)/s,n.r=Math.max(n.r,t.r+u)),r.start<t.t?(h=(t.t-r.start)/a,n.t=Math.min(n.t,t.t-h)):r.end>t.b&&(h=(r.end-t.b)/a,n.b=Math.max(n.b,t.b+h))}function cie(n,t,e){const i=n.drawingArea,{extra:r,additionalAngle:s,padding:a,size:u}=e,h=n.getPointPosition(t,i+r+a,s),p=Math.round(YP(za(h.angle+jr))),v=function pie(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}(h.y,u.h,p),w=function hie(n){return 0===n||180===n?"center":n<180?"left":"right"}(p),O=function fie(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}(h.x,u.w,w);return{visible:!0,x:h.x,y:v,textAlign:w,left:O,top:v,right:O+u.w,bottom:v+u.h}}function uie(n,t){if(!t)return!0;const{left:e,top:i,right:r,bottom:s}=n;return!(Df({x:e,y:i},t)||Df({x:e,y:s},t)||Df({x:r,y:i},t)||Df({x:r,y:s},t))}function mie(n,t,e){const{left:i,top:r,right:s,bottom:a}=e,{backdropColor:u}=t;if(!hi(u)){const h=Z_(t.borderRadius),p=yo(t.backdropPadding);n.fillStyle=u;const v=i-p.left,w=r-p.top,O=s-i+p.width,Y=a-r+p.height;Object.values(h).some(he=>0!==he)?(n.beginPath(),CD(n,{x:v,y:w,w:O,h:Y,radius:h}),n.fill()):n.fillRect(v,w,O,Y)}}function C3(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,rr);else{let s=n.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let a=1;a<i;a++)s=n.getPointPosition(a,t),r.lineTo(s.x,s.y)}}Kt(AF,"id","logarithmic"),Kt(AF,"defaults",{ticks:{callback:JT.formatters.logarithmic,major:{enabled:!0}}});class LD extends SI{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=yo(TF(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Or(t)&&!isNaN(t)?t:0,this.max=Or(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/TF(this.options))}generateTickLabels(t){SI.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=Qi(this.options.pointLabels.callback,[e,i],this);return r||0===r?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?function aie(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],s=n._pointLabels.length,a=n.options.pointLabels,u=a.centerPointLabels?ir/s:0;for(let h=0;h<s;h++){const p=a.setContext(n.getPointLabelContext(h));r[h]=p.padding;const v=n.getPointPosition(h,n.drawingArea+r[h],u),w=fs(p.font),O=oie(n.ctx,w,n._pointLabels[h]);i[h]=O;const Y=za(n.getIndexAngle(h)+u),he=Math.round(YP(Y));lie(e,t,Y,w3(he,v.x,O.w,0,180),w3(he,v.y,O.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function die(n,t,e){const i=[],r=n._pointLabels.length,s=n.options,{centerPointLabels:a,display:u}=s.pointLabels,h={extra:TF(s)/2,additionalAngle:a?ir/r:0};let p;for(let v=0;v<r;v++){h.padding=e[v],h.size=t[v];const w=cie(n,v,h);i.push(w),"auto"===u&&(w.visible=uie(w,p),w.visible&&(p=w))}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){return za(t*(rr/(this._pointLabels.length||1))+Vc(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(hi(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(hi(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function yie(n,t,e){return bm(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-jr+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),C3(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r,border:s}=e,a=this._pointLabels.length;let u,h,p;if(e.pointLabels.display&&function gie(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const s=n._pointLabelItems[r];if(!s.visible)continue;const a=i.setContext(n.getPointLabelContext(r));mie(e,a,s);const u=fs(a.font),{x:h,y:p,textAlign:v}=s;q_(e,n._pointLabels[r],h,p+u.lineHeight/2,u,{color:a.color,textAlign:v,textBaseline:"middle"})}}(this,a),r.display&&this.ticks.forEach((v,w)=>{if(0!==w){h=this.getDistanceFromCenterForValue(v.value);const O=this.getContext(w),Y=r.setContext(O),he=s.setContext(O);!function _ie(n,t,e,i,r){const s=n.ctx,a=t.circular,{color:u,lineWidth:h}=t;!a&&!i||!u||!h||e<0||(s.save(),s.strokeStyle=u,s.lineWidth=h,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),C3(n,e,a,i),s.closePath(),s.stroke(),s.restore())}(this,Y,h,a,he)}}),i.display){for(t.save(),u=a-1;u>=0;u--){const v=i.setContext(this.getPointLabelContext(u)),{color:w,lineWidth:O}=v;!O||!w||(t.lineWidth=O,t.strokeStyle=w,t.setLineDash(v.borderDash),t.lineDashOffset=v.borderDashOffset,h=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),p=this.getPointPosition(u,h),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(p.x,p.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((u,h)=>{if(0===h&&!e.reverse)return;const p=i.setContext(this.getContext(h)),v=fs(p.font);if(s=this.getDistanceFromCenterForValue(this.ticks[h].value),p.showLabelBackdrop){t.font=v.string,a=t.measureText(u.label).width,t.fillStyle=p.backdropColor;const w=yo(p.backdropPadding);t.fillRect(-a/2-w.left,-s-v.size/2-w.top,a+w.width,v.size+w.height)}q_(t,u.label,0,-s,v,{color:p.color,strokeColor:p.textStrokeColor,strokeWidth:p.textStrokeWidth})}),t.restore()}drawTitle(){}}Kt(LD,"id","radialLinear"),Kt(LD,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:JT.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),Kt(LD,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Kt(LD,"descriptors",{angleLines:{_fallback:"grid"}});const EI={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},sa=Object.keys(EI);function x3(n,t){return n-t}function D3(n,t){if(hi(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let a=t;return"function"==typeof i&&(a=i(a)),Or(a)||(a="string"==typeof i?e.parse(a,i):e.parse(a)),null===a?null:(r&&(a="week"!==r||!o0(s)&&!0!==s?e.startOf(a,r):e.startOf(a,"isoWeek",s)),+a)}function S3(n,t,e,i){const r=sa.length;for(let s=sa.indexOf(n);s<r-1;++s){const a=EI[sa[s]],u=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((e-t)/(u*a.size))<=i)return sa[s]}return sa[r-1]}function E3(n,t,e){if(e){if(e.length){const{lo:i,hi:r}=ZP(e,t);n[e[i]>=t?e[i]:e[r]]=!0}}else n[t]=!0}function M3(n,t,e){const i=[],r={},s=t.length;let a,u;for(a=0;a<s;++a)u=t[a],r[u]=a,i.push({value:u,major:!1});return 0!==s&&e?function wie(n,t,e,i){const r=n._adapter,s=+r.startOf(t[0].value,i),a=t[t.length-1].value;let u,h;for(u=s;u<=a;u=+r.add(u,1,i))h=e[u],h>=0&&(t[h].major=!0);return t}(n,i,r,e):i}class ND extends ty{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new Iee__date(t.adapters.date);r.init(e),mD(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:D3(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:u}=this.getUserBounds();function h(p){!a&&!isNaN(p.min)&&(r=Math.min(r,p.min)),!u&&!isNaN(p.max)&&(s=Math.max(s,p.max))}(!a||!u)&&(h(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&h(this.getMinMax(!1))),r=Or(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),s=Or(s)&&!isNaN(s)?s:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,u=function tJ(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}(r,s,this.max);return this._unit=e.unit||(i.autoSkip?S3(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):function vie(n,t,e,i,r){for(let s=sa.length-1;s>=sa.indexOf(e);s--){const a=sa[s];if(EI[a].common&&n._adapter.diff(r,i,a)>=t-1)return a}return sa[e?sa.indexOf(e):0]}(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function bie(n){for(let t=sa.indexOf(n)+1,e=sa.length;t<e;++t)if(EI[sa[t]].common)return sa[t]}(this._unit):void 0,this.initOffsets(r),t.reverse&&u.reverse(),M3(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r,s,e=0,i=0;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),e=1===t.length?1-r:(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),i=1===t.length?s:(s-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;e=Rs(e,0,a),i=Rs(i,0,a),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,s=r.time,a=s.unit||S3(s.minUnit,e,i,this._getLabelCapacity(e)),u=jn(r.ticks.stepSize,1),h="week"===a&&s.isoWeekday,p=o0(h)||!0===h,v={};let O,Y,w=e;if(p&&(w=+t.startOf(w,"isoWeek",h)),w=+t.startOf(w,p?"day":a),t.diff(i,e,a)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+a);const he="data"===r.ticks.source&&this.getDataTimestamps();for(O=w,Y=0;O<i;O=+t.add(O,u,a),Y++)E3(v,O,he);return(O===i||"ticks"===r.bounds||1===Y)&&E3(v,O,he),Object.keys(v).sort(x3).map(_e=>+_e)}getLabelForValue(t){const i=this.options.time;return this._adapter.format(t,i.tooltipFormat?i.tooltipFormat:i.displayFormats.datetime)}format(t,e){return this._adapter.format(t,e||this.options.time.displayFormats[this._unit])}_tickFormatFunction(t,e,i,r){const s=this.options,a=s.ticks.callback;if(a)return Qi(a,[t,e,i],this);const u=s.time.displayFormats,h=this._unit,p=this._majorUnit,w=p&&u[p],O=i[e];return this._adapter.format(t,r||(p&&w&&O&&O.major?w:h&&u[h]))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Vc(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(r),a=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*s+u*a,h:i*a+u*s}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,s=this._tickFormatFunction(t,0,M3(this,[t],this._majorUnit),r),a=this._getLabelSize(s),u=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return u>0?u:1}getDataTimestamps(){let e,i,t=this._cache.data||[];if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(D3(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return SU(t.sort(x3))}}function MI(n,t,e){let s,a,u,h,i=0,r=n.length-1;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=xf(n,"pos",t)),({pos:s,time:u}=n[i]),({pos:a,time:h}=n[r])):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=xf(n,"time",t)),({time:s,pos:u}=n[i]),({time:a,pos:h}=n[r]));const p=a-s;return p?u+(h-u)*(t-s)/p:u}Kt(ND,"id","time"),Kt(ND,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class IF extends ND{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=MI(e,this.min),this._tableRange=MI(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],s=[];let a,u,h,p,v;for(a=0,u=t.length;a<u;++a)p=t[a],p>=e&&p<=i&&r.push(p);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(a=0,u=r.length;a<u;++a)v=r[a+1],h=r[a-1],p=r[a],Math.round((v+h)/2)!==p&&s.push({time:p,pos:a/(u-1)});return s}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||1===i.length)&&i.push(e),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(MI(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return MI(this._table,i*this._tableRange+this._minPos,!0)}}Kt(IF,"id","timeseries"),Kt(IF,"defaults",ND.defaults);const xie=[Tee,sne,Jne,Object.freeze({__proto__:null,CategoryScale:EF,LinearScale:MF,LogarithmicScale:AF,RadialLinearScale:LD,TimeScale:ND,TimeSeriesScale:IF})],AI=function Eie(n,t){return n===t||n!=n&&t!=t},TI=function Mie(n,t){for(var e=n.length;e--;)if(AI(n[e][0],t))return e;return-1};var Tie=Array.prototype.splice;function d0(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}d0.prototype.clear=function Die(){this.__data__=[],this.size=0},d0.prototype.delete=function Iie(n){var t=this.__data__,e=TI(t,n);return!(e<0||(e==t.length-1?t.pop():Tie.call(t,e,1),--this.size,0))},d0.prototype.get=function Rie(n){var t=this.__data__,e=TI(t,n);return e<0?void 0:t[e][1]},d0.prototype.has=function Pie(n){return TI(this.__data__,n)>-1},d0.prototype.set=function Lie(n,t){var e=this.__data__,i=TI(e,n);return i<0?(++this.size,e.push([n,t])):e[i][1]=t,this};const II=d0,A3="object"==typeof global&&global&&global.Object===Object&&global;var Yie="object"==typeof self&&self&&self.Object===Object&&self;const h0=A3||Yie||Function("return this")();var Zie=h0.Symbol,T3=Object.prototype,Kie=T3.hasOwnProperty,Xie=T3.toString,BD=Zie?Zie.toStringTag:void 0;var tre=Object.prototype.toString;var I3=Zie?Zie.toStringTag:void 0;const RI=function ore(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":I3&&I3 in Object(n)?function Qie(n){var t=Kie.call(n,BD),e=n[BD];try{n[BD]=void 0;var i=!0}catch{}var r=Xie.call(n);return i&&(t?n[BD]=e:delete n[BD]),r}(n):function nre(n){return tre.call(n)}(n)},iy=function are(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)},kF=function hre(n){if(!iy(n))return!1;var t=RI(n);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},RF=h0["__core-js_shared__"];var k3=function(){var n=/[^.]+$/.exec(RF&&RF.keys&&RF.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();var _re=Function.prototype.toString;var wre=/^\[object .+?Constructor\]$/,Ere=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Are=function Mre(n){return!(!iy(n)||function pre(n){return!!k3&&k3 in n}(n))&&(kF(n)?Ere:wre).test(function yre(n){if(null!=n){try{return _re.call(n)}catch{}try{return n+""}catch{}}return""}(n))},OF=function kre(n,t){var e=function Tre(n,t){return n?.[t]}(n,t);return Are(e)?e:void 0},R3=OF(h0,"Map"),VD=OF(Object,"create");var Hre=Object.prototype.hasOwnProperty;var Gre=Object.prototype.hasOwnProperty;function f0(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}f0.prototype.clear=function Pre(){this.__data__=VD?VD(null):{},this.size=0},f0.prototype.delete=function Lre(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t},f0.prototype.get=function jre(n){var t=this.__data__;if(VD){var e=t[n];return"__lodash_hash_undefined__"===e?void 0:e}return Hre.call(t,n)?t[n]:void 0},f0.prototype.has=function $re(n){var t=this.__data__;return VD?void 0!==t[n]:Gre.call(t,n)},f0.prototype.set=function qre(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=VD&&void 0===t?"__lodash_hash_undefined__":t,this};const O3=f0,OI=function ese(n,t){var e=n.__data__;return function Qre(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}(t)?e["string"==typeof t?"string":"hash"]:e.map};function p0(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}p0.prototype.clear=function Kre(){this.size=0,this.__data__={hash:new O3,map:new(R3||II),string:new O3}},p0.prototype.delete=function tse(n){var t=OI(this,n).delete(n);return this.size-=t?1:0,t},p0.prototype.get=function ise(n){return OI(this,n).get(n)},p0.prototype.has=function sse(n){return OI(this,n).has(n)},p0.prototype.set=function ase(n,t){var e=OI(this,n),i=e.size;return e.set(n,t),this.size+=e.size==i?0:1,this};const cse=p0;function m0(n){var t=this.__data__=new II(n);this.size=t.size}m0.prototype.clear=function Bie(){this.__data__=new II,this.size=0},m0.prototype.delete=function Hie(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e},m0.prototype.get=function Uie(n){return this.__data__.get(n)},m0.prototype.has=function Gie(n){return this.__data__.has(n)},m0.prototype.set=function dse(n,t){var e=this.__data__;if(e instanceof II){var i=e.__data__;if(!R3||i.length<199)return i.push([n,t]),this.size=++e.size,this;e=this.__data__=new cse(i)}return e.set(n,t),this.size=e.size,this};const fse=m0;var pse=function(){try{var n=OF(Object,"defineProperty");return n({},"",{}),n}catch{}}();const PI=pse,PF=function mse(n,t,e){"__proto__"==t&&PI?PI(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e},FF=function gse(n,t,e){(void 0!==e&&!AI(n[t],e)||void 0===e&&!(t in n))&&PF(n,t,e)};var yse=function _se(n){return function(t,e,i){for(var r=-1,s=Object(t),a=i(t),u=a.length;u--;){var h=a[n?u:++r];if(!1===e(s[h],h,s))break}return t}}();const vse=yse;var P3="object"==typeof exports&&exports&&!exports.nodeType&&exports,F3=P3&&"object"==typeof module&&module&&!module.nodeType&&module,L3=F3&&F3.exports===P3?h0.Buffer:void 0,N3=L3?L3.allocUnsafe:void 0;const B3=h0.Uint8Array,Mse=function Ese(n,t){var e=t?function Dse(n){var t=new n.constructor(n.byteLength);return new B3(t).set(new B3(n)),t}(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)};var V3=Object.create,Ise=function(){function n(){}return function(t){if(!iy(t))return{};if(V3)return V3(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();const kse=Ise;var Ose=function Rse(n,t){return function(e){return n(t(e))}}(Object.getPrototypeOf,Object);const H3=Ose;var Pse=Object.prototype;const j3=function Fse(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||Pse)},HD=function Bse(n){return null!=n&&"object"==typeof n},U3=function Hse(n){return HD(n)&&"[object Arguments]"==RI(n)};var z3=Object.prototype,jse=z3.hasOwnProperty,Use=z3.propertyIsEnumerable,zse=U3(function(){return arguments}())?U3:function(n){return HD(n)&&jse.call(n,"callee")&&!Use.call(n,"callee")};const LF=zse,NF=Array.isArray,G3=function Wse(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},BF=function Yse(n){return null!=n&&G3(n.length)&&!kF(n)};var $3="object"==typeof exports&&exports&&!exports.nodeType&&exports,W3=$3&&"object"==typeof module&&module&&!module.nodeType&&module,Y3=W3&&W3.exports===$3?h0.Buffer:void 0;const q3=(Y3?Y3.isBuffer:void 0)||function Kse(){return!1};var Z3=Function.prototype.toString,roe=Object.prototype.hasOwnProperty,soe=Z3.call(Object);var sr={};sr["[object Float32Array]"]=sr["[object Float64Array]"]=sr["[object Int8Array]"]=sr["[object Int16Array]"]=sr["[object Int32Array]"]=sr["[object Uint8Array]"]=sr["[object Uint8ClampedArray]"]=sr["[object Uint16Array]"]=sr["[object Uint32Array]"]=!0,sr["[object Arguments]"]=sr["[object Array]"]=sr["[object ArrayBuffer]"]=sr["[object Boolean]"]=sr["[object DataView]"]=sr["[object Date]"]=sr["[object Error]"]=sr["[object Function]"]=sr["[object Map]"]=sr["[object Number]"]=sr["[object Object]"]=sr["[object RegExp]"]=sr["[object Set]"]=sr["[object String]"]=sr["[object WeakMap]"]=!1;var K3="object"==typeof exports&&exports&&!exports.nodeType&&exports,jD=K3&&"object"==typeof module&&module&&!module.nodeType&&module,VF=jD&&jD.exports===K3&&A3.process,Noe=function(){try{return jD&&jD.require&&jD.require("util").types||VF&&VF.binding&&VF.binding("util")}catch{}}(),Q3=Noe&&Noe.isTypedArray;const J3=Q3?function Poe(n){return function(t){return n(t)}}(Q3):function Roe(n){return HD(n)&&G3(n.length)&&!!sr[RI(n)]},HF=function Voe(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]};var joe=Object.prototype.hasOwnProperty;const zoe=function Uoe(n,t,e){var i=n[t];(!joe.call(n,t)||!AI(i,e)||void 0===e&&!(t in n))&&PF(n,t,e)};var Zoe=/^(?:0|[1-9]\d*)$/;const eG=function Koe(n,t){var e=typeof n;return!!(t=t??9007199254740991)&&("number"==e||"symbol"!=e&&Zoe.test(n))&&n>-1&&n%1==0&&n<t};var Qoe=Object.prototype.hasOwnProperty;const eae=function Joe(n,t){var e=NF(n),i=!e&&LF(n),r=!e&&!i&&q3(n),s=!e&&!i&&!r&&J3(n),a=e||i||r||s,u=a?function Woe(n,t){for(var e=-1,i=Array(n);++e<n;)i[e]=t(e);return i}(n.length,String):[],h=u.length;for(var p in n)(t||Qoe.call(n,p))&&(!a||!("length"==p||r&&("offset"==p||"parent"==p)||s&&("buffer"==p||"byteLength"==p||"byteOffset"==p)||eG(p,h)))&&u.push(p);return u};var rae=Object.prototype.hasOwnProperty;const oae=function sae(n){if(!iy(n))return function tae(n){var t=[];if(null!=n)for(var e in Object(n))t.push(e);return t}(n);var t=j3(n),e=[];for(var i in n)"constructor"==i&&(t||!rae.call(n,i))||e.push(i);return e},tG=function aae(n){return BF(n)?eae(n,!0):oae(n)},cae=function lae(n){return function Goe(n,t,e,i){var r=!e;e||(e={});for(var s=-1,a=t.length;++s<a;){var u=t[s],h=i?i(e[u],n[u],u,e,n):void 0;void 0===h&&(h=n[u]),r?PF(e,u,h):zoe(e,u,h)}return e}(n,tG(n))},dae=function uae(n,t,e,i,r,s,a){var u=HF(n,e),h=HF(t,e),p=a.get(h);if(p)FF(n,e,p);else{var v=s?s(u,h,e+"",n,t,a):void 0,w=void 0===v;if(w){var O=NF(h),Y=!O&&q3(h),he=!O&&!Y&&J3(h);v=h,O||Y||he?NF(u)?v=u:function qse(n){return HD(n)&&BF(n)}(u)?v=function Ase(n,t){var e=-1,i=n.length;for(t||(t=Array(i));++e<i;)t[e]=n[e];return t}(u):Y?(w=!1,v=function wse(n,t){if(t)return n.slice();var e=n.length,i=N3?N3(e):new n.constructor(e);return n.copy(i),i}(h,!0)):he?(w=!1,v=Mse(h,!0)):v=[]:function ooe(n){if(!HD(n)||"[object Object]"!=RI(n))return!1;var t=H3(n);if(null===t)return!0;var e=roe.call(t,"constructor")&&t.constructor;return"function"==typeof e&&e instanceof e&&Z3.call(e)==soe}(h)||LF(h)?(v=u,LF(u)?v=cae(u):(!iy(u)||kF(u))&&(v=function Lse(n){return"function"!=typeof n.constructor||j3(n)?{}:kse(H3(n))}(h))):w=!1}w&&(a.set(h,v),r(v,h,i,s,a),a.delete(h)),FF(n,e,v)}},hae=function nG(n,t,e,i,r){n!==t&&vse(t,function(s,a){if(r||(r=new fse),iy(s))dae(n,t,a,e,nG,i,r);else{var u=i?i(HF(n,a),s,a+"",n,t,r):void 0;void 0===u&&(u=s),FF(n,a,u)}},tG)},iG=function fae(n){return n},mae=function pae(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)};var rG=Math.max;const vae=function yae(n){return function(){return n}};var bae=PI?function(n,t){return PI(n,"toString",{configurable:!0,enumerable:!1,value:vae(t),writable:!0})}:iG,Dae=Date.now,Eae=function Sae(n){var t=0,e=0;return function(){var i=Dae(),r=16-(i-e);if(e=i,r>0){if(++t>=800)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}(bae);const Mae=Eae,Tae=function Aae(n,t){return Mae(function gae(n,t,e){return t=rG(void 0===t?n.length-1:t,0),function(){for(var i=arguments,r=-1,s=rG(i.length-t,0),a=Array(s);++r<s;)a[r]=i[t+r];r=-1;for(var u=Array(t+1);++r<t;)u[r]=i[r];return u[t]=e(a),mae(n,this,u)}}(n,t,iG),n+"")};var Oae=function Rae(n){return Tae(function(t,e){var i=-1,r=e.length,s=r>1?e[r-1]:void 0,a=r>2?e[2]:void 0;for(s=n.length>3&&"function"==typeof s?(r--,s):void 0,a&&function Iae(n,t,e){if(!iy(e))return!1;var i=typeof t;return!!("number"==i?BF(e)&&eG(t,e.length):"string"==i&&t in e)&&AI(e[t],n)}(e[0],e[1],a)&&(s=r<3?void 0:s,r=1),t=Object(t);++i<r;){var u=e[i];u&&n(t,u,i,s)}return t})}(function(n,t,e){hae(n,t,e)});const Pae=Oae,Fae=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],Lae={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:n=>xm(Dm(n.datasetIndex),.4),borderColor:n=>xm(Dm(n.datasetIndex),1),pointBackgroundColor:n=>xm(Dm(n.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:n=>xm(Dm(n.datasetIndex),.6),borderColor:n=>xm(Dm(n.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:n=>xm(Dm(n.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:n=>xm(Dm(n.dataIndex),.6),borderColor:n=>xm(Dm(n.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function xm(n,t){return"rgba("+n.concat(t).join(",")+")"}function jF(n,t){return Math.floor(Math.random()*(t-n+1))+n}function Dm(n=0){return Fae[n]||function Nae(){return[jF(0,255),jF(0,255),jF(0,255)]}()}let sG=(()=>{class n{constructor(){this.generateColors=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();Ef.register(...xie);let Bae=(()=>{class n{constructor(e){e?.plugins&&Ef.register(...e?.plugins);const i=Pae(e?.generateColors?Lae:{},e?.defaults||{});br.set(i)}static forRoot(e){return{ngModule:n,providers:[{provide:sG,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(sG,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Vae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[z7]}),n.\u0275inj=o.cJS({providers:[{provide:Va,useValue:Va},{provide:Sr.Dh,useValue:HP.firebaseConfig}],imports:[mu,s7,UX,Sr.hO.initializeApp(HP.firebaseConfig),p6,o6,yQ,VB,N4,Bae,$R.forRoot([]),LO]}),n})();HP.production&&(0,o.G48)(),pu().bootstrapModule(Vae).catch(n=>console.error(n))},3470:function(Jt,wt,He){var o,it,Te;it=typeof window<"u"?window:this,Te=function(it){function Te(ve,be,Fe,ze){ve.hasOwnProperty(be)||(ve[be]=ze.apply(null,Fe),"function"==typeof CustomEvent&&it.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:be,module:ve[be]}})))}var me={};return Te(me,"Core/Globals.js",[],function(){var ve,be;return(be=ve||(ve={})).SVG_NS="http://www.w3.org/2000/svg",be.product="Highcharts",be.version="11.1.0",be.win=typeof it<"u"?it:{},be.doc=be.win.document,be.svg=be.doc&&be.doc.createElementNS&&!!be.doc.createElementNS(be.SVG_NS,"svg").createSVGRect,be.userAgent=be.win.navigator&&be.win.navigator.userAgent||"",be.isChrome=-1!==be.userAgent.indexOf("Chrome"),be.isFirefox=-1!==be.userAgent.indexOf("Firefox"),be.isMS=/(edge|msie|trident)/i.test(be.userAgent)&&!be.win.opera,be.isSafari=!be.isChrome&&-1!==be.userAgent.indexOf("Safari"),be.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(be.userAgent),be.isWebKit=-1!==be.userAgent.indexOf("AppleWebKit"),be.deg2rad=2*Math.PI/360,be.hasBidiBug=be.isFirefox&&4>parseInt(be.userAgent.split("Firefox/")[1],10),be.hasTouch=!!be.win.TouchEvent,be.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],be.noop=function(){},be.supportsPassiveEvents=function(){let Fe=!1;if(!be.isMS){const ze=Object.defineProperty({},"passive",{get:function(){Fe=!0}});be.win.addEventListener&&be.win.removeEventListener&&(be.win.addEventListener("testPassive",be.noop,ze),be.win.removeEventListener("testPassive",be.noop,ze))}return Fe}(),be.charts=[],be.dateFormats={},be.seriesTypes={},be.symbolSizes={},be.chartCount=0,ve}),Te(me,"Core/Utilities.js",[me["Core/Globals.js"]],function(ve){function be(D,T,B,K){const j=T?"Highcharts error":"Highcharts warning";32===D&&(D=`${j}: Deprecated member`);const E=Ae(D);let q=E?`${j} #${D}: www.highcharts.com/errors/${D}/`:D.toString();if(typeof K<"u"){let fe="";E&&(q+="?"),$(K,function(De,Oe){fe+=`\n - ${Oe}: ${De}`,E&&(q+=encodeURI(Oe)+"="+encodeURI(De))}),q+=fe}ie(ve,"displayError",{chart:B,code:D,message:q,params:K},function(){if(T)throw Error(q);W.console&&-1===be.messages.indexOf(q)&&console.warn(q)}),be.messages.push(q)}function Fe(D,T){return parseInt(D,T||10)}function ze(D){return"string"==typeof D}function Ve(D){return"[object Array]"===(D=Object.prototype.toString.call(D))||"[object Array Iterator]"===D}function we(D,T){return!(!D||"object"!=typeof D||T&&Ve(D))}function Ce(D){return we(D)&&"number"==typeof D.nodeType}function oe(D){const T=D&&D.constructor;return!(!we(D,!0)||Ce(D)||!T||!T.name||"Object"===T.name)}function Ae(D){return"number"==typeof D&&!isNaN(D)&&1/0>D&&-1/0<D}function Me(D){return typeof D<"u"&&null!==D}function z(D,T,B){const K=ze(T)&&!Me(B);let j;const E=(q,fe)=>{Me(q)?D.setAttribute(fe,q):K?(j=D.getAttribute(fe))||"class"!==fe||(j=D.getAttribute(fe+"Name")):D.removeAttribute(fe)};return ze(T)?E(B,T):$(T,E),j}function re(D){return Ve(D)?D:[D]}function Q(D,T){let B;for(B in D||(D={}),T)D[B]=T[B];return D}function ne(){const D=arguments,T=D.length;for(let B=0;B<T;B++){const K=D[B];if(typeof K<"u"&&null!==K)return K}}function H(D,T){ve.isMS&&!ve.svg&&T&&Me(T.opacity)&&(T.filter=`alpha(opacity=${100*T.opacity})`),Q(D.style,T)}function ee(D){return Math.pow(10,Math.floor(Math.log(D)/Math.LN10))}function G(D,T){return 1e14<D?D:parseFloat(D.toPrecision(T||14))}function $(D,T,B){for(const K in D)Object.hasOwnProperty.call(D,K)&&T.call(B||D[K],D[K],K,D)}function te(D,T,B){function K(q,fe){const De=D.removeEventListener;De&&De.call(D,q,fe,!1)}function j(q){let fe,De;D.nodeName&&(T?(fe={},fe[T]=!0):fe=q,$(fe,function(Oe,ue){if(q[ue])for(De=q[ue].length;De--;)K(ue,q[ue][De].fn)}))}var E="function"==typeof D&&D.prototype||D;if(Object.hasOwnProperty.call(E,"hcEvents")){const q=E.hcEvents;T?(E=q[T]||[],B?(q[T]=E.filter(function(fe){return B!==fe.fn}),K(T,B)):(j(q),q[T]=[])):(j(q),delete E.hcEvents)}}function ie(D,T,B,K){if(B=B||{},I.createEvent&&(D.dispatchEvent||D.fireEvent&&D!==ve)){var j=I.createEvent("Events");j.initEvent(T,!0,!0),B=Q(j,B),D.dispatchEvent?D.dispatchEvent(B):D.fireEvent(T,B)}else if(D.hcEvents){B.target||Q(B,{preventDefault:function(){B.defaultPrevented=!0},target:D,type:T}),j=[];let E=D,q=!1;for(;E.hcEvents;)Object.hasOwnProperty.call(E,"hcEvents")&&E.hcEvents[T]&&(j.length&&(q=!0),j.unshift.apply(j,E.hcEvents[T])),E=Object.getPrototypeOf(E);q&&j.sort((fe,De)=>fe.order-De.order),j.forEach(fe=>{!1===fe.fn.call(D,B)&&B.preventDefault()})}K&&!B.defaultPrevented&&K.call(D,B)}const{charts:P,doc:I,win:W}=ve;(be||(be={})).messages=[],Math.easeInOutSine=function(D){return-.5*(Math.cos(Math.PI*D)-1)};var N=Array.prototype.find?function(D,T){return D.find(T)}:function(D,T){let B;const K=D.length;for(B=0;B<K;B++)if(T(D[B],B))return D[B]};let U;$({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(D,T){ve[T]=function(B){return be(32,!1,void 0,{[`Highcharts.${T}`]:`use Array.${D}`}),Array.prototype[D].apply(B,[].slice.call(arguments,1))}});const S=function(){const D=Math.random().toString(36).substring(2,9)+"-";let T=0;return function(){return"highcharts-"+(U?"":D)+T++}}();return W.jQuery&&(W.jQuery.fn.highcharts=function(){const D=[].slice.call(arguments);if(this[0])return D[0]?(new(ve[ze(D[0])?D.shift():"Chart"])(this[0],D[0],D[1]),this):P[z(this[0],"data-highcharts-chart")]}),N={addEvent:function(D,T,B,K={}){var j="function"==typeof D&&D.prototype||D;Object.hasOwnProperty.call(j,"hcEvents")||(j.hcEvents={}),j=j.hcEvents,ve.Point&&D instanceof ve.Point&&D.series&&D.series.chart&&(D.series.chart.runTrackerClick=!0);const E=D.addEventListener;return E&&E.call(D,T,B,!!ve.supportsPassiveEvents&&{passive:void 0===K.passive?-1!==T.indexOf("touch"):K.passive,capture:!1}),j[T]||(j[T]=[]),j[T].push({fn:B,order:"number"==typeof K.order?K.order:1/0}),j[T].sort((q,fe)=>q.order-fe.order),function(){te(D,T,B)}},arrayMax:function(D){let T=D.length,B=D[0];for(;T--;)D[T]>B&&(B=D[T]);return B},arrayMin:function(D){let T=D.length,B=D[0];for(;T--;)D[T]<B&&(B=D[T]);return B},attr:z,clamp:function(D,T,B){return D>T?D<B?D:B:T},clearTimeout:function(D){Me(D)&&clearTimeout(D)},correctFloat:G,createElement:function(D,T,B,K,j){return D=I.createElement(D),T&&Q(D,T),j&&H(D,{padding:"0",border:"none",margin:"0"}),B&&H(D,B),K&&K.appendChild(D),D},css:H,defined:Me,destroyObjectProperties:function(D,T){$(D,function(B,K){B&&B!==T&&B.destroy&&B.destroy(),delete D[K]})},diffObjects:function(D,T,B,K){const E={};return function j(q,fe,De,Oe){const ue=B?fe:q;$(q,function(A,ae){if(!Oe&&K&&-1<K.indexOf(ae)&&fe[ae]){A=re(A),De[ae]=[];for(let pe=0;pe<Math.max(A.length,fe[ae].length);pe++)fe[ae][pe]&&(void 0===A[pe]?De[ae][pe]=fe[ae][pe]:(De[ae][pe]={},j(A[pe],fe[ae][pe],De[ae][pe],Oe+1)))}else we(A,!0)&&!A.nodeType?(De[ae]=Ve(A)?[]:{},j(A,fe[ae]||{},De[ae],Oe+1),0!==Object.keys(De[ae]).length||"colorAxis"===ae&&0===Oe||delete De[ae]):(q[ae]!==fe[ae]||ae in q&&!(ae in fe))&&(De[ae]=ue[ae])})}(D,T,E,0),E},discardElement:function(D){D&&D.parentElement&&D.parentElement.removeChild(D)},erase:function(D,T){let B=D.length;for(;B--;)if(D[B]===T){D.splice(B,1);break}},error:be,extend:Q,extendClass:function(D,T){const B=function(){};return Q(B.prototype=new D,T),B},find:N,fireEvent:ie,getClosestDistance:function(D,T){const B=!T;let K,j,E,q;return D.forEach(fe=>{if(1<fe.length)for(q=j=fe.length-1;0<q;q--)E=fe[q]-fe[q-1],0>E&&!B?(T?.(),T=void 0):E&&(typeof K>"u"||E<K)&&(K=E)}),K},getMagnitude:ee,getNestedProperty:function(D,T){for(D=D.split(".");D.length&&Me(T);){const B=D.shift();if(typeof B>"u"||"__proto__"===B)return;if("this"===B){let K;return we(T)&&(K=T["@this"]),K??T}if(!Me(T=T[B])||"function"==typeof T||"number"==typeof T.nodeType||T===W)return}return T},getStyle:function V(D,T,B){let K;return"width"===T?(T=Math.min(D.offsetWidth,D.scrollWidth),(B=D.getBoundingClientRect&&D.getBoundingClientRect().width)<T&&B>=T-1&&(T=Math.floor(B)),Math.max(0,T-(V(D,"padding-left",!0)||0)-(V(D,"padding-right",!0)||0))):"height"===T?Math.max(0,Math.min(D.offsetHeight,D.scrollHeight)-(V(D,"padding-top",!0)||0)-(V(D,"padding-bottom",!0)||0)):((D=W.getComputedStyle(D,void 0))&&(K=D.getPropertyValue(T),ne(B,"opacity"!==T)&&(K=Fe(K))),K)},inArray:function(D,T,B){return be(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),T.indexOf(D,B)},insertItem:function(D,T){const B=D.options.index,K=T.length;let j;for(j=D.options.isInternal?K:0;j<K+1;j++)if(!T[j]||Ae(B)&&B<ne(T[j].options.index,T[j]._i)||T[j].options.isInternal){T.splice(j,0,D);break}return j},isArray:Ve,isClass:oe,isDOMElement:Ce,isFunction:function(D){return"function"==typeof D},isNumber:Ae,isObject:we,isString:ze,keys:function(D){return be(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(D)},merge:function(){let D,T=arguments,B={};const K=function(E,q){return"object"!=typeof E&&(E={}),$(q,function(fe,De){"__proto__"!==De&&"constructor"!==De&&(E[De]=!we(fe,!0)||oe(fe)||Ce(fe)?q[De]:K(E[De]||{},fe))}),E};!0===T[0]&&(B=T[1],T=Array.prototype.slice.call(T,2));const j=T.length;for(D=0;D<j;D++)B=K(B,T[D]);return B},normalizeTickInterval:function(D,T,B,K,j){let E=D;const q=D/(B=ne(B,ee(D)));for(T||(T=j?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===K&&(1===B?T=T.filter(function(fe){return fe%1==0}):.1>=B&&(T=[1/B]))),K=0;K<T.length&&(E=T[K],!(j&&E*B>=D||!j&&q<=(T[K]+(T[K+1]||T[K]))/2));K++);return G(E*B,-Math.round(Math.log(.001)/Math.LN10))},objectEach:$,offset:function(D){const T=I.documentElement;return{top:(D=D.parentElement||D.parentNode?D.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(W.pageYOffset||T.scrollTop)-(T.clientTop||0),left:D.left+(W.pageXOffset||T.scrollLeft)-(T.clientLeft||0),width:D.width,height:D.height}},pad:function(D,T,B){return Array((T||2)+1-String(D).replace("-","").length).join(B||"0")+D},pick:ne,pInt:Fe,pushUnique:function(D,T){return 0>D.indexOf(T)&&!!D.push(T)},relativeLength:function(D,T,B){return/%$/.test(D)?T*parseFloat(D)/100+(B||0):parseFloat(D)},removeEvent:te,splat:re,stableSort:function(D,T){const B=D.length;let K,j;for(j=0;j<B;j++)D[j].safeI=j;for(D.sort(function(E,q){return K=T(E,q),0===K?E.safeI-q.safeI:K}),j=0;j<B;j++)delete D[j].safeI},syncTimeout:function(D,T,B){return 0<T?setTimeout(D,T,B):(D.call(0,B),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:S,useSerialIds:function(D){return U=ne(D,U)},wrap:function(D,T,B){const K=D[T];D[T]=function(){const j=arguments,E=this;return B.apply(this,[function(){return K.apply(E,arguments.length?arguments:j)}].concat([].slice.call(arguments)))}}},N}),Te(me,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),Te(me,"Core/Color/Color.js",[me["Core/Globals.js"],me["Core/Utilities.js"]],function(ve,be){const{isNumber:Fe,merge:ze,pInt:Ve}=be;class we{static parse(oe){return oe?new we(oe):we.None}constructor(oe){this.rgba=[NaN,NaN,NaN,NaN],this.input=oe;const Ae=ve.Color;if(Ae&&Ae!==we)return new Ae(oe);this.init(oe)}init(oe){let Ae,Me;if("object"==typeof oe&&typeof oe.stops<"u")this.stops=oe.stops.map(Q=>new we(Q[1]));else if("string"==typeof oe){if(this.input=oe=we.names[oe.toLowerCase()]||oe,"#"===oe.charAt(0)){var z=oe.length,re=parseInt(oe.substr(1),16);7===z?Ae=[(16711680&re)>>16,(65280&re)>>8,255&re,1]:4===z&&(Ae=[(3840&re)>>4|(3840&re)>>8,(240&re)>>4|240&re,(15&re)<<4|15&re,1])}if(!Ae)for(re=we.parsers.length;re--&&!Ae;)Me=we.parsers[re],(z=Me.regex.exec(oe))&&(Ae=Me.parse(z))}Ae&&(this.rgba=Ae)}get(oe){const Ae=this.input,Me=this.rgba;if("object"==typeof Ae&&typeof this.stops<"u"){const z=ze(Ae);return z.stops=[].slice.call(z.stops),this.stops.forEach((re,Q)=>{z.stops[Q]=[z.stops[Q][0],re.get(oe)]}),z}return Me&&Fe(Me[0])?"rgb"===oe||!oe&&1===Me[3]?"rgb("+Me[0]+","+Me[1]+","+Me[2]+")":"a"===oe?`${Me[3]}`:"rgba("+Me.join(",")+")":Ae}brighten(oe){const Ae=this.rgba;if(this.stops)this.stops.forEach(function(Me){Me.brighten(oe)});else if(Fe(oe)&&0!==oe)for(let Me=0;3>Me;Me++)Ae[Me]+=Ve(255*oe),0>Ae[Me]&&(Ae[Me]=0),255<Ae[Me]&&(Ae[Me]=255);return this}setOpacity(oe){return this.rgba[3]=oe,this}tweenTo(oe,Ae){const Me=this.rgba,z=oe.rgba;return Fe(Me[0])&&Fe(z[0])?((oe=1!==z[3]||1!==Me[3])?"rgba(":"rgb(")+Math.round(z[0]+(Me[0]-z[0])*(1-Ae))+","+Math.round(z[1]+(Me[1]-z[1])*(1-Ae))+","+Math.round(z[2]+(Me[2]-z[2])*(1-Ae))+(oe?","+(z[3]+(Me[3]-z[3])*(1-Ae)):"")+")":oe.input||"none"}}return we.names={white:"#ffffff",black:"#000000"},we.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(Ce){return[Ve(Ce[1]),Ve(Ce[2]),Ve(Ce[3]),parseFloat(Ce[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(Ce){return[Ve(Ce[1]),Ve(Ce[2]),Ve(Ce[3]),1]}}],we.None=new we(""),we}),Te(me,"Core/Color/Palettes.js",[],function(){return{colors:"#2caffe #544fc5 #00e272 #fe6a35 #6b8abc #d568fb #2ee0ca #fa4b42 #feb56a #91e8e1".split(" ")}}),Te(me,"Core/Time.js",[me["Core/Globals.js"],me["Core/Utilities.js"]],function(ve,be){const{win:Fe}=ve,{defined:ze,error:Ve,extend:we,isObject:Ce,merge:oe,objectEach:Ae,pad:Me,pick:z,splat:re,timeUnits:Q}=be,ne=ve.isSafari&&Fe.Intl&&Fe.Intl.DateTimeFormat.prototype.formatRange,H=ve.isSafari&&Fe.Intl&&!Fe.Intl.DateTimeFormat.prototype.formatRange;return class ee{constructor(V){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=Fe.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(V)}get(V,$){if(this.variableTimezone||this.timezoneOffset){const te=$.getTime(),ie=te-this.getTimezoneOffset($);return $.setTime(ie),V=$["getUTC"+V](),$.setTime(te),V}return this.useUTC?$["getUTC"+V]():$["get"+V]()}set(V,$,te){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===V||"Seconds"===V||"Minutes"===V&&this.getTimezoneOffset($)%36e5==0)return $["setUTC"+V](te);var ie=this.getTimezoneOffset($);return ie=$.getTime()-ie,$.setTime(ie),$["setUTC"+V](te),V=this.getTimezoneOffset($),ie=$.getTime()+V,$.setTime(ie)}return this.useUTC||ne&&"FullYear"===V?$["setUTC"+V](te):$["set"+V](te)}update(V={}){const $=z(V.useUTC,!0);this.options=V=oe(!0,this.options,V),this.Date=V.Date||Fe.Date||Date,this.timezoneOffset=(this.useUTC=$)&&V.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=$&&!(!V.getTimezoneOffset&&!V.timezone)}makeTime(V,$,te,ie,P,I){let W,N,U;return this.useUTC?(W=this.Date.UTC.apply(0,arguments),N=this.getTimezoneOffset(W),W+=N,U=this.getTimezoneOffset(W),N!==U?W+=U-N:N-36e5!==this.getTimezoneOffset(W-36e5)||H||(W-=36e5)):W=new this.Date(V,$,z(te,1),z(ie,0),z(P,0),z(I,0)).getTime(),W}timezoneOffsetFunction(){const V=this,$=this.options,te=$.getTimezoneOffset,ie=$.moment||Fe.moment;if(!this.useUTC)return function(P){return 6e4*new Date(P.toString()).getTimezoneOffset()};if($.timezone){if(ie)return function(P){return 6e4*-ie.tz(P,$.timezone).utcOffset()};Ve(25)}return this.useUTC&&te?function(P){return 6e4*te(P.valueOf())}:function(){return 6e4*(V.timezoneOffset||0)}}dateFormat(V,$,te){if(!ze($)||isNaN($))return ve.defaultOptions.lang&&ve.defaultOptions.lang.invalidDate||"";V=z(V,"%Y-%m-%d %H:%M:%S");const ie=this;var P=new this.Date($);const I=this.get("Hours",P),W=this.get("Day",P),N=this.get("Date",P),U=this.get("Month",P),S=this.get("FullYear",P),D=ve.defaultOptions.lang,T=D&&D.weekdays,B=D&&D.shortWeekdays;return P=we({a:B?B[W]:T[W].substr(0,3),A:T[W],d:Me(N),e:Me(N,2," "),w:W,b:D.shortMonths[U],B:D.months[U],m:Me(U+1),o:U+1,y:S.toString().substr(2,2),Y:S,H:Me(I),k:I,I:Me(I%12||12),l:I%12||12,M:Me(this.get("Minutes",P)),p:12>I?"AM":"PM",P:12>I?"am":"pm",S:Me(P.getSeconds()),L:Me(Math.floor($%1e3),3)},ve.dateFormats),Ae(P,function(K,j){for(;-1!==V.indexOf("%"+j);)V=V.replace("%"+j,"function"==typeof K?K.call(ie,$):K)}),te?V.substr(0,1).toUpperCase()+V.substr(1):V}resolveDTLFormat(V){return Ce(V,!0)?V:{main:(V=re(V))[0],from:V[1],to:V[2]}}getTimeTicks(V,$,te,ie){const P=this,I=[],W={};var N=new P.Date($);const U=V.unitRange,S=V.count||1;let D;if(ie=z(ie,1),ze($)){if(P.set("Milliseconds",N,U>=Q.second?0:S*Math.floor(P.get("Milliseconds",N)/S)),U>=Q.second&&P.set("Seconds",N,U>=Q.minute?0:S*Math.floor(P.get("Seconds",N)/S)),U>=Q.minute&&P.set("Minutes",N,U>=Q.hour?0:S*Math.floor(P.get("Minutes",N)/S)),U>=Q.hour&&P.set("Hours",N,U>=Q.day?0:S*Math.floor(P.get("Hours",N)/S)),U>=Q.day&&P.set("Date",N,U>=Q.month?1:Math.max(1,S*Math.floor(P.get("Date",N)/S))),U>=Q.month){P.set("Month",N,U>=Q.year?0:S*Math.floor(P.get("Month",N)/S));var T=P.get("FullYear",N)}U>=Q.year&&P.set("FullYear",N,T-T%S),U===Q.week&&(T=P.get("Day",N),P.set("Date",N,P.get("Date",N)-T+ie+(T<ie?-7:0))),T=P.get("FullYear",N),ie=P.get("Month",N);const B=P.get("Date",N),K=P.get("Hours",N);for($=N.getTime(),!P.variableTimezone&&P.useUTC||!ze(te)||(D=te-$>4*Q.month||P.getTimezoneOffset($)!==P.getTimezoneOffset(te)),$=N.getTime(),N=1;$<te;)I.push($),$=U===Q.year?P.makeTime(T+N*S,0):U===Q.month?P.makeTime(T,ie+N*S):!D||U!==Q.day&&U!==Q.week?D&&U===Q.hour&&1<S?P.makeTime(T,ie,B,K+N*S):$+U*S:P.makeTime(T,ie,B+N*S*(U===Q.day?1:7)),N++;I.push($),U<=Q.hour&&1e4>I.length&&I.forEach(function(j){j%18e5==0&&"000000000"===P.dateFormat("%H%M%S%L",j)&&(W[j]="day")})}return I.info=we(V,{higherRanks:W,totalRange:U*S}),I}getDateFormat(V,$,te,ie){const P=this.dateFormat("%m-%d %H:%M:%S.%L",$),I={millisecond:15,second:12,minute:9,hour:6,day:3};let W,N="millisecond";for(W in Q){if(V===Q.week&&+this.dateFormat("%w",$)===te&&"00:00:00.000"===P.substr(6)){W="week";break}if(Q[W]>V){W=N;break}if(I[W]&&P.substr(I[W])!=="01-01 00:00:00.000".substr(I[W]))break;"week"!==W&&(N=W)}return this.resolveDTLFormat(ie[W]).main}}}),Te(me,"Core/Defaults.js",[me["Core/Chart/ChartDefaults.js"],me["Core/Color/Color.js"],me["Core/Globals.js"],me["Core/Color/Palettes.js"],me["Core/Time.js"],me["Core/Utilities.js"]],function(ve,be,Fe,ze,Ve,we){const{isTouchDevice:Ce,svg:oe}=Fe,{merge:Ae}=we,Me={colors:ze.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:ve,title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:"",align:"center",widthAdjust:-44},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:oe,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:Ce?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};Me.chart.styledMode=!1;const z=new Ve(Me.time);return{defaultOptions:Me,defaultTime:z,getOptions:function(){return Me},setOptions:function(re){return Ae(!0,Me,re),(re.time||re.global)&&(Fe.time?Fe.time.update(Ae(Me.global,Me.time,re.global,re.time)):Fe.time=z),Me}}}),Te(me,"Core/Animation/Fx.js",[me["Core/Color/Color.js"],me["Core/Globals.js"],me["Core/Utilities.js"]],function(ve,be,Fe){const{parse:ze}=ve,{win:Ve}=be,{isNumber:we,objectEach:Ce}=Fe;return(()=>{class Ae{constructor(z,re,Q){this.pos=NaN,this.options=re,this.elem=z,this.prop=Q}dSetter(){var z=this.paths;const re=z&&z[0];z=z&&z[1];const Q=this.now||0;let ne=[];if(1!==Q&&re&&z)if(re.length===z.length&&1>Q)for(let H=0;H<z.length;H++){const ee=re[H],G=z[H],V=[];for(let $=0;$<G.length;$++){const te=ee[$],ie=G[$];V[$]=we(te)&&we(ie)&&("A"!==G[0]||4!==$&&5!==$)?te+Q*(ie-te):ie}ne.push(V)}else ne=z;else ne=this.toD||[];this.elem.attr("d",ne,void 0,!0)}update(){const z=this.elem,re=this.prop,Q=this.now,ne=this.options.step;this[re+"Setter"]?this[re+"Setter"]():z.attr?z.element&&z.attr(re,Q,null,!0):z.style[re]=Q+this.unit,ne&&ne.call(z,Q,this)}run(z,re,Q){const ne=this,H=ne.options,ee=function($){return!ee.stopped&&ne.step($)},G=Ve.requestAnimationFrame||function($){setTimeout($,13)},V=function(){for(let $=0;$<Ae.timers.length;$++)Ae.timers[$]()||Ae.timers.splice($--,1);Ae.timers.length&&G(V)};z!==re||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=z,this.end=re,this.unit=Q,this.now=this.start,this.pos=0,ee.elem=this.elem,ee.prop=this.prop,ee()&&1===Ae.timers.push(ee)&&G(V)):(delete H.curAnim[this.prop],H.complete&&0===Object.keys(H.curAnim).length&&H.complete.call(this.elem))}step(z){const re=+new Date,Q=this.options,ne=this.elem,H=Q.complete,ee=Q.duration,G=Q.curAnim;let V;return ne.attr&&!ne.element?z=!1:z||re>=ee+this.startTime?(this.now=this.end,this.pos=1,this.update(),V=G[this.prop]=!0,Ce(G,function($){!0!==$&&(V=!1)}),V&&H&&H.call(ne),z=!1):(this.pos=Q.easing((re-this.startTime)/ee),this.now=this.start+(this.end-this.start)*this.pos,this.update(),z=!0),z}initPath(z,re,Q){function ne(I,W){for(;I.length<ie;){var N=I[0];const U=W[ie-I.length];U&&"M"===N[0]&&(I[0]="C"===U[0]?["C",N[1],N[2],N[1],N[2],N[1],N[2]]:["L",N[1],N[2]]),I.unshift(N),V&&(N=I.pop(),I.push(I[I.length-1],N))}}function H(I,W){for(;I.length<ie;)if("C"===(W=I[Math.floor(I.length/$)-1].slice())[0]&&(W[1]=W[5],W[2]=W[6]),V){const N=I[Math.floor(I.length/$)].slice();I.splice(I.length/2,0,W,N)}else I.push(W)}const ee=z.startX,G=z.endX;Q=Q.slice();const V=z.isArea,$=V?2:1;let te,ie,P;if(!(re=re&&re.slice()))return[Q,Q];if(ee&&G&&G.length){for(z=0;z<ee.length;z++){if(ee[z]===G[0]){te=z;break}if(ee[0]===G[G.length-ee.length+z]){te=z,P=!0;break}if(ee[ee.length-1]===G[G.length-ee.length+z]){te=ee.length-z;break}}typeof te>"u"&&(re=[])}return re.length&&we(te)&&(ie=Q.length+te*$,P?(ne(re,Q),H(Q,re)):(ne(Q,re),H(re,Q))),[re,Q]}fillSetter(){Ae.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,ze(this.start).tweenTo(ze(this.end),this.pos),void 0,!0)}}return Ae.timers=[],Ae})()}),Te(me,"Core/Animation/AnimationUtilities.js",[me["Core/Animation/Fx.js"],me["Core/Utilities.js"]],function(ve,be){function Fe(Q){return Ae(Q)?Me({duration:500,defer:0},Q):{duration:Q?500:0,defer:0}}function ze(Q,ne){let H=ve.timers.length;for(;H--;)ve.timers[H].elem!==Q||ne&&ne!==ve.timers[H].prop||(ve.timers[H].stopped=!0)}const{defined:Ve,getStyle:we,isArray:Ce,isNumber:oe,isObject:Ae,merge:Me,objectEach:z,pick:re}=be;return{animate:function(Q,ne,H){let ee,V,$,te,G="";Ae(H)||(te=arguments,H={duration:te[2],easing:te[3],complete:te[4]}),oe(H.duration)||(H.duration=400),H.easing="function"==typeof H.easing?H.easing:Math[H.easing]||Math.easeInOutSine,H.curAnim=Me(ne),z(ne,function(ie,P){ze(Q,P),$=new ve(Q,H,P),V=void 0,"d"===P&&Ce(ne.d)?($.paths=$.initPath(Q,Q.pathArray,ne.d),$.toD=ne.d,ee=0,V=1):Q.attr?ee=Q.attr(P):(ee=parseFloat(we(Q,P))||0,"opacity"!==P&&(G="px")),V||(V=ie),"string"==typeof V&&V.match("px")&&(V=V.replace(/px/g,"")),$.run(ee,V,G)})},animObject:Fe,getDeferredAnimation:function(Q,ne,H){const ee=Fe(ne);let G=0,V=0;return(H?[H]:Q.series).forEach($=>{$=Fe($.options.animation),G=ne&&Ve(ne.defer)?ee.defer:Math.max(G,$.duration+$.defer),V=Math.min(ee.duration,$.duration)}),Q.renderer.forExport&&(G=0),{defer:Math.max(0,G-V),duration:Math.min(G,V)}},setAnimation:function(Q,ne){ne.renderer.globalAnimation=re(Q,ne.options.chart.animation,!0)},stop:ze}}),Te(me,"Core/Renderer/HTML/AST.js",[me["Core/Globals.js"],me["Core/Utilities.js"]],function(ve,be){const{SVG_NS:Fe,win:ze}=ve,{attr:Ve,createElement:we,css:Ce,error:oe,isFunction:Ae,isString:Me,objectEach:z,splat:re}=be;({trustedTypes:be}=ze);const Q=be&&Ae(be.createPolicy)&&be.createPolicy("highcharts",{createHTML:G=>G});be=Q?Q.createHTML(""):"";try{var ne=!!(new DOMParser).parseFromString(be,"text/html")}catch{ne=!1}const H=ne;class ee{static filterUserAttributes(V){return z(V,($,te)=>{let ie=!0;-1===ee.allowedAttributes.indexOf(te)&&(ie=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(te)&&(ie=Me($)&&ee.allowedReferences.some(P=>0===$.indexOf(P))),ie||(oe(33,!1,void 0,{"Invalid attribute in config":`${te}`}),delete V[te]),Me($)&&V[te]&&(V[te]=$.replace(/</g,"&lt;"))}),V}static parseStyle(V){return V.split(";").reduce(($,te)=>{const ie=(te=te.split(":").map(P=>P.trim())).shift();return ie&&te.length&&($[ie.replace(/-([a-z])/g,P=>P[1].toUpperCase())]=te.join(":")),$},{})}static setElementHTML(V,$){V.innerHTML=ee.emptyHTML,$&&new ee($).addToDOM(V)}constructor(V){this.nodes="string"==typeof V?this.parseMarkup(V):V}addToDOM(V){return function $(te,ie){let P;return re(te).forEach(function(I){var W=I.tagName;const N=I.textContent?ve.doc.createTextNode(I.textContent):void 0,U=ee.bypassHTMLFiltering;let S;if(W)if("#text"===W)S=N;else if(-1!==ee.allowedTags.indexOf(W)||U){W=ve.doc.createElementNS("svg"===W?Fe:ie.namespaceURI||Fe,W);const D=I.attributes||{};z(I,function(T,B){"tagName"!==B&&"attributes"!==B&&"children"!==B&&"style"!==B&&"textContent"!==B&&(D[B]=T)}),Ve(W,U?D:ee.filterUserAttributes(D)),I.style&&Ce(W,I.style),N&&W.appendChild(N),$(I.children||[],W),S=W}else oe(33,!1,void 0,{"Invalid tagName in config":W});S&&ie.appendChild(S),P=S}),P}(this.nodes,V)}parseMarkup(V){const $=[];if(V=V.trim().replace(/ style=(["'])/g," data-style=$1"),H)V=(new DOMParser).parseFromString(Q?Q.createHTML(V):V,"text/html");else{const ie=we("div");ie.innerHTML=V,V={body:ie}}const te=(ie,P)=>{var I=ie.nodeName.toLowerCase();const W={tagName:I};if("#text"===I&&(W.textContent=ie.textContent||""),I=ie.attributes){const N={};[].forEach.call(I,U=>{"data-style"===U.name?W.style=ee.parseStyle(U.value):N[U.name]=U.value}),W.attributes=N}if(ie.childNodes.length){const N=[];[].forEach.call(ie.childNodes,U=>{te(U,N)}),N.length&&(W.children=N)}P.push(W)};return[].forEach.call(V.body.childNodes,ie=>te(ie,$)),$}}return ee.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),ee.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),ee.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),ee.emptyHTML=be,ee.bypassHTMLFiltering=!1,ee}),Te(me,"Core/Templating.js",[me["Core/Defaults.js"],me["Core/Utilities.js"]],function(ve,be){function Fe(H="",ee,G){const V=/\{([a-zA-Z0-9:\.,;\-\/<>%_@"'= #\(\)]+)\}/g,$=/\(([a-zA-Z0-9:\.,;\-\/<>%_@"'= ]+)\)/g,te=[],ie=/f$/,P=/\.([0-9])/,I=Ve.lang,W=G&&G.time||we,N=G&&G.numberFormatter||ze,U=(E="")=>{let q;return"true"===E||"false"!==E&&((q=Number(E)).toString()===E?q:oe(E,ee))};let S,D,B,T=0;for(;null!==(S=V.exec(H));){const E=$.exec(S[1]);E&&(S=E,B=!0),D&&D.isBlock||(D={ctx:ee,expression:S[1],find:S[0],isBlock:"#"===S[1].charAt(0),start:S.index,startInner:S.index+S[0].length,length:S[0].length});var K=S[1].split(" ")[0].replace("#","");if(ne[K]&&(D.isBlock&&K===D.fn&&T++,D.fn||(D.fn=K)),K="else"===S[1],D.isBlock&&D.fn&&(S[1]===`/${D.fn}`||K))if(T)K||T--;else{var j=D.startInner;j=H.substr(j,S.index-j),void 0===D.body?(D.body=j,D.startInner=S.index+S[0].length):D.elseBody=j,D.find+=j+S[0],K||(te.push(D),D=void 0)}else D.isBlock||te.push(D);if(E&&(null==D||!D.isBlock))break}return te.forEach(E=>{const{body:q,elseBody:fe,expression:De,fn:Oe}=E;var ue;if(Oe){var A=[E],ae=De.split(" ");for(ue=ne[Oe].length;ue--;)A.unshift(U(ae[ue+1]));ue=ne[Oe].apply(ee,A),E.isBlock&&"boolean"==typeof ue&&(ue=Fe(ue?q:fe,ee))}else A=De.split(":"),ue=U(A.shift()||""),A.length&&"number"==typeof ue&&(A=A.join(":"),ie.test(A)?(ae=parseInt((A.match(P)||["","-1"])[1],10),null!==ue&&(ue=N(ue,ae,I.decimalPoint,-1<A.indexOf(",")?I.thousandsSep:""))):ue=W.dateFormat(A,ue));H=H.replace(E.find,re(ue,""))}),B?Fe(H,ee,G):H}function ze(H,ee,G,V){ee=+ee;const $=Ve.lang;var te=((H=+H||0).toString().split(".")[1]||"").split("e")[0].length;const ie=H.toString().split("e"),P=ee;if(-1===ee)ee=Math.min(te,20);else if(Me(ee)){if(ee&&ie[1]&&0>ie[1]){var I=ee+ +ie[1];0<=I?(ie[0]=(+ie[0]).toExponential(I).split("e")[0],ee=I):(ie[0]=ie[0].split(".")[0]||0,H=20>ee?(ie[0]*Math.pow(10,ie[1])).toFixed(ee):0,ie[1]=0)}}else ee=2;I=(Math.abs(ie[1]?ie[0]:H)+Math.pow(10,-Math.max(ee,te)-1)).toFixed(ee);const W=3<(te=String(Q(I))).length?te.length%3:0;return G=re(G,$.decimalPoint),V=re(V,$.thousandsSep),H=(0>H?"-":"")+(W?te.substr(0,W)+V:""),H=0>+ie[1]&&!P?"0":H+te.substr(W).replace(/(\d{3})(?=\d)/g,"$1"+V),ee&&(H+=G+I.slice(-ee)),ie[1]&&0!=+H&&(H+="e"+ie[1]),H}const{defaultOptions:Ve,defaultTime:we}=ve,{extend:Ce,getNestedProperty:oe,isArray:Ae,isNumber:Me,isObject:z,pick:re,pInt:Q}=be,ne={add:(H,ee)=>H+ee,divide:(H,ee)=>0!==ee?H/ee:"",eq:(H,ee)=>H==ee,each:function(H){const ee=arguments[arguments.length-1];return!!Ae(H)&&H.map((G,V)=>Fe(ee.body,Ce(z(G)?G:{"@this":G},{"@index":V,"@first":0===V,"@last":V===H.length-1}))).join("")},ge:(H,ee)=>H>=ee,gt:(H,ee)=>H>ee,if:H=>!!H,le:(H,ee)=>H<=ee,lt:(H,ee)=>H<ee,multiply:(H,ee)=>H*ee,ne:(H,ee)=>H!=ee,subtract:(H,ee)=>H-ee,unless:H=>!H};return{dateFormat:function(H,ee,G){return we.dateFormat(H,ee,G)},format:Fe,helpers:ne,numberFormat:ze}}),Te(me,"Core/Renderer/RendererUtilities.js",[me["Core/Utilities.js"]],function(ve){const{clamp:be,pick:Fe,stableSort:ze}=ve;var Ve;return(Ve||(Ve={})).distribute=function Ce(oe,Ae,Me){const z=oe;var re=z.reducedLen||Ae,Q=($,te)=>(te.rank||0)-($.rank||0);const ne=($,te)=>$.target-te.target;let H,ee=!0,G=[],V=0;for(H=oe.length;H--;)V+=oe[H].size;if(V>re){for(ze(oe,Q),V=H=0;V<=re;)V+=oe[H].size,H++;G=oe.splice(H-1,oe.length)}for(ze(oe,ne),oe=oe.map($=>({size:$.size,targets:[$.target],align:Fe($.align,.5)}));ee;){for(H=oe.length;H--;)re=oe[H],Q=(Math.min.apply(0,re.targets)+Math.max.apply(0,re.targets))/2,re.pos=be(Q-re.size*re.align,0,Ae-re.size);for(H=oe.length,ee=!1;H--;)0<H&&oe[H-1].pos+oe[H-1].size>oe[H].pos&&(oe[H-1].size+=oe[H].size,oe[H-1].targets=oe[H-1].targets.concat(oe[H].targets),oe[H-1].align=.5,oe[H-1].pos+oe[H-1].size>Ae&&(oe[H-1].pos=Ae-oe[H-1].size),oe.splice(H,1),ee=!0)}return z.push.apply(z,G),H=0,oe.some($=>{let te=0;return($.targets||[]).some(()=>(z[H].pos=$.pos+te,typeof Me<"u"&&Math.abs(z[H].pos-z[H].target)>Me?(z.slice(0,H+1).forEach(ie=>delete ie.pos),z.reducedLen=(z.reducedLen||Ae)-.1*Ae,z.reducedLen>.1*Ae&&Ce(z,Ae,Me),!0):(te+=z[H].size,H++,!1)))}),ze(z,ne),z},Ve}),Te(me,"Core/Renderer/SVG/SVGElement.js",[me["Core/Animation/AnimationUtilities.js"],me["Core/Color/Color.js"],me["Core/Globals.js"],me["Core/Utilities.js"]],function(ve,be,Fe,ze){const{animate:Ve,animObject:we,stop:Ce}=ve,{deg2rad:oe,doc:Ae,svg:Me,SVG_NS:z,win:re}=Fe,{addEvent:Q,attr:ne,createElement:H,css:ee,defined:G,erase:V,extend:$,fireEvent:te,isArray:ie,isFunction:P,isObject:I,isString:W,merge:N,objectEach:U,pick:S,pInt:D,syncTimeout:T,uniqueKey:B}=ze;class K{constructor(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=z}_defaultGetter(E){return E=S(this[E+"Value"],this[E],this.element?this.element.getAttribute(E):null,0),/^[\-0-9\.]+$/.test(E)&&(E=parseFloat(E)),E}_defaultSetter(E,q,fe){fe.setAttribute(q,E)}add(E){const q=this.renderer,fe=this.element;let De;return E&&(this.parentGroup=E),typeof this.textStr<"u"&&"text"===this.element.nodeName&&q.buildText(this),this.added=!0,(!E||E.handleZ||this.zIndex)&&(De=this.zIndexSetter()),De||(E?E.element:q.box).appendChild(fe),this.onAdd&&this.onAdd(),this}addClass(E,q){const fe=q?"":this.attr("class")||"";return(E=(E||"").split(/ /g).reduce(function(De,Oe){return-1===fe.indexOf(Oe)&&De.push(Oe),De},fe?[fe]:[]).join(" "))!==fe&&this.attr("class",E),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(E,q,fe){const De={};var A,Oe=this.renderer,ue=Oe.alignedObjects;let ae,pe;E?(this.alignOptions=E,this.alignByTranslate=q,(!fe||W(fe))&&(this.alignTo=A=fe||"renderer",V(ue,this),ue.push(this),fe=void 0)):(E=this.alignOptions,q=this.alignByTranslate,A=this.alignTo),fe=S(fe,Oe[A],"scrollablePlotBox"===A?Oe.plotBox:void 0,Oe);const de=E.verticalAlign;return Oe=(fe.x||0)+(E.x||0),ue=(fe.y||0)+(E.y||0),"right"===(A=E.align)?ae=1:"center"===A&&(ae=2),ae&&(Oe+=(fe.width-(E.width||0))/ae),De[q?"translateX":"x"]=Math.round(Oe),"bottom"===de?pe=1:"middle"===de&&(pe=2),pe&&(ue+=(fe.height-(E.height||0))/pe),De[q?"translateY":"y"]=Math.round(ue),this[this.placed?"animate":"attr"](De),this.placed=!0,this.alignAttr=De,this}alignSetter(E){const q={left:"start",center:"middle",right:"end"};q[E]&&(this.alignValue=E,this.element.setAttribute("text-anchor",q[E]))}animate(E,q,fe){const De=we(S(q,this.renderer.globalAnimation,!0));return q=De.defer,Ae.hidden&&(De.duration=0),0!==De.duration?(fe&&(De.complete=fe),T(()=>{this.element&&Ve(this,E,De)},q)):(this.attr(E,void 0,fe||De.complete),U(E,function(Oe,ue){De.step&&De.step.call(this,Oe,{prop:ue,pos:1,elem:this})},this)),this}applyTextOutline(E){const q=this.element;-1!==E.indexOf("contrast")&&(E=E.replace(/contrast/g,this.renderer.getContrast(q.style.fill)));var fe=E.split(" ");if(E=fe[fe.length-1],(fe=fe[0])&&"none"!==fe&&Fe.svg){this.fakeTS=!0,fe=fe.replace(/(^[\d\.]+)(.*?)$/g,function(ue,A,ae){return 2*Number(A)+ae}),this.removeTextOutline();const De=Ae.createElementNS(z,"tspan");ne(De,{class:"highcharts-text-outline",fill:E,stroke:E,"stroke-width":fe,"stroke-linejoin":"round"}),E=q.querySelector("textPath")||q,[].forEach.call(E.childNodes,ue=>{const A=ue.cloneNode(!0);A.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(ae=>A.removeAttribute(ae)),De.appendChild(A)});let Oe=0;[].forEach.call(E.querySelectorAll("text tspan"),ue=>{Oe+=Number(ue.getAttribute("dy"))}),(fe=Ae.createElementNS(z,"tspan")).textContent="\u200b",ne(fe,{x:Number(q.getAttribute("x")),dy:-Oe}),De.appendChild(fe),E.insertBefore(De,E.firstChild)}}attr(E,q,fe,De){const Oe=this.element,ue=K.symbolCustomAttribs;let A,ae,de,Ne,pe=this;return"string"==typeof E&&typeof q<"u"&&(A=E,(E={})[A]=q),"string"==typeof E?pe=(this[E+"Getter"]||this._defaultGetter).call(this,E,Oe):(U(E,function(R,Z){de=!1,De||Ce(this,Z),this.symbolName&&-1!==ue.indexOf(Z)&&(ae||(this.symbolAttr(E),ae=!0),de=!0),!this.rotation||"x"!==Z&&"y"!==Z||(this.doTransform=!0),de||(Ne=this[Z+"Setter"]||this._defaultSetter,Ne.call(this,R,Z,Oe))},this),this.afterSetters()),fe&&fe.call(this),pe}clip(E){return this.attr("clip-path",E?"url("+this.renderer.url+"#"+E.id+")":"none")}crisp(E,q){q=q||E.strokeWidth||0;const fe=Math.round(q)%2/2;return E.x=Math.floor(E.x||this.x||0)+fe,E.y=Math.floor(E.y||this.y||0)+fe,E.width=Math.floor((E.width||this.width||0)-2*fe),E.height=Math.floor((E.height||this.height||0)-2*fe),G(E.strokeWidth)&&(E.strokeWidth=q),E}complexColor(E,q,fe){const De=this.renderer;let Oe,ue,A,ae,pe,de,Ne,R,Z,X,Ie,xe=[];te(this.renderer,"complexColor",{args:arguments},function(){if(E.radialGradient?ue="radialGradient":E.linearGradient&&(ue="linearGradient"),ue){if(A=E[ue],pe=De.gradients,de=E.stops,Z=fe.radialReference,ie(A)&&(E[ue]=A={x1:A[0],y1:A[1],x2:A[2],y2:A[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===ue&&Z&&!G(A.gradientUnits)&&(ae=A,A=N(A,De.getRadialAttr(Z,ae),{gradientUnits:"userSpaceOnUse"})),U(A,function(Ee,Le){"id"!==Le&&xe.push(Le,Ee)}),U(de,function(Ee){xe.push(Ee)}),xe=xe.join(","),pe[xe])X=pe[xe].attr("id");else{A.id=X=B();const Ee=pe[xe]=De.createElement(ue).attr(A).add(De.defs);Ee.radAttr=ae,Ee.stops=[],de.forEach(function(Le){0===Le[1].indexOf("rgba")?(Oe=be.parse(Le[1]),Ne=Oe.get("rgb"),R=Oe.get("a")):(Ne=Le[1],R=1),Le=De.createElement("stop").attr({offset:Le[0],"stop-color":Ne,"stop-opacity":R}).add(Ee),Ee.stops.push(Le)})}Ie="url("+De.url+"#"+X+")",fe.setAttribute(q,Ie),fe.gradient=xe,E.toString=function(){return Ie}}})}css(E){const q=this.styles,fe={},De=this.element;let Oe,ue=!q;if(q&&U(E,function(A,ae){q&&q[ae]!==A&&(fe[ae]=A,ue=!0)}),ue){q&&(E=$(q,fe)),null===E.width||"auto"===E.width?delete this.textWidth:"text"===De.nodeName.toLowerCase()&&E.width&&(Oe=this.textWidth=D(E.width)),this.styles=E,Oe&&!Me&&this.renderer.forExport&&delete E.width;const A=N(E);De.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","width"].forEach(ae=>A&&delete A[ae]),A.color&&(A.fill=A.color)),ee(De,A)}return this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),E.textOutline&&this.applyTextOutline(E.textOutline)),this}dashstyleSetter(E){let q=this["stroke-width"];if("inherit"===q&&(q=1),E=E&&E.toLowerCase()){const fe=E.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(E=fe.length;E--;)fe[E]=""+D(fe[E])*S(q,NaN);E=fe.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",E)}}destroy(){const E=this;var q=E.element||{};const fe=E.renderer;var De=q.ownerSVGElement;let Oe="SPAN"===q.nodeName&&E.parentGroup||void 0;if(q.onclick=q.onmouseout=q.onmouseover=q.onmousemove=q.point=null,Ce(E),E.clipPath&&De){const ue=E.clipPath;[].forEach.call(De.querySelectorAll("[clip-path],[CLIP-PATH]"),function(A){-1<A.getAttribute("clip-path").indexOf(ue.element.id)&&A.removeAttribute("clip-path")}),E.clipPath=ue.destroy()}if(E.stops){for(De=0;De<E.stops.length;De++)E.stops[De].destroy();E.stops.length=0,E.stops=void 0}for(E.safeRemoveChild(q);Oe&&Oe.div&&0===Oe.div.childNodes.length;)q=Oe.parentGroup,E.safeRemoveChild(Oe.div),delete Oe.div,Oe=q;E.alignTo&&V(fe.alignedObjects,E),U(E,function(ue,A){E[A]&&E[A].parentGroup===E&&E[A].destroy&&E[A].destroy(),delete E[A]})}dSetter(E,q,fe){ie(E)&&("string"==typeof E[0]&&(E=this.renderer.pathToSegments(E)),this.pathArray=E,E=E.reduce((De,Oe,ue)=>Oe&&Oe.join?(ue?De+" ":"")+Oe.join(" "):(Oe||"").toString(),"")),/(NaN| {2}|^$)/.test(E)&&(E="M 0 0"),this[q]!==E&&(fe.setAttribute(q,E),this[q]=E)}fadeOut(E){const q=this;q.animate({opacity:0},{duration:S(E,150),complete:function(){q.hide()}})}fillSetter(E,q,fe){"string"==typeof E?fe.setAttribute(q,E):E&&this.complexColor(E,q,fe)}getBBox(E,q){const{alignValue:fe,element:De,renderer:Oe,styles:ue,textStr:A}=this,{cache:ae,cacheKeys:pe}=Oe;var de=De.namespaceURI===this.SVG_NS;q=S(q,this.rotation,0);var Ne=Oe.styledMode?De&&K.prototype.getStyle.call(De,"font-size"):ue&&ue.fontSize;let R,Z;if(G(A)&&(Z=A.toString(),-1===Z.indexOf("<")&&(Z=Z.replace(/[0-9]/g,"0")),Z+=["",Oe.rootFontSize,Ne,q,this.textWidth,fe,ue&&ue.textOverflow,ue&&ue.fontWeight].join()),Z&&!E&&(R=ae[Z]),!R){if(de||Oe.forExport){try{var X=this.fakeTS&&function(Ge){const qe=De.querySelector(".highcharts-text-outline");qe&&ee(qe,{display:Ge})};P(X)&&X("none"),R=De.getBBox?$({},De.getBBox()):{width:De.offsetWidth,height:De.offsetHeight,x:0,y:0},P(X)&&X("")}catch{}(!R||0>R.width)&&(R={x:0,y:0,width:0,height:0})}else R=this.htmlGetBBox();if(X=R.width,E=R.height,de&&(R.height=E={"11px,17":14,"13px,20":16}[`${Ne||""},${Math.round(E)}`]||E),q){de=Number(De.getAttribute("y")||0)-R.y,Ne={right:1,center:.5}[fe||0]||0;var xe=q*oe,Ie=(q-90)*oe,Ee=X*Math.cos(xe);q=X*Math.sin(xe);var Le=Math.cos(Ie);xe=Math.sin(Ie),Ee=(Le=(Ie=(X=R.x+Ne*(X-Ee)+de*Le)+Ee)-E*Le)-Ee,q=(E=(Ne=(de=R.y+de-Ne*q+de*xe)+q)-E*xe)-q,R.x=Math.min(X,Ie,Le,Ee),R.y=Math.min(de,Ne,E,q),R.width=Math.max(X,Ie,Le,Ee)-R.x,R.height=Math.max(de,Ne,E,q)-R.y}}if(Z&&(""===A||0<R.height)){for(;250<pe.length;)delete ae[pe.shift()];ae[Z]||pe.push(Z),ae[Z]=R}return R}getStyle(E){return re.getComputedStyle(this.element||this,"").getPropertyValue(E)}hasClass(E){return-1!==(""+this.attr("class")).split(" ").indexOf(E)}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}init(E,q){this.element="span"===q?H(q):Ae.createElementNS(this.SVG_NS,q),this.renderer=E,te(this,"afterInit")}on(E,q){const{onEvents:fe}=this;return fe[E]&&fe[E](),fe[E]=Q(this.element,E,q),this}opacitySetter(E,q,fe){this.opacity=E=Number(Number(E).toFixed(3)),fe.setAttribute(q,E)}removeClass(E){return this.attr("class",(""+this.attr("class")).replace(W(E)?new RegExp(`(^| )${E}( |$)`):E," ").replace(/ +/g," ").trim())}removeTextOutline(){const E=this.element.querySelector("tspan.highcharts-text-outline");E&&this.safeRemoveChild(E)}safeRemoveChild(E){const q=E.parentNode;q&&q.removeChild(E)}setRadialReference(E){const q=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=E,q&&q.radAttr&&q.animate(this.renderer.getRadialAttr(E,q.radAttr)),this}setTextPath(E,q){q=N(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},q);const fe=this.renderer.url,De=this.text||this,Oe=De.textPath,{attributes:ue,enabled:A}=q;return E=E||Oe&&Oe.path,Oe&&Oe.undo(),E&&A?(q=Q(De,"afterModifyTree",ae=>{if(E&&A){let de=E.attr("id");de||E.attr("id",de=B());var pe={x:0,y:0};G(ue.dx)&&(pe.dx=ue.dx,delete ue.dx),G(ue.dy)&&(pe.dy=ue.dy,delete ue.dy),De.attr(pe),this.attr({transform:""}),this.box&&(this.box=this.box.destroy()),pe=ae.nodes.slice(0),ae.nodes.length=0,ae.nodes[0]={tagName:"textPath",attributes:$(ue,{"text-anchor":ue.textAnchor,href:`${fe}#${de}`}),children:pe}}}),De.textPath={path:E,undo:q}):(De.attr({dx:0,dy:0}),delete De.textPath),this.added&&(De.textCache="",this.renderer.buildText(De)),this}shadow(E){var q;const{renderer:fe}=this,De=N(90===(null===(q=this.parentGroup)||void 0===q?void 0:q.rotation)?{offsetX:-1,offsetY:-1}:{},I(E)?E:{});return q=fe.shadowDefinition(De),this.attr({filter:E?`url(${fe.url}#${q})`:"none"})}show(E=!0){return this.attr({visibility:E?"inherit":"visible"})}"stroke-widthSetter"(E,q,fe){this[q]=E,fe.setAttribute(q,E)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;const E=this.getStyle("stroke-width");let fe,q=0;return E.indexOf("px")===E.length-2?q=D(E):""!==E&&(fe=Ae.createElementNS(z,"rect"),ne(fe,{width:E,"stroke-width":0}),this.element.parentNode.appendChild(fe),q=fe.getBBox().width,fe.parentNode.removeChild(fe)),q}symbolAttr(E){const q=this;K.symbolCustomAttribs.forEach(function(fe){q[fe]=S(E[fe],q[fe])}),q.attr({d:q.renderer.symbols[q.symbolName](q.x,q.y,q.width,q.height,q)})}textSetter(E){E!==this.textStr&&(delete this.textPxLength,this.textStr=E,this.added&&this.renderer.buildText(this))}titleSetter(E){const q=this.element,fe=q.getElementsByTagName("title")[0]||Ae.createElementNS(this.SVG_NS,"title");q.insertBefore?q.insertBefore(fe,q.firstChild):q.appendChild(fe),fe.textContent=String(S(E,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){const E=this.element;return E.parentNode.appendChild(E),this}translate(E,q){return this.attr({translateX:E,translateY:q})}updateTransform(){const{element:E,matrix:q,rotation:fe=0,scaleX:De,scaleY:Oe,translateX:ue=0,translateY:A=0}=this,ae=["translate("+ue+","+A+")"];G(q)&&ae.push("matrix("+q.join(",")+")"),fe&&ae.push("rotate("+fe+" "+S(this.rotationOriginX,E.getAttribute("x"),0)+" "+S(this.rotationOriginY,E.getAttribute("y")||0)+")"),(G(De)||G(Oe))&&ae.push("scale("+S(De,1)+" "+S(Oe,1)+")"),ae.length&&!(this.text||this).textPath&&E.setAttribute("transform",ae.join(" "))}visibilitySetter(E,q,fe){"inherit"===E?fe.removeAttribute(q):this[q]!==E&&fe.setAttribute(q,E),this[q]=E}xGetter(E){return"circle"===this.element.nodeName&&("x"===E?E="cx":"y"===E&&(E="cy")),this._defaultGetter(E)}zIndexSetter(E,q){var fe=this.renderer,De=this.parentGroup;const Oe=(De||fe).element||fe.box,ue=this.element;fe=Oe===fe.box;let ae,A=!1;var pe=this.added;let de;if(G(E)?(ue.setAttribute("data-z-index",E),this[q]===(E=+E)&&(pe=!1)):G(this[q])&&ue.removeAttribute("data-z-index"),this[q]=E,pe){for((E=this.zIndex)&&De&&(De.handleZ=!0),de=(q=Oe.childNodes).length-1;0<=de&&!A;de--)pe=(De=q[de]).getAttribute("data-z-index"),ae=!G(pe),De!==ue&&(0>E&&ae&&!fe&&!de?(Oe.insertBefore(ue,q[de]),A=!0):(D(pe)<=E||ae&&(!G(E)||0<=E))&&(Oe.insertBefore(ue,q[de+1]),A=!0));A||(Oe.insertBefore(ue,q[fe?3:0]),A=!0)}return A}}return K.symbolCustomAttribs="anchorX anchorY clockwise end height innerR r start width x y".split(" "),K.prototype.strokeSetter=K.prototype.fillSetter,K.prototype.yGetter=K.prototype.xGetter,K.prototype.matrixSetter=K.prototype.rotationOriginXSetter=K.prototype.rotationOriginYSetter=K.prototype.rotationSetter=K.prototype.scaleXSetter=K.prototype.scaleYSetter=K.prototype.translateXSetter=K.prototype.translateYSetter=K.prototype.verticalAlignSetter=function(j,E){this[E]=j,this.doTransform=!0},K}),Te(me,"Core/Renderer/RendererRegistry.js",[me["Core/Globals.js"]],function(ve){var be;return function(Fe){let ze;Fe.rendererTypes={},Fe.getRendererType=function(Ve=ze){return Fe.rendererTypes[Ve]||Fe.rendererTypes[ze]},Fe.registerRendererType=function(Ve,we,Ce){Fe.rendererTypes[Ve]=we,(!ze||Ce)&&(ze=Ve,ve.Renderer=we)}}(be||(be={})),be}),Te(me,"Core/Renderer/SVG/SVGLabel.js",[me["Core/Renderer/SVG/SVGElement.js"],me["Core/Utilities.js"]],function(ve,be){const{defined:Fe,extend:ze,isNumber:Ve,merge:we,pick:Ce,removeEvent:oe}=be;class Ae extends ve{constructor(z,re,Q,ne,H,ee,G,V,$,te){let ie;super(),this.paddingRightSetter=this.paddingLeftSetter=this.paddingSetter,this.init(z,"g"),this.textStr=re,this.x=Q,this.y=ne,this.anchorX=ee,this.anchorY=G,this.baseline=$,this.className=te,this.addClass("button"===te?"highcharts-no-tooltip":"highcharts-label"),te&&this.addClass("highcharts-"+te),this.text=z.text(void 0,0,0,V).attr({zIndex:1}),"string"==typeof H&&((ie=/^url\((.*?)\)$/.test(H))||this.renderer.symbols[H])&&(this.symbolKey=H),this.bBox=Ae.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=z.styledMode||ie,this.deferredAttr={},this.alignFactor=0}alignSetter(z){(z={left:0,center:.5,right:1}[z])!==this.alignFactor&&(this.alignFactor=z,this.bBox&&Ve(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(z,re){this.anchorX=z,this.boxAttr(re,Math.round(z)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(z,re){this.anchorY=z,this.boxAttr(re,z-this.ySetting)}boxAttr(z,re){this.box?this.box.attr(z,re):this.deferredAttr[z]=re}css(z){if(z){const re={};z=we(z),Ae.textProps.forEach(Q=>{typeof z[Q]<"u"&&(re[Q]=z[Q],delete z[Q])}),this.text.css(re),"fontSize"in re||"fontWeight"in re?this.updateTextPadding():("width"in re||"textOverflow"in re)&&this.updateBoxSize()}return ve.prototype.css.call(this,z)}destroy(){oe(this.element,"mouseenter"),oe(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),ve.prototype.destroy.call(this)}fillSetter(z,re){z&&(this.needsBox=!0),this.fill=z,this.boxAttr(re,z)}getBBox(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();const z=this.padding,re=Ce(this.paddingLeft,z);return{width:this.width,height:this.height,x:this.bBox.x-re,y:this.bBox.y-z}}getCrispAdjust(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(z){this.heightSetting=z}onAdd(){this.text.add(this),this.attr({text:Ce(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&Fe(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(z,re){Ve(z)?z!==this[re]&&(this[re]=z,this.updateTextPadding()):this[re]=void 0}rSetter(z,re){this.boxAttr(re,z)}strokeSetter(z,re){this.stroke=z,this.boxAttr(re,z)}"stroke-widthSetter"(z,re){z&&(this.needsBox=!0),this["stroke-width"]=z,this.boxAttr(re,z)}"text-alignSetter"(z){this.textAlign=z}textSetter(z){typeof z<"u"&&this.text.attr({text:z}),this.updateTextPadding()}updateBoxSize(){var z=this.text;const re={},Q=this.padding,ne=this.bBox=Ve(this.widthSetting)&&Ve(this.heightSetting)&&!this.textAlign||!Fe(z.textStr)?Ae.emptyBBox:z.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||ne.height||0)+2*Q;const H=this.renderer.fontMetrics(z);this.baselineOffset=Q+Math.min((this.text.firstLineMetrics||H).b,ne.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-H.h)/2),this.needsBox&&!z.textPath&&(this.box||((z=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),z.add(this)),z=this.getCrispAdjust(),re.x=z,re.y=(this.baseline?-this.baselineOffset:0)+z,re.width=Math.round(this.width),re.height=Math.round(this.height),this.box.attr(ze(re,this.deferredAttr)),this.deferredAttr={})}updateTextPadding(){const z=this.text;if(!z.textPath){this.updateBoxSize();const re=this.baseline?0:this.baselineOffset;let Q=Ce(this.paddingLeft,this.padding);Fe(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(Q+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(Q!==z.x||re!==z.y)&&(z.attr("x",Q),z.hasBoxWidthChanged&&(this.bBox=z.getBBox(!0)),typeof re<"u"&&z.attr("y",re)),z.x=Q,z.y=re}}widthSetter(z){this.widthSetting=Ve(z)?z:void 0}getPaddedWidth(){var z=this.padding;const re=Ce(this.paddingLeft,z);return z=Ce(this.paddingRight,z),(this.widthSetting||this.bBox.width||0)+re+z}xSetter(z){this.x=z,this.alignFactor&&(z-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(z),this.attr("translateX",this.xSetting)}ySetter(z){this.ySetting=this.y=Math.round(z),this.attr("translateY",this.ySetting)}}return Ae.emptyBBox={width:0,height:0,x:0,y:0},Ae.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow whiteSpace width".split(" "),Ae}),Te(me,"Core/Renderer/SVG/Symbols.js",[me["Core/Utilities.js"]],function(ve){function be(oe,Ae,Me,z,re){const Q=[];if(re){const ne=re.start||0,H=Ce(re.r,Me);Me=Ce(re.r,z||Me),z=(re.end||0)-.001;const ee=re.innerR,G=Ce(re.open,.001>Math.abs((re.end||0)-ne-2*Math.PI)),V=Math.cos(ne),$=Math.sin(ne),te=Math.cos(z),ie=Math.sin(z),P=Ce(re.longArc,.001>z-ne-Math.PI?0:1);let I=["A",H,Me,0,P,Ce(re.clockwise,1),oe+H*te,Ae+Me*ie];I.params={start:ne,end:z,cx:oe,cy:Ae},Q.push(["M",oe+H*V,Ae+Me*$],I),Ve(ee)&&(I=["A",ee,ee,0,P,Ve(re.clockwise)?1-re.clockwise:0,oe+ee*V,Ae+ee*$],I.params={start:z,end:ne,cx:oe,cy:Ae},Q.push(G?["M",oe+ee*te,Ae+ee*ie]:["L",oe+ee*te,Ae+ee*ie],I)),G||Q.push(["Z"])}return Q}function Fe(oe,Ae,Me,z,re){return re&&re.r?ze(oe,Ae,Me,z,re):[["M",oe,Ae],["L",oe+Me,Ae],["L",oe+Me,Ae+z],["L",oe,Ae+z],["Z"]]}function ze(oe,Ae,Me,z,re){return[["M",oe+(re=re?.r||0),Ae],["L",oe+Me-re,Ae],["A",re,re,0,0,1,oe+Me,Ae+re],["L",oe+Me,Ae+z-re],["A",re,re,0,0,1,oe+Me-re,Ae+z],["L",oe+re,Ae+z],["A",re,re,0,0,1,oe,Ae+z-re],["L",oe,Ae+re],["A",re,re,0,0,1,oe+re,Ae],["Z"]]}const{defined:Ve,isNumber:we,pick:Ce}=ve;return{arc:be,callout:function(oe,Ae,Me,z,re){const Q=Math.min(re&&re.r||0,Me,z),ne=Q+6,H=re&&re.anchorX;re=re&&re.anchorY||0;const ee=ze(oe,Ae,Me,z,{r:Q});return we(H)&&(oe+H>=Me?re>Ae+ne&&re<Ae+z-ne?ee.splice(3,1,["L",oe+Me,re-6],["L",oe+Me+6,re],["L",oe+Me,re+6],["L",oe+Me,Ae+z-Q]):ee.splice(3,1,["L",oe+Me,z/2],["L",H,re],["L",oe+Me,z/2],["L",oe+Me,Ae+z-Q]):0>=oe+H?re>Ae+ne&&re<Ae+z-ne?ee.splice(7,1,["L",oe,re+6],["L",oe-6,re],["L",oe,re-6],["L",oe,Ae+Q]):ee.splice(7,1,["L",oe,z/2],["L",H,re],["L",oe,z/2],["L",oe,Ae+Q]):re&&re>z&&H>oe+ne&&H<oe+Me-ne?ee.splice(5,1,["L",H+6,Ae+z],["L",H,Ae+z+6],["L",H-6,Ae+z],["L",oe+Q,Ae+z]):re&&0>re&&H>oe+ne&&H<oe+Me-ne&&ee.splice(1,1,["L",H-6,Ae],["L",H,Ae-6],["L",H+6,Ae],["L",Me-Q,Ae])),ee},circle:function(oe,Ae,Me,z){return be(oe+Me/2,Ae+z/2,Me/2,z/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(oe,Ae,Me,z){return[["M",oe+Me/2,Ae],["L",oe+Me,Ae+z/2],["L",oe+Me/2,Ae+z],["L",oe,Ae+z/2],["Z"]]},rect:Fe,roundedRect:ze,square:Fe,triangle:function(oe,Ae,Me,z){return[["M",oe+Me/2,Ae],["L",oe+Me,Ae+z],["L",oe,Ae+z],["Z"]]},"triangle-down":function(oe,Ae,Me,z){return[["M",oe,Ae],["L",oe+Me,Ae],["L",oe+Me/2,Ae+z],["Z"]]}}}),Te(me,"Core/Renderer/SVG/TextBuilder.js",[me["Core/Renderer/HTML/AST.js"],me["Core/Globals.js"],me["Core/Utilities.js"]],function(ve,be,Fe){const{doc:ze,SVG_NS:Ve,win:we}=be,{attr:Ce,extend:oe,fireEvent:Ae,isString:Me,objectEach:z,pick:re}=Fe;return class Q{constructor(H){const ee=H.styles;this.renderer=H.renderer,this.svgElement=H,this.width=H.textWidth,this.textLineHeight=ee&&ee.lineHeight,this.textOutline=ee&&ee.textOutline,this.ellipsis=!(!ee||"ellipsis"!==ee.textOverflow),this.noWrap=!(!ee||"nowrap"!==ee.whiteSpace)}buildSVG(){const H=this.svgElement,ee=H.element;var G=H.renderer,V=re(H.textStr,"").toString();const $=-1!==V.indexOf("<"),te=ee.childNodes;G=!H.added&&G.box;const ie=/<br.*?>/g;var P=[V,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,H.getStyle("font-size"),this.width].join();if(P!==H.textCache){for(H.textCache=P,delete H.actualWidth,P=te.length;P--;)ee.removeChild(te[P]);$||this.ellipsis||this.width||H.textPath||-1!==V.indexOf(" ")&&(!this.noWrap||ie.test(V))?""!==V&&(G&&G.appendChild(ee),V=new ve(V),this.modifyTree(V.nodes),V.addToDOM(ee),this.modifyDOM(),this.ellipsis&&-1!==(ee.textContent||"").indexOf("\u2026")&&H.attr("title",this.unescapeEntities(H.textStr||"",["&lt;","&gt;"])),G&&G.removeChild(ee)):ee.appendChild(ze.createTextNode(this.unescapeEntities(V))),Me(this.textOutline)&&H.applyTextOutline&&H.applyTextOutline(this.textOutline)}}modifyDOM(){const H=this.svgElement,ee=Ce(H.element,"x");let G;for(H.firstLineMetrics=void 0;(G=H.element.firstChild)&&/^[\s\u200B]*$/.test(G.textContent||" ");)H.element.removeChild(G);[].forEach.call(H.element.querySelectorAll("tspan.highcharts-br"),(ie,P)=>{ie.nextSibling&&ie.previousSibling&&(0===P&&1===ie.previousSibling.nodeType&&(H.firstLineMetrics=H.renderer.fontMetrics(ie.previousSibling)),Ce(ie,{dy:this.getLineHeight(ie.nextSibling),x:ee}))});const V=this.width||0;if(V){var $=(ie,P)=>{var I=ie.textContent||"";const W=I.replace(/([^\^])-/g,"$1- ").split(" ");var N=!this.noWrap&&(1<W.length||1<H.element.childNodes.length);const U=this.getLineHeight(P);let S=0,D=H.actualWidth;if(this.ellipsis)I&&this.truncate(ie,I,void 0,0,Math.max(0,V-.8*U),(T,B)=>T.substring(0,B)+"\u2026");else if(N){for(I=[],N=[];P.firstChild&&P.firstChild!==ie;)N.push(P.firstChild),P.removeChild(P.firstChild);for(;W.length;)W.length&&!this.noWrap&&0<S&&(I.push(ie.textContent||""),ie.textContent=W.join(" ").replace(/- /g,"-")),this.truncate(ie,void 0,W,0===S&&D||0,V,(T,B)=>W.slice(0,B).join(" ").replace(/- /g,"-")),D=H.actualWidth,S++;N.forEach(T=>{P.insertBefore(T,ie)}),I.forEach(T=>{P.insertBefore(ze.createTextNode(T),ie),(T=ze.createElementNS(Ve,"tspan")).textContent="\u200b",Ce(T,{dy:U,x:ee}),P.insertBefore(T,ie)})}},te=ie=>{[].slice.call(ie.childNodes).forEach(P=>{P.nodeType===we.Node.TEXT_NODE?$(P,ie):(-1!==P.className.baseVal.indexOf("highcharts-br")&&(H.actualWidth=0),te(P))})};te(H.element)}}getLineHeight(H){return H=H.nodeType===we.Node.TEXT_NODE?H.parentElement:H,this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(H||this.svgElement.element).h}modifyTree(H){const ee=(G,V)=>{const{attributes:$={},children:te,style:ie={},tagName:P}=G,I=this.renderer.styledMode;"b"===P||"strong"===P?I?$.class="highcharts-strong":ie.fontWeight="bold":("i"===P||"em"===P)&&(I?$.class="highcharts-emphasized":ie.fontStyle="italic"),ie&&ie.color&&(ie.fill=ie.color),"br"===P?($.class="highcharts-br",G.textContent="\u200b",(V=H[V+1])&&V.textContent&&(V.textContent=V.textContent.replace(/^ +/gm,""))):"a"===P&&te&&te.some(W=>"#text"===W.tagName)&&(G.children=[{children:te,tagName:"tspan"}]),"#text"!==P&&"a"!==P&&(G.tagName="tspan"),oe(G,{attributes:$,style:ie}),te&&te.filter(W=>"#text"!==W.tagName).forEach(ee)};H.forEach(ee),Ae(this.svgElement,"afterModifyTree",{nodes:H})}truncate(H,ee,G,V,$,te){const ie=this.svgElement,{rotation:P}=ie,I=[];let S,D,W=G?1:0,N=(ee||G||"").length,U=N;const T=function(B,K){if(B=K||B,(K=H.parentNode)&&typeof I[B]>"u"&&K.getSubStringLength)try{I[B]=V+K.getSubStringLength(0,G?B+1:B)}catch{}return I[B]};if(ie.rotation=0,D=T(H.textContent.length),V+D>$){for(;W<=N;)U=Math.ceil((W+N)/2),G&&(S=te(G,U)),D=T(U,S&&S.length-1),W===N?W=N+1:D>$?N=U-1:W=U;0===N?H.textContent="":ee&&N===ee.length-1||(H.textContent=S||te(ee||G,U))}G&&G.splice(0,U),ie.actualWidth=D,ie.rotation=P}unescapeEntities(H,ee){return z(this.renderer.escapes,function(G,V){ee&&-1!==ee.indexOf(G)||(H=H.toString().replace(new RegExp(G,"g"),V))}),H}}}),Te(me,"Core/Renderer/SVG/SVGRenderer.js",[me["Core/Renderer/HTML/AST.js"],me["Core/Color/Color.js"],me["Core/Globals.js"],me["Core/Renderer/RendererRegistry.js"],me["Core/Renderer/SVG/SVGElement.js"],me["Core/Renderer/SVG/SVGLabel.js"],me["Core/Renderer/SVG/Symbols.js"],me["Core/Renderer/SVG/TextBuilder.js"],me["Core/Utilities.js"]],function(ve,be,Fe,ze,Ve,we,Ce,oe,Ae){const{charts:Me,deg2rad:z,doc:re,isFirefox:Q,isMS:ne,isWebKit:H,noop:ee,SVG_NS:G,symbolSizes:V,win:$}=Fe,{addEvent:te,attr:ie,createElement:P,css:I,defined:W,destroyObjectProperties:N,extend:U,isArray:S,isNumber:D,isObject:T,isString:B,merge:K,pick:j,pInt:E,uniqueKey:q}=Ae;let fe;class De{constructor(ue,A,ae,pe,de,Ne,R){this.width=this.url=this.style=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(ue,A,ae,pe,de,Ne,R)}init(ue,A,ae,pe,de,Ne,R){const Z=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),X=Z.element;let xe;R||Z.css(this.getStyle(pe)),ue.appendChild(X),ie(ue,"dir","ltr"),-1===ue.innerHTML.indexOf("xmlns")&&ie(X,"xmlns",this.SVG_NS),this.box=X,this.boxWrapper=Z,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(re.createTextNode("Created with Highcharts 11.1.0")),this.defs=this.createElement("defs").add(),this.allowHTML=Ne,this.forExport=de,this.styledMode=R,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=Z.getStyle("font-size"),this.setSize(A,ae,!1),Q&&ue.getBoundingClientRect&&((A=function(){I(ue,{left:0,top:0}),xe=ue.getBoundingClientRect(),I(ue,{left:Math.ceil(xe.left)-xe.left+"px",top:Math.ceil(xe.top)-xe.top+"px"})})(),this.unSubPixelFix=te($,"resize",A))}definition(ue){return new ve([ue]).addToDOM(this.defs.element)}getReferenceURL(){if((Q||H)&&re.getElementsByTagName("base").length){if(!W(fe)){var ue=q();ue=new ve([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:ue},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${ue})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(re.body),I(ue,{position:"fixed",top:0,left:0,zIndex:9e5});const A=re.elementFromPoint(6,6);fe="hitme"===(A&&A.id),re.body.removeChild(ue)}if(fe)return $.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""}getStyle(ue){return this.style=U({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},ue)}setStyle(ue){this.boxWrapper.css(this.getStyle(ue))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){const ue=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),N(this.gradients||{}),this.gradients=null,this.defs=ue.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null}createElement(ue){const A=new this.Element;return A.init(this,ue),A}getRadialAttr(ue,A){return{cx:ue[0]-ue[2]/2+(A.cx||0)*ue[2],cy:ue[1]-ue[2]/2+(A.cy||0)*ue[2],r:(A.r||0)*ue[2]}}shadowDefinition(ue){const A=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(ue).map(pe=>ue[pe])].join("-").replace(/[^a-z0-9\-]/g,""),ae=K({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},ue);return this.defs.element.querySelector(`#${A}`)||this.definition({tagName:"filter",attributes:{id:A},children:[{tagName:"feDropShadow",attributes:{dx:ae.offsetX,dy:ae.offsetY,"flood-color":ae.color,"flood-opacity":Math.min(5*ae.opacity,1),stdDeviation:ae.width/2}}]}),A}buildText(ue){new oe(ue).buildSVG()}getContrast(ue){return 1.05/(.05+(ue=.2126*(ue=be.parse(ue).rgba.map(A=>.03928>=(A/=255)?A/12.92:Math.pow((A+.055)/1.055,2.4)))[0]+.7152*ue[1]+.0722*ue[2]))>(ue+.05)/.05?"#FFFFFF":"#000000"}button(ue,A,ae,pe,de={},Ne,R,Z,X,xe){const Ie=this.label(ue,A,ae,X,void 0,void 0,xe,void 0,"button"),Ee=this.styledMode;ue=de.states||{};let Le=0;delete(de=K(de)).states;const Ge=K({color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},de.style);delete de.style;let st,_t,ge,qe=ve.filterUserAttributes(de);return Ie.attr(K({padding:8,r:2},qe)),Ee||(qe=K({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},qe),Ne=K(qe,{fill:"#e6e6e6"},ve.filterUserAttributes(Ne||ue.hover||{})),st=Ne.style,delete Ne.style,R=K(qe,{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},ve.filterUserAttributes(R||ue.select||{})),_t=R.style,delete R.style,Z=K(qe,{style:{color:"#cccccc"}},ve.filterUserAttributes(Z||ue.disabled||{})),ge=Z.style,delete Z.style),te(Ie.element,ne?"mouseover":"mouseenter",function(){3!==Le&&Ie.setState(1)}),te(Ie.element,ne?"mouseout":"mouseleave",function(){3!==Le&&Ie.setState(Le)}),Ie.setState=function(le){1!==le&&(Ie.state=Le=le),Ie.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][le||0]),Ee||(Ie.attr([qe,Ne,R,Z][le||0]),T(le=[Ge,st,_t,ge][le||0])&&Ie.css(le))},Ee||(Ie.attr(qe).css(U({cursor:"default"},Ge)),xe&&Ie.text.css({pointerEvents:"none"})),Ie.on("touchstart",le=>le.stopPropagation()).on("click",function(le){3!==Le&&pe.call(Ie,le)})}crispLine(ue,A,ae="round"){const pe=ue[0],de=ue[1];return W(pe[1])&&pe[1]===de[1]&&(pe[1]=de[1]=Math[ae](pe[1])-A%2/2),W(pe[2])&&pe[2]===de[2]&&(pe[2]=de[2]=Math[ae](pe[2])+A%2/2),ue}path(ue){const A=this.styledMode?{}:{fill:"none"};return S(ue)?A.d=ue:T(ue)&&U(A,ue),this.createElement("path").attr(A)}circle(ue,A,ae){return ue=T(ue)?ue:typeof ue>"u"?{}:{x:ue,y:A,r:ae},(A=this.createElement("circle")).xSetter=A.ySetter=function(pe,de,Ne){Ne.setAttribute("c"+de,pe)},A.attr(ue)}arc(ue,A,ae,pe,de,Ne){return T(ue)?(A=(pe=ue).y,ae=pe.r,ue=pe.x):pe={innerR:pe,start:de,end:Ne},(ue=this.symbol("arc",ue,A,ae,ae,pe)).r=ae,ue}rect(ue,A,ae,pe,de,Ne){ue=T(ue)?ue:typeof ue>"u"?{}:{x:ue,y:A,r:de,width:Math.max(ae||0,0),height:Math.max(pe||0,0)};const R=this.createElement("rect");return this.styledMode||(typeof Ne<"u"&&(ue["stroke-width"]=Ne,U(ue,R.crisp(ue))),ue.fill="none"),R.rSetter=function(Z,X,xe){R.r=Z,ie(xe,{rx:Z,ry:Z})},R.rGetter=function(){return R.r||0},R.attr(ue)}roundedRect(ue){return this.symbol("roundedRect").attr(ue)}setSize(ue,A,ae){this.width=ue,this.height=A,this.boxWrapper.animate({width:ue,height:A},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:j(ae,!0)?void 0:0}),this.alignElements()}g(ue){const A=this.createElement("g");return ue?A.attr({class:"highcharts-"+ue}):A}image(ue,A,ae,pe,de,Ne){const R={preserveAspectRatio:"none"};D(A)&&(R.x=A),D(ae)&&(R.y=ae),D(pe)&&(R.width=pe),D(de)&&(R.height=de);const Z=this.createElement("image").attr(R);return A=function(X){Z.attr({href:ue}),Ne.call(Z,X)},Ne?(Z.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}),ae=new $.Image,te(ae,"load",A),ae.src=ue,ae.complete&&A({})):Z.attr({href:ue}),Z}symbol(ue,A,ae,pe,de,Ne){const R=this,Z=/^url\((.*?)\)$/,X=Z.test(ue),xe=!X&&(this.symbols[ue]?ue:"circle"),Ie=xe&&this.symbols[xe];let Ee,Le,Ge,qe;if(Ie)"number"==typeof A&&(Le=Ie.call(this.symbols,Math.round(A||0),Math.round(ae||0),pe||0,de||0,Ne)),Ee=this.path(Le),R.styledMode||Ee.attr("fill","none"),U(Ee,{symbolName:xe||void 0,x:A,y:ae,width:pe,height:de}),Ne&&U(Ee,Ne);else if(X){Ge=ue.match(Z)[1];const st=Ee=this.image(Ge);st.imgwidth=j(Ne&&Ne.width,V[Ge]&&V[Ge].width),st.imgheight=j(Ne&&Ne.height,V[Ge]&&V[Ge].height),qe=_t=>_t.attr({width:_t.width,height:_t.height}),["width","height"].forEach(function(_t){st[_t+"Setter"]=function(ge,le){this[le]=ge;const{alignByTranslate:Ue,element:Re,width:Pe,height:Qe,imgwidth:nt,imgheight:It}=this;if(W(ge=this["img"+le])){let kt=1;Ne&&"within"===Ne.backgroundSize&&Pe&&Qe?(kt=Math.min(Pe/nt,Qe/It),ie(Re,{width:Math.round(nt*kt),height:Math.round(It*kt)})):Re&&Re.setAttribute(le,ge),Ue||this.translate(((Pe||0)-nt*kt)/2,((Qe||0)-It*kt)/2)}}}),W(A)&&st.attr({x:A,y:ae}),st.isImg=!0,W(st.imgwidth)&&W(st.imgheight)?qe(st):(st.attr({width:0,height:0}),P("img",{onload:function(){const _t=Me[R.chartIndex];0===this.width&&(I(this,{position:"absolute",top:"-999em"}),re.body.appendChild(this)),V[Ge]={width:this.width,height:this.height},st.imgwidth=this.width,st.imgheight=this.height,st.element&&qe(st),this.parentNode&&this.parentNode.removeChild(this),R.imgCount--,!R.imgCount&&_t&&!_t.hasLoaded&&_t.onload()},src:Ge}),this.imgCount++)}return Ee}clipRect(ue,A,ae,pe){const de=q()+"-",Ne=this.createElement("clipPath").attr({id:de}).add(this.defs);return(ue=this.rect(ue,A,ae,pe,0).add(Ne)).id=de,ue.clipPath=Ne,ue.count=0,ue}text(ue,A,ae,pe){const de={};return!pe||!this.allowHTML&&this.forExport?(de.x=Math.round(A||0),ae&&(de.y=Math.round(ae)),W(ue)&&(de.text=ue),ue=this.createElement("text").attr(de),(!pe||this.forExport&&!this.allowHTML)&&(ue.xSetter=function(Ne,R,Z){const X=Z.getElementsByTagName("tspan"),xe=Z.getAttribute(R);for(let Ee,Ie=0;Ie<X.length;Ie++)Ee=X[Ie],Ee.getAttribute(R)===xe&&Ee.setAttribute(R,Ne);Z.setAttribute(R,Ne)}),ue):this.html(ue,A,ae)}fontMetrics(ue){const A=24>(ue=E(Ve.prototype.getStyle.call(ue,"font-size")||0))?ue+3:Math.round(1.2*ue);return{h:A,b:Math.round(.8*A),f:ue}}rotCorr(ue,A,ae){let pe=ue;return A&&ae&&(pe=Math.max(pe*Math.cos(A*z),4)),{x:-ue/3*Math.sin(A*z),y:pe}}pathToSegments(ue){const A=[],ae=[],pe={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let de=0;de<ue.length;de++)B(ae[0])&&D(ue[de])&&ae.length===pe[ae[0].toUpperCase()]&&ue.splice(de,0,ae[0].replace("M","L").replace("m","l")),"string"==typeof ue[de]&&(ae.length&&A.push(ae.slice(0)),ae.length=0),ae.push(ue[de]);return A.push(ae.slice(0)),A}label(ue,A,ae,pe,de,Ne,R,Z,X){return new we(this,ue,A,ae,pe,de,Ne,R,Z,X)}alignElements(){this.alignedObjects.forEach(ue=>ue.align())}}return U(De.prototype,{Element:Ve,SVG_NS:G,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Ce,draw:ee}),ze.registerRendererType("svg",De,!0),De}),Te(me,"Core/Renderer/HTML/HTMLElement.js",[me["Core/Globals.js"],me["Core/Renderer/SVG/SVGElement.js"],me["Core/Utilities.js"]],function(ve,be,Fe){const{isFirefox:ze,isMS:Ve,isWebKit:we,win:Ce}=ve,{css:oe,defined:Ae,extend:Me,pick:z,pInt:re}=Fe,Q=[];class ne extends be{static compose(ee){if(Fe.pushUnique(Q,ee)){const G=ne.prototype,V=ee.prototype;V.getSpanCorrection=G.getSpanCorrection,V.htmlCss=G.htmlCss,V.htmlGetBBox=G.htmlGetBBox,V.htmlUpdateTransform=G.htmlUpdateTransform,V.setSpanRotation=G.setSpanRotation}return ee}getSpanCorrection(ee,G,V){this.xCorr=-ee*V,this.yCorr=-G}htmlCss(ee){const G="SPAN"===this.element.tagName&&ee&&"width"in ee,V=z(G&&ee.width,void 0);let $;return G&&(delete ee.width,this.textWidth=V,$=!0),ee&&"ellipsis"===ee.textOverflow&&(ee.whiteSpace="nowrap",ee.overflow="hidden"),this.styles=Me(this.styles,ee),oe(this.element,ee),$&&this.htmlUpdateTransform(),this}htmlGetBBox(){const ee=this.element;return{x:ee.offsetLeft,y:ee.offsetTop,width:ee.offsetWidth,height:ee.offsetHeight}}htmlUpdateTransform(){if(this.added){var ee=this.renderer,G=this.element,V=this.x||0,$=this.y||0,te=this.textAlign||"left",ie={left:0,center:.5,right:1}[te],P=this.styles,I=P&&P.whiteSpace;if(oe(G,{marginLeft:this.translateX||0,marginTop:this.translateY||0}),"SPAN"===G.tagName){P=this.rotation;const N=this.textWidth&&re(this.textWidth),U=[P,te,G.innerHTML,this.textWidth,this.textAlign].join();let S=!1;if(N!==this.oldTextWidth){if(this.textPxLength)var W=this.textPxLength;else oe(G,{width:"",whiteSpace:I||"nowrap"}),W=G.offsetWidth;(N>this.oldTextWidth||W>N)&&(/[ \-]/.test(G.textContent||G.innerText)||"ellipsis"===G.style.textOverflow)&&(oe(G,{width:W>N||P?N+"px":"auto",display:"block",whiteSpace:I||"normal"}),this.oldTextWidth=N,S=!0)}this.hasBoxWidthChanged=S,U!==this.cTT&&(ee=ee.fontMetrics(G).b,!Ae(P)||P===(this.oldRotation||0)&&te===this.oldAlign||this.setSpanRotation(P,ie,ee),this.getSpanCorrection(!Ae(P)&&this.textPxLength||G.offsetWidth,ee,ie,P,te)),oe(G,{left:V+(this.xCorr||0)+"px",top:$+(this.yCorr||0)+"px"}),this.cTT=U,this.oldRotation=P,this.oldAlign=te}}else this.alignOnAdd=!0}setSpanRotation(ee,G,V){const $={},te=Ve&&!/Edge/.test(Ce.navigator.userAgent)?"-ms-transform":we?"-webkit-transform":ze?"MozTransform":Ce.opera?"-o-transform":void 0;te&&($[te]=$.transform="rotate("+ee+"deg)",$[te+(ze?"Origin":"-origin")]=$.transformOrigin=100*G+"% "+V+"px",oe(this.element,$))}}return ne}),Te(me,"Core/Renderer/HTML/HTMLRenderer.js",[me["Core/Renderer/HTML/AST.js"],me["Core/Renderer/SVG/SVGElement.js"],me["Core/Renderer/SVG/SVGRenderer.js"],me["Core/Utilities.js"]],function(ve,be,Fe,ze){const{attr:Ve,createElement:we,extend:Ce,pick:oe}=ze,Ae=[];class Me extends Fe{static compose(re){return ze.pushUnique(Ae,re)&&(re.prototype.html=Me.prototype.html),re}html(re,Q,ne){const H=this.createElement("span"),ee=H.element,G=H.renderer,V=function($,te){["opacity","visibility"].forEach(function(ie){$[ie+"Setter"]=function(P,I,W){const N=$.div?$.div.style:te;be.prototype[ie+"Setter"].call(this,P,I,W),N&&(N[I]=P)}}),$.addedSetters=!0};return H.textSetter=function($){$!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,ve.setElementHTML(this.element,oe($,"")),this.textStr=$,H.doTransform=!0)},V(H,H.element.style),H.xSetter=H.ySetter=H.alignSetter=H.rotationSetter=function($,te){"align"===te?H.alignValue=H.textAlign=$:H[te]=$,H.doTransform=!0},H.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},H.attr({text:re,x:Math.round(Q),y:Math.round(ne)}).css({position:"absolute"}),G.styledMode||H.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),ee.style.whiteSpace="nowrap",H.css=H.htmlCss,H.add=function($){const te=G.box.parentNode,ie=[];let P;if(this.parentGroup=$){if(P=$.div,!P){for(;$;)ie.push($),$=$.parentGroup;ie.reverse().forEach(function(I){function W(D,T){I[T]=D,"translateX"===T?S.left=D+"px":S.top=D+"px",I.doTransform=!0}const N=Ve(I.element,"class"),U=I.styles||{};P=I.div=I.div||we("div",N?{className:N}:void 0,{position:"absolute",left:(I.translateX||0)+"px",top:(I.translateY||0)+"px",display:I.display,opacity:I.opacity,visibility:I.visibility},P||te);const S=P.style;var D;Ce(I,{classSetter:(D=P,function(T){this.element.setAttribute("class",T),D.className=T}),css:function(D){return H.css.call(I,D),["cursor","pointerEvents"].forEach(T=>{D[T]&&(S[T]=D[T])}),I},on:function(){return ie[0].div&&H.on.apply({element:ie[0].div,onEvents:I.onEvents},arguments),I},translateXSetter:W,translateYSetter:W}),I.addedSetters||V(I),I.css(U)})}}else P=te;return P.appendChild(ee),H.added=!0,H.alignOnAdd&&H.htmlUpdateTransform(),H},H}}return Me}),Te(me,"Core/Axis/AxisDefaults.js",[],function(){var ve=(()=>{return(be=ve||(ve={})).defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},be.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){const{numberFormatter:Fe}=this.axis.chart;return Fe(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},be.defaultLeftAxisOptions={title:{rotation:270}},be.defaultRightAxisOptions={title:{rotation:90}},be.defaultBottomAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}},be.defaultTopAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}},ve;var be})();return ve}),Te(me,"Core/Foundation.js",[me["Core/Utilities.js"]],function(ve){const{addEvent:be,isFunction:Fe,objectEach:ze,removeEvent:Ve}=ve;var we=(()=>((we||(we={})).registerEventOptions=function(oe,Ae){oe.eventOptions=oe.eventOptions||{},ze(Ae.events,function(Me,z){oe.eventOptions[z]!==Me&&(oe.eventOptions[z]&&(Ve(oe,z,oe.eventOptions[z]),delete oe.eventOptions[z]),Fe(Me)&&(oe.eventOptions[z]=Me,be(oe,z,Me,{order:0})))})},we))();return we}),Te(me,"Core/Axis/Tick.js",[me["Core/Templating.js"],me["Core/Globals.js"],me["Core/Utilities.js"]],function(ve,be,Fe){const{deg2rad:ze}=be,{clamp:Ve,correctFloat:we,defined:Ce,destroyObjectProperties:oe,extend:Ae,fireEvent:Me,isNumber:z,merge:re,objectEach:Q,pick:ne}=Fe;return class H{constructor(G,V,$,te,ie){this.isNewLabel=this.isNew=!0,this.axis=G,this.pos=V,this.type=$||"",this.parameters=ie||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,Me(this,"init"),$||te||this.addLabel()}addLabel(){const G=this,V=G.axis;var $=V.options;const te=V.chart;var ie=V.categories;const P=V.logarithmic,I=V.names,W=G.pos,N=ne(G.options&&G.options.labels,$.labels);var U=V.tickPositions;const S=W===U[0],D=W===U[U.length-1],T=(!N.step||1===N.step)&&1===V.tickInterval;U=U.info;let K,j,E,B=G.label;ie=this.parameters.category||(ie?ne(ie[W],I[W],W):W),P&&z(ie)&&(ie=we(P.lin2log(ie))),V.dateTime&&(U?(j=te.time.resolveDTLFormat($.dateTimeLabelFormats[!$.grid&&U.higherRanks[W]||U.unitName]),K=j.main):z(ie)&&(K=V.dateTime.getXDateFormat(ie,$.dateTimeLabelFormats||{}))),G.isFirst=S,G.isLast=D;const q={axis:V,chart:te,dateTimeLabelFormat:K,isFirst:S,isLast:D,pos:W,tick:G,tickPositionInfo:U,value:ie};Me(this,"labelFormat",q);const fe=Oe=>N.formatter?N.formatter.call(Oe,Oe):N.format?(Oe.text=V.defaultLabelFormatter.call(Oe,Oe),ve.format(N.format,Oe,te)):V.defaultLabelFormatter.call(Oe,Oe);$=fe.call(q,q);const De=j&&j.list;G.shortenLabel=De?function(){for(E=0;E<De.length;E++)if(Ae(q,{dateTimeLabelFormat:De[E]}),B.attr({text:fe.call(q,q)}),B.getBBox().width<V.getSlotWidth(G)-2*N.padding)return;B.attr({text:""})}:void 0,T&&V._addedPlotLB&&G.moveLabel($,N),Ce(B)||G.movedLabel?B&&B.textStr!==$&&!T&&(!B.textWidth||N.style.width||B.styles.width||B.css({width:null}),B.attr({text:$}),B.textPxLength=B.getBBox().width):(G.label=B=G.createLabel({x:0,y:0},$,N),G.rotation=0)}createLabel(G,V,$){const te=this.axis,ie=te.chart;return(G=Ce(V)&&$.enabled?ie.renderer.text(V,G.x,G.y,$.useHTML).add(te.labelGroup):null)&&(ie.styledMode||G.css(re($.style)),G.textPxLength=G.getBBox().width),G}destroy(){oe(this,this.axis)}getPosition(G,V,$,te){const ie=this.axis,P=ie.chart,I=te&&P.oldChartHeight||P.chartHeight;return(G={x:G?we(ie.translate(V+$,void 0,void 0,te)+ie.transB):ie.left+ie.offset+(ie.opposite?(te&&P.oldChartWidth||P.chartWidth)-ie.right-ie.left:0),y:G?I-ie.bottom+ie.offset-(ie.opposite?ie.height:0):we(I-ie.translate(V+$,void 0,void 0,te)-ie.transB)}).y=Ve(G.y,-1e5,1e5),Me(this,"afterGetPosition",{pos:G}),G}getLabelPosition(G,V,$,te,ie,P,I,W){const N=this.axis,U=N.transA,S=N.isLinked&&N.linkedParent?N.linkedParent.reversed:N.reversed,D=N.staggerLines,T=N.tickRotCorr||{x:0,y:0},B=te||N.reserveSpaceDefault?0:-N.labelOffset*("center"===N.labelAlign?.5:1),K=ie.distance,j={};return $=0===N.side?$.rotation?-K:-$.getBBox().height:2===N.side?T.y+K:Math.cos($.rotation*ze)*(T.y-$.getBBox(!1,0).height/2),Ce(ie.y)&&($=0===N.side&&N.horiz?ie.y+$:ie.y),G=G+ne(ie.x,[0,1,0,-1][N.side]*K)+B+T.x-(P&&te?P*U*(S?-1:1):0),V=V+$-(P&&!te?P*U*(S?1:-1):0),D&&(te=I/(W||1)%D,N.opposite&&(te=D-te-1),V+=N.labelOffset/D*te),j.x=G,j.y=Math.round(V),Me(this,"afterGetLabelPosition",{pos:j,tickmarkOffset:P,index:I}),j}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(G,V,$,te,ie,P){return P.crispLine([["M",G,V],["L",G+(ie?0:-$),V+(ie?$:0)]],te)}handleOverflow(G){const V=this.axis,$=V.options.labels,te=G.x;var ie=V.chart.chartWidth,P=V.chart.spacing;const I=ne(V.labelLeft,Math.min(V.pos,P[3]));P=ne(V.labelRight,Math.max(V.isRadial?0:V.pos+V.len,ie-P[1]));const W=this.label,N=this.rotation,U={left:0,center:.5,right:1}[V.labelAlign||W.attr("align")],S=W.getBBox().width,D=V.getSlotWidth(this),T={};let j,B=D,K=1;N||"justify"!==$.overflow?0>N&&te-U*S<I?j=Math.round(te/Math.cos(N*ze)-I):0<N&&te+U*S>P&&(j=Math.round((ie-te)/Math.cos(N*ze))):(ie=te+(1-U)*S,te-U*S<I?B=G.x+B*(1-U)-I:ie>P&&(B=P-G.x+B*U,K=-1),B=Math.min(D,B),B<D&&"center"===V.labelAlign&&(G.x+=K*(D-B-U*(D-Math.min(S,B)))),(S>B||V.autoRotation&&(W.styles||{}).width)&&(j=B)),j&&(this.shortenLabel?this.shortenLabel():(T.width=Math.floor(j)+"px",($.style||{}).textOverflow||(T.textOverflow="ellipsis"),W.css(T)))}moveLabel(G,V){const $=this;var te=$.label;const ie=$.axis;let P=!1;te&&te.textStr===G?($.movedLabel=te,P=!0,delete $.label):Q(ie.ticks,function(I){P||I.isNew||I===$||!I.label||I.label.textStr!==G||($.movedLabel=I.label,P=!0,I.labelPos=$.movedLabel.xy,delete I.label)}),P||!$.labelPos&&!te||($.movedLabel=$.createLabel(te=$.labelPos||te.xy,G,V),$.movedLabel&&$.movedLabel.attr({opacity:0}))}render(G,V,$){var te=this.axis,ie=te.horiz,P=this.pos,I=ne(this.tickmarkOffset,te.tickmarkOffset);I=(P=this.getPosition(ie,P,I,V)).x,te=ie&&I===te.pos+te.len||!ie&&P.y===te.pos?-1:1,ie=ne($,this.label&&this.label.newOpacity,1),$=ne($,1),this.isActive=!0,this.renderGridLine(V,$,te),this.renderMark(P,$,te),this.renderLabel(P,V,ie,G),this.isNew=!1,Me(this,"afterRender")}renderGridLine(G,V,$){const te=this.axis,ie=te.options,P={},I=this.pos,W=this.type,N=ne(this.tickmarkOffset,te.tickmarkOffset),U=te.chart.renderer;let S=this.gridLine,D=ie.gridLineWidth,T=ie.gridLineColor,B=ie.gridLineDashStyle;"minor"===this.type&&(D=ie.minorGridLineWidth,T=ie.minorGridLineColor,B=ie.minorGridLineDashStyle),S||(te.chart.styledMode||(P.stroke=T,P["stroke-width"]=D||0,P.dashstyle=B),W||(P.zIndex=1),G&&(V=0),this.gridLine=S=U.path().attr(P).addClass("highcharts-"+(W?W+"-":"")+"grid-line").add(te.gridGroup)),S&&($=te.getPlotLinePath({value:I+N,lineWidth:S.strokeWidth()*$,force:"pass",old:G,acrossPanes:!1}))&&S[G||this.isNew?"attr":"animate"]({d:$,opacity:V})}renderMark(G,V,$){const te=this.axis;var ie=te.options;const P=te.chart.renderer,I=this.type,W=te.tickSize(I?I+"Tick":"tick"),N=G.x;G=G.y;const U=ne(ie["minor"!==I?"tickWidth":"minorTickWidth"],!I&&te.isXAxis?1:0);ie=ie["minor"!==I?"tickColor":"minorTickColor"];let S=this.mark;const D=!S;W&&(te.opposite&&(W[0]=-W[0]),S||(this.mark=S=P.path().addClass("highcharts-"+(I?I+"-":"")+"tick").add(te.axisGroup),te.chart.styledMode||S.attr({stroke:ie,"stroke-width":U})),S[D?"attr":"animate"]({d:this.getMarkPath(N,G,W[0],S.strokeWidth()*$,te.horiz,P),opacity:V}))}renderLabel(G,V,$,te){var ie=this.axis;const P=ie.horiz,I=ie.options,W=this.label,N=I.labels,U=N.step;ie=ne(this.tickmarkOffset,ie.tickmarkOffset);const S=G.x;G=G.y;let D=!0;W&&z(S)&&(W.xy=G=this.getLabelPosition(S,G,W,P,N,ie,te,U),this.isFirst&&!this.isLast&&!I.showFirstLabel||this.isLast&&!this.isFirst&&!I.showLastLabel?D=!1:!P||N.step||N.rotation||V||0===$||this.handleOverflow(G),U&&te%U&&(D=!1),D&&z(G.y)?(G.opacity=$,W[this.isNewLabel?"attr":"animate"](G).show(!0),this.isNewLabel=!1):(W.hide(),this.isNewLabel=!0))}replaceMovedLabel(){const G=this.label,V=this.axis;G&&!this.isNew&&(G.animate({opacity:0},void 0,G.destroy),delete this.label),V.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}}),Te(me,"Core/Axis/Axis.js",[me["Core/Animation/AnimationUtilities.js"],me["Core/Axis/AxisDefaults.js"],me["Core/Color/Color.js"],me["Core/Defaults.js"],me["Core/Foundation.js"],me["Core/Globals.js"],me["Core/Axis/Tick.js"],me["Core/Utilities.js"]],function(ve,be,Fe,ze,Ve,we,Ce,oe){const{animObject:Ae}=ve,{defaultOptions:Me}=ze,{registerEventOptions:z}=Ve,{deg2rad:re}=we,{arrayMax:Q,arrayMin:ne,clamp:H,correctFloat:ee,defined:G,destroyObjectProperties:V,erase:$,error:te,extend:ie,fireEvent:P,getClosestDistance:I,insertItem:W,isArray:N,isNumber:U,isString:S,merge:D,normalizeTickInterval:T,objectEach:B,pick:K,relativeLength:j,removeEvent:E,splat:q,syncTimeout:fe}=oe,De=(ue,A)=>T(A,void 0,void 0,K(ue.options.allowDecimals,.5>A||void 0!==ue.tickAmount),!!ue.tickAmount);class Oe{constructor(A,ae,pe){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.index=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(A,ae,pe)}init(A,ae,pe=this.coll){const de="xAxis"===pe;this.chart=A,this.horiz=this.isZAxis||(A.inverted?!de:de),this.isXAxis=de,this.coll=pe,P(this,"init",{userOptions:ae}),this.opposite=K(ae.opposite,this.opposite),this.side=K(ae.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(ae);const Ne=(pe=this.options).labels,R=pe.type;this.userOptions=ae,this.minPixelPadding=0,this.reversed=K(pe.reversed,this.reversed),this.visible=pe.visible,this.zoomEnabled=pe.zoomEnabled,this.hasNames="category"===R||!0===pe.categories,this.categories=pe.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=G(pe.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=pe.minRange||pe.maxZoom,this.range=pe.range,this.offset=pe.offset||0,this.min=this.max=null,ae=K(pe.crosshair,q(A.options.tooltip.crosshairs)[de?0:1]),this.crosshair=!0===ae?{}:ae,-1===A.axes.indexOf(this)&&(de?A.axes.splice(A.xAxis.length,0,this):A.axes.push(this),W(this,A[this.coll])),A.orderItems(this.coll),this.series=this.series||[],A.inverted&&!this.isZAxis&&de&&typeof this.reversed>"u"&&(this.reversed=!0),this.labelRotation=U(Ne.rotation)?Ne.rotation:void 0,z(this,pe),P(this,"afterInit")}setOptions(A){this.options=D(be.defaultXAxisOptions,"yAxis"===this.coll&&be.defaultYAxisOptions,[be.defaultTopAxisOptions,be.defaultRightAxisOptions,be.defaultBottomAxisOptions,be.defaultLeftAxisOptions][this.side],D(Me[this.coll],A)),P(this,"afterSetOptions",{userOptions:A})}defaultLabelFormatter(A){var ae=this.axis;({numberFormatter:A}=this.chart);const pe=U(this.value)?this.value:NaN,de=ae.chart.time,Ne=this.dateTimeLabelFormat;var R=Me.lang;const Z=R.numericSymbols;R=R.numericSymbolMagnitude||1e3;const X=ae.logarithmic?Math.abs(pe):ae.tickInterval;let Ie,xe=Z&&Z.length;if(ae.categories)Ie=`${this.value}`;else if(Ne)Ie=de.dateFormat(Ne,pe);else if(xe&&1e3<=X)for(;xe--&&typeof Ie>"u";)X>=(ae=Math.pow(R,xe+1))&&10*pe%ae==0&&null!==Z[xe]&&0!==pe&&(Ie=A(pe/ae,-1)+Z[xe]);return typeof Ie>"u"&&(Ie=1e4<=Math.abs(pe)?A(pe,-1):A(pe,-1,void 0,"")),Ie}getSeriesExtremes(){const A=this,ae=A.chart;let pe;P(this,"getSeriesExtremes",null,function(){A.hasVisibleSeries=!1,A.dataMin=A.dataMax=A.threshold=null,A.softThreshold=!A.isXAxis,A.series.forEach(function(de){if(de.visible||!ae.options.chart.ignoreHiddenSeries){var Ne=de.options;let Z,X,R=Ne.threshold;A.hasVisibleSeries=!0,A.positiveValuesOnly&&0>=R&&(R=null),A.isXAxis?(Ne=de.xData)&&Ne.length&&(Ne=A.logarithmic?Ne.filter(xe=>0<xe):Ne,pe=de.getXExtremes(Ne),Z=pe.min,X=pe.max,U(Z)||Z instanceof Date||(Ne=Ne.filter(U),pe=de.getXExtremes(Ne),Z=pe.min,X=pe.max),Ne.length&&(A.dataMin=Math.min(K(A.dataMin,Z),Z),A.dataMax=Math.max(K(A.dataMax,X),X))):(de=de.applyExtremes(),U(de.dataMin)&&(Z=de.dataMin,A.dataMin=Math.min(K(A.dataMin,Z),Z)),U(de.dataMax)&&(X=de.dataMax,A.dataMax=Math.max(K(A.dataMax,X),X)),G(R)&&(A.threshold=R),(!Ne.softThreshold||A.positiveValuesOnly)&&(A.softThreshold=!1))}})}),P(this,"afterGetSeriesExtremes")}translate(A,ae,pe,de,Ne,R){const Z=this.linkedParent||this,X=de&&Z.old?Z.old.min:Z.min;if(!U(X))return NaN;const xe=Z.minPixelPadding;Ne=(Z.isOrdinal||Z.brokenAxis&&Z.brokenAxis.hasBreaks||Z.logarithmic&&Ne)&&Z.lin2val;let Ie=1,Ee=0;return(de=de&&Z.old?Z.old.transA:Z.transA)||(de=Z.transA),pe&&(Ie*=-1,Ee=Z.len),Z.reversed&&(Ie*=-1,Ee-=Ie*(Z.sector||Z.len)),ae?(R=(A*Ie+Ee-xe)/de+X,Ne&&(R=Z.lin2val(R))):(Ne&&(A=Z.val2lin(A)),A=Ie*(A-X)*de,R=(Z.isRadial?A:ee(A))+Ee+Ie*xe+(U(R)?de*R:0)),R}toPixels(A,ae){return this.translate(A,!1,!this.horiz,void 0,!0)+(ae?0:this.pos)}toValue(A,ae){return this.translate(A-(ae?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(A){function ae(Re,Pe,Qe){return"pass"!==qe&&(Re<Pe||Re>Qe)&&(qe?Re=H(Re,Pe,Qe):Ue=!0),Re}const pe=this,de=pe.chart,Ne=pe.left,R=pe.top,Z=A.old,X=A.value,xe=A.lineWidth,Ie=Z&&de.oldChartHeight||de.chartHeight,Ee=Z&&de.oldChartWidth||de.chartWidth,Le=pe.transB;let st,_t,ge,le,Ue,Ge=A.translatedValue,qe=A.force;return P(this,"getPlotLinePath",A={value:X,lineWidth:xe,old:Z,force:qe,acrossPanes:A.acrossPanes,translatedValue:Ge},function(Re){Ge=K(Ge,pe.translate(X,void 0,void 0,Z)),Ge=H(Ge,-1e5,1e5),st=ge=Math.round(Ge+Le),_t=le=Math.round(Ie-Ge-Le),U(Ge)?pe.horiz?(_t=R,le=Ie-pe.bottom,st=ge=ae(st,Ne,Ne+pe.width)):(st=Ne,ge=Ee-pe.right,_t=le=ae(_t,R,R+pe.height)):(Ue=!0,qe=!1),Re.path=Ue&&!qe?null:de.renderer.crispLine([["M",st,_t],["L",ge,le]],xe||1)}),A.path}getLinearTickPositions(A,ae,pe){const de=ee(Math.floor(ae/A)*A);pe=ee(Math.ceil(pe/A)*A);const Ne=[];let R,Z;if(ee(de+A)===de&&(Z=20),this.single)return[ae];for(ae=de;ae<=pe&&(Ne.push(ae),(ae=ee(ae+A,Z))!==R);)R=ae;return Ne}getMinorTickInterval(){const A=this.options;return!0===A.minorTicks?K(A.minorTickInterval,"auto"):!1===A.minorTicks?null:A.minorTickInterval}getMinorTickPositions(){var A=this.options;const ae=this.tickPositions,pe=this.minorTickInterval;var de=this.pointRangePadding||0;const Ne=this.min-de,R=(de=this.max+de)-Ne;let Z=[];if(R&&R/pe<this.len/3){const X=this.logarithmic;if(X)this.paddedTicks.forEach(function(xe,Ie,Ee){Ie&&Z.push.apply(Z,X.getLogTickPositions(pe,Ee[Ie-1],Ee[Ie],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())Z=Z.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(pe),Ne,de,A.startOfWeek));else for(A=Ne+(ae[0]-Ne)%pe;A<=de&&A!==Z[0];A+=pe)Z.push(A)}return 0!==Z.length&&this.trimTicks(Z),Z}adjustForMinRange(){const A=this.options,ae=this.logarithmic;let pe=this.min;var de=this.max;let Ne,R;if(this.isXAxis&&typeof this.minRange>"u"&&!ae)if(G(A.min)||G(A.max)||G(A.floor)||G(A.ceiling))this.minRange=null;else{var Z=I(this.series.map(X=>{var xe;return(X.xIncrement?null===(xe=X.xData)||void 0===xe?void 0:xe.slice(0,2):X.xData)||[]}))||0;this.minRange=Math.min(5*Z,this.dataMax-this.dataMin)}de-pe<this.minRange&&(Z=this.dataMax-this.dataMin>=this.minRange,R=this.minRange,Ne=[pe-(de=(R-de+pe)/2),K(A.min,pe-de)],Z&&(Ne[2]=ae?ae.log2lin(this.dataMin):this.dataMin),pe=Q(Ne),de=[pe+R,K(A.max,pe+R)],Z&&(de[2]=ae?ae.log2lin(this.dataMax):this.dataMax),(de=ne(de))-pe<R&&(Ne[0]=de-R,Ne[1]=K(A.min,de-R),pe=Q(Ne))),this.min=pe,this.max=de}getClosest(){let A,ae;if(this.categories)ae=1;else{const pe=[];this.series.forEach(function(de){var Ne;const R=de.closestPointRange,Z=de.visible||!de.chart.options.chart.ignoreHiddenSeries;1===(null===(Ne=de.xData)||void 0===Ne?void 0:Ne.length)?pe.push(de.xData[0]):!de.noSharedTooltip&&G(R)&&Z&&(ae=G(ae)?Math.min(ae,R):R)}),pe.length&&(pe.sort((de,Ne)=>de-Ne),A=I([pe]))}return A&&ae?Math.min(A,ae):A||ae}nameToX(A){const ae=N(this.options.categories),pe=ae?this.categories:this.names;let Ne,de=A.options.x;return A.series.requireSorting=!1,G(de)||(de=this.options.uniqueNames&&pe?ae?pe.indexOf(A.name):K(pe.keys[A.name],-1):A.series.autoIncrement()),-1===de?!ae&&pe&&(Ne=pe.length):Ne=de,typeof Ne<"u"?(this.names[Ne]=A.name,this.names.keys[A.name]=Ne):A.x&&(Ne=A.x),Ne}updateNames(){const A=this,ae=this.names;0<ae.length&&(Object.keys(ae.keys).forEach(function(pe){delete ae.keys[pe]}),ae.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(pe){pe.xIncrement=null,(!pe.points||pe.isDirtyData)&&(A.max=Math.max(A.max,pe.xData.length-1),pe.processData(),pe.generatePoints()),pe.data.forEach(function(de,Ne){let R;de&&de.options&&typeof de.name<"u"&&(R=A.nameToX(de),typeof R<"u"&&R!==de.x&&(de.x=R,pe.xData[Ne]=R))})}))}setAxisTranslation(){const A=this,ae=A.max-A.min;var pe=A.linkedParent;const de=!!A.categories,Ne=A.isXAxis;let Z,R=A.axisPointRange||0,X=0,xe=0,Ie=A.transA;(Ne||de||R)&&(Z=A.getClosest(),pe?(X=pe.minPointOffset,xe=pe.pointRangePadding):A.series.forEach(function(Ee){const Le=de?1:Ne?K(Ee.options.pointRange,Z,0):A.axisPointRange||0,Ge=Ee.options.pointPlacement;R=Math.max(R,Le),(!A.single||de)&&(Ee=Ee.is("xrange")?!Ne:Ne,X=Math.max(X,Ee&&S(Ge)?0:Le/2),xe=Math.max(xe,Ee&&"on"===Ge?0:Le))}),A.minPointOffset=X*=pe=A.ordinal&&A.ordinal.slope&&Z?A.ordinal.slope/Z:1,A.pointRangePadding=xe*=pe,A.pointRange=Math.min(R,A.single&&de?1:ae),Ne&&Z&&(A.closestPointRange=Z)),A.translationSlope=A.transA=Ie=A.staticScale||A.len/(ae+xe||1),A.transB=A.horiz?A.left:A.bottom,A.minPixelPadding=Ie*X,P(this,"afterSetAxisTranslation")}minFromRange(){return this.max-this.range}setTickInterval(A){var ae=this.chart;const pe=this.logarithmic,de=this.options,Ne=this.isXAxis,R=this.isLinked,Z=de.tickPixelInterval,X=this.categories,xe=this.softThreshold;let qe,st,_t,Ie=de.maxPadding,Ee=de.minPadding,Le=U(de.tickInterval)&&0<=de.tickInterval?de.tickInterval:void 0,Ge=U(this.threshold)?this.threshold:null;if(this.dateTime||X||R||this.getTickAmount(),st=K(this.userMin,de.min),_t=K(this.userMax,de.max),R){this.linkedParent=ae[this.coll][de.linkedTo];var ge=this.linkedParent.getExtremes();this.min=K(ge.min,ge.dataMin),this.max=K(ge.max,ge.dataMax),de.type!==this.linkedParent.options.type&&te(11,1,ae)}else xe&&G(Ge)&&(this.dataMin>=Ge?(ge=Ge,Ee=0):this.dataMax<=Ge&&(qe=Ge,Ie=0)),this.min=K(st,ge,this.dataMin),this.max=K(_t,qe,this.dataMax);if(pe&&(this.positiveValuesOnly&&!A&&0>=Math.min(this.min,K(this.dataMin,this.min))&&te(10,1,ae),this.min=ee(pe.log2lin(this.min),16),this.max=ee(pe.log2lin(this.max),16)),this.range&&G(this.max)&&(this.userMin=this.min=st=Math.max(this.dataMin,this.minFromRange()),this.userMax=_t=this.max,this.range=null),P(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!U(this.userMin)&&U(de.softMin)&&de.softMin<this.min&&(this.min=st=de.softMin),!U(this.userMax)&&U(de.softMax)&&de.softMax>this.max&&(this.max=_t=de.softMax),!(X||this.axisPointRange||this.stacking&&this.stacking.usePercentage||R)&&G(this.min)&&G(this.max)&&(ae=this.max-this.min)&&(!G(st)&&Ee&&(this.min-=ae*Ee),!G(_t)&&Ie&&(this.max+=ae*Ie)),!U(this.userMin)&&U(de.floor)&&(this.min=Math.max(this.min,de.floor)),!U(this.userMax)&&U(de.ceiling)&&(this.max=Math.min(this.max,de.ceiling)),xe&&G(this.dataMin)&&(Ge=Ge||0,!G(st)&&this.min<Ge&&this.dataMin>=Ge?this.min=this.options.minRange?Math.min(Ge,this.max-this.minRange):Ge:!G(_t)&&this.max>Ge&&this.dataMax<=Ge&&(this.max=this.options.minRange?Math.max(Ge,this.min+this.minRange):Ge)),U(this.min)&&U(this.max)&&!this.chart.polar&&this.min>this.max&&(G(this.options.min)?this.max=this.min:G(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||typeof this.min>"u"||typeof this.max>"u"?1:R&&this.linkedParent&&!Le&&Z===this.linkedParent.options.tickPixelInterval?Le=this.linkedParent.tickInterval:K(Le,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,X?1:(this.max-this.min)*Z/Math.max(this.len,Z)),Ne&&!A){const le=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(Ue){Ue.forceCrop=Ue.forceCropping&&Ue.forceCropping(),Ue.processData(le)}),P(this,"postProcessData",{hasExtremesChanged:le})}this.setAxisTranslation(),P(this,"initialAxisTranslation"),this.pointRange&&!Le&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),A=K(de.minTickInterval,this.dateTime&&!this.series.some(le=>le.noSharedTooltip)?this.closestPointRange:0),!Le&&this.tickInterval<A&&(this.tickInterval=A),this.dateTime||this.logarithmic||Le||(this.tickInterval=De(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var A=this.options;const ae=A.tickPositions,pe=A.tickPositioner;var de=this.getMinorTickInterval(),Ne=this.hasVerticalPanning(),R="colorAxis"===this.coll;const Z=(R||!Ne)&&A.startOnTick;let X;if(Ne=(R||!Ne)&&A.endOnTick,R=[],this.tickmarkOffset=this.categories&&"between"===A.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===de&&this.tickInterval?this.tickInterval/A.minorTicksPerMajor:de,this.single=this.min===this.max&&G(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==A.allowDecimals),ae)R=ae.slice();else if(U(this.min)&&U(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)R=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,A.units),this.min,this.max,A.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)R=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(de=A=this.tickInterval;de<=2*A&&(R=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&R.length>this.tickAmount);)this.tickInterval=De(this,de*=1.1);else R=[this.min,this.max],te(19,!1,this.chart);R.length>this.len&&(R=[R[0],R[R.length-1]])[0]===R[1]&&(R.length=1),pe&&(this.tickPositions=R,(X=pe.apply(this,[this.min,this.max]))&&(R=X))}this.tickPositions=R,this.paddedTicks=R.slice(0),this.trimTicks(R,Z,Ne),!this.isLinked&&U(this.min)&&U(this.max)&&(this.single&&2>R.length&&!this.categories&&!this.series.some(xe=>xe.is("heatmap")&&"between"===xe.options.pointPlacement)&&(this.min-=.5,this.max+=.5),ae||X||this.adjustTickAmount()),P(this,"afterSetTickPositions")}trimTicks(A,ae,pe){const de=A[0],Ne=A[A.length-1],R=!this.isOrdinal&&this.minPointOffset||0;if(P(this,"trimTicks"),!this.isLinked){if(ae&&de!==-1/0)this.min=de;else for(;this.min-R>A[0];)A.shift();if(pe)this.max=Ne;else for(;this.max+R<A[A.length-1];)A.pop();0===A.length&&G(de)&&!this.options.tickPositions&&A.push((Ne+de)/2)}}alignToOthers(){const A=this,ae=[this],pe=A.options,de="yAxis"===this.coll&&this.chart.options.chart.alignThresholds,Ne=[];let R;if(A.thresholdAlignment=void 0,(!1!==this.chart.options.chart.alignTicks&&pe.alignTicks||de)&&!1!==pe.startOnTick&&!1!==pe.endOnTick&&!A.logarithmic){const Z=xe=>{const{horiz:Ie,options:Ee}=xe;return[Ie?Ee.left:Ee.top,Ee.width,Ee.height,Ee.pane].join()},X=Z(this);this.chart[this.coll].forEach(function(xe){const{series:Ie}=xe;Ie.length&&Ie.some(Ee=>Ee.visible)&&xe!==A&&Z(xe)===X&&(R=!0,ae.push(xe))})}if(R&&de){ae.forEach(X=>{X=X.getThresholdAlignment(A),U(X)&&Ne.push(X)});const Z=1<Ne.length?Ne.reduce((X,xe)=>X+xe,0)/Ne.length:void 0;ae.forEach(X=>{X.thresholdAlignment=Z})}return R}getThresholdAlignment(A){if((!U(this.dataMin)||this!==A&&this.series.some(ae=>ae.isDirty||ae.isDirtyData))&&this.getSeriesExtremes(),U(this.threshold))return A=H((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(A=1-A),A}getTickAmount(){const A=this.options,ae=A.tickPixelInterval;let pe=A.tickAmount;!G(A.tickInterval)&&!pe&&this.len<ae&&!this.isRadial&&!this.logarithmic&&A.startOnTick&&A.endOnTick&&(pe=2),!pe&&this.alignToOthers()&&(pe=Math.ceil(this.len/ae)+1),4>pe&&(this.finalTickAmt=pe,pe=5),this.tickAmount=pe}adjustTickAmount(){const A=this,{finalTickAmt:ae,max:pe,min:de,options:Ne,tickPositions:R,tickAmount:Z,thresholdAlignment:X}=A,xe=R&&R.length;var Ie=K(A.threshold,A.softThreshold?0:null),Ee=A.tickInterval;let Le;if(U(X)&&(Le=.5>X?Math.ceil(X*(Z-1)):Math.floor(X*(Z-1)),Ne.reversed&&(Le=Z-1-Le)),A.hasData()&&U(de)&&U(pe)){const Ge=()=>{A.transA*=(xe-1)/(Z-1),A.min=Ne.startOnTick?R[0]:Math.min(de,R[0]),A.max=Ne.endOnTick?R[R.length-1]:Math.max(pe,R[R.length-1])};if(U(Le)&&U(A.threshold)){for(;R[Le]!==Ie||R.length!==Z||R[0]>de||R[R.length-1]<pe;){for(R.length=0,R.push(A.threshold);R.length<Z;)void 0===R[Le]||R[Le]>A.threshold?R.unshift(ee(R[0]-Ee)):R.push(ee(R[R.length-1]+Ee));if(Ee>8*A.tickInterval)break;Ee*=2}Ge()}else if(xe<Z){for(;R.length<Z;)R.length%2||de===Ie?R.push(ee(R[R.length-1]+Ee)):R.unshift(ee(R[0]-Ee));Ge()}if(G(ae)){for(Ee=Ie=R.length;Ee--;)(3===ae&&Ee%2==1||2>=ae&&0<Ee&&Ee<Ie-1)&&R.splice(Ee,1);A.finalTickAmt=void 0}}}setScale(){let A=!1,ae=!1;this.series.forEach(function(de){A=A||de.isDirtyData||de.isDirty,ae=ae||de.xAxis&&de.xAxis.isDirty||!1}),this.setAxisSize();const pe=this.len!==(this.old&&this.old.len);pe||A||ae||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=pe||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),A&&this.panningState&&(this.panningState.isDirty=!0),P(this,"afterSetScale")}setExtremes(A,ae,pe,de,Ne){const R=this,Z=R.chart;pe=K(pe,!0),R.series.forEach(function(X){delete X.kdTree}),Ne=ie(Ne,{min:A,max:ae}),P(R,"setExtremes",Ne,function(){R.userMin=A,R.userMax=ae,R.eventArgs=Ne,pe&&Z.redraw(de)})}zoom(A,ae){const pe=this,de=this.dataMin,Ne=this.dataMax,R=this.options,Z=Math.min(de,K(R.min,de)),X=Math.max(Ne,K(R.max,Ne));return P(this,"zoom",A={newMin:A,newMax:ae},function(xe){let Ie=xe.newMin,Ee=xe.newMax;(Ie!==pe.min||Ee!==pe.max)&&(pe.allowZoomOutside||(G(de)&&(Ie<Z&&(Ie=Z),Ie>X&&(Ie=X)),G(Ne)&&(Ee<Z&&(Ee=Z),Ee>X&&(Ee=X))),pe.displayBtn=typeof Ie<"u"||typeof Ee<"u",pe.setExtremes(Ie,Ee,!1,void 0,{trigger:"zoom"})),xe.zoomed=!0}),A.zoomed}setAxisSize(){const A=this.chart;var ae=this.options;const pe=ae.offsets||[0,0,0,0],de=this.horiz,Ne=this.width=Math.round(j(K(ae.width,A.plotWidth-pe[3]+pe[1]),A.plotWidth)),R=this.height=Math.round(j(K(ae.height,A.plotHeight-pe[0]+pe[2]),A.plotHeight)),Z=this.top=Math.round(j(K(ae.top,A.plotTop+pe[0]),A.plotHeight,A.plotTop));ae=this.left=Math.round(j(K(ae.left,A.plotLeft+pe[3]),A.plotWidth,A.plotLeft)),this.bottom=A.chartHeight-R-Z,this.right=A.chartWidth-Ne-ae,this.len=Math.max(de?Ne:R,0),this.pos=de?ae:Z}getExtremes(){const A=this.logarithmic;return{min:A?ee(A.lin2log(this.min)):this.min,max:A?ee(A.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(A){var ae=this.logarithmic;const pe=ae?ae.lin2log(this.min):this.min;return ae=ae?ae.lin2log(this.max):this.max,null===A||A===-1/0?A=pe:A===1/0?A=ae:pe>A?A=pe:ae<A&&(A=ae),this.translate(A,0,1,0,1)}autoLabelAlign(A){const ae=(K(A,0)-90*this.side+720)%360;return P(this,"autoLabelAlign",A={align:"center"},function(pe){15<ae&&165>ae?pe.align="right":195<ae&&345>ae&&(pe.align="left")}),A.align}tickSize(A){const ae=this.options,pe=K(ae["tick"===A?"tickWidth":"minorTickWidth"],"tick"===A&&this.isXAxis&&!this.categories?1:0);let Ne,de=ae["tick"===A?"tickLength":"minorTickLength"];return pe&&de&&("inside"===ae[A+"Position"]&&(de=-de),Ne=[de,pe]),P(this,"afterTickSize",A={tickSize:Ne}),A.tickSize}labelMetrics(){const A=this.chart.renderer;var ae=this.ticks;return ae=ae[Object.keys(ae)[0]]||{},this.chart.renderer.fontMetrics(ae.label||ae.movedLabel||A.box)}unsquish(){const A=this.options.labels;var ae=this.horiz;const pe=this.tickInterval,de=this.len/(((this.categories?1:0)+this.max-this.min)/pe),Ne=A.rotation,R=.75*this.labelMetrics().h,Z=Math.max(this.max-this.min,0),X=function(Ge){let qe=Ge/(de||1);return qe=1<qe?Math.ceil(qe):1,qe*pe>Z&&Ge!==1/0&&de!==1/0&&Z&&(qe=Math.ceil(Z/pe)),ee(qe*pe)};let Ie,Le,xe=pe,Ee=Number.MAX_VALUE;if(ae){if(A.staggerLines||(U(Ne)?Le=[Ne]:de<A.autoRotationLimit&&(Le=A.autoRotation)),Le){let Ge;for(const qe of Le)(qe===Ne||qe&&-90<=qe&&90>=qe)&&(Ge=(ae=X(Math.abs(R/Math.sin(re*qe))))+Math.abs(qe/360),Ge<Ee&&(Ee=Ge,Ie=qe,xe=ae))}}else xe=X(R);return this.autoRotation=Le,this.labelRotation=K(Ie,U(Ne)?Ne:0),A.step?pe:xe}getSlotWidth(A){const ae=this.chart,pe=this.horiz,de=this.options.labels,Ne=Math.max(this.tickPositions.length-(this.categories?0:1),1),R=ae.margin[3];if(A&&U(A.slotWidth))return A.slotWidth;if(pe&&2>de.step)return de.rotation?0:(this.staggerLines||1)*this.len/Ne;if(!pe){if(void 0!==(A=de.style.width))return parseInt(String(A),10);if(R)return R-ae.spacing[3]}return.33*ae.chartWidth}renderUnsquish(){const A=this.chart,ae=A.renderer,pe=this.tickPositions,de=this.ticks,Ne=this.options.labels,R=Ne.style,Z=this.horiz,X=this.getSlotWidth();var xe=Math.max(1,Math.round(X-2*Ne.padding));const Ie={},Ee=this.labelMetrics(),Le=R.textOverflow;let Ge,qe,st=0;if(S(Ne.rotation)||(Ie.rotation=Ne.rotation||0),pe.forEach(function(ge){(ge=de[ge]).movedLabel&&ge.replaceMovedLabel(),ge&&ge.label&&ge.label.textPxLength>st&&(st=ge.label.textPxLength)}),this.maxLabelLength=st,this.autoRotation)st>xe&&st>Ee.h?Ie.rotation=this.labelRotation:this.labelRotation=0;else if(X&&(Ge=xe,!Le))for(qe="clip",xe=pe.length;!Z&&xe--;){var _t=pe[xe];(_t=de[_t].label)&&(_t.styles&&"ellipsis"===_t.styles.textOverflow?_t.css({textOverflow:"clip"}):_t.textPxLength>X&&_t.css({width:X+"px"}),_t.getBBox().height>this.len/pe.length-(Ee.h-Ee.f)&&(_t.specificTextOverflow="ellipsis"))}Ie.rotation&&(Ge=st>.5*A.chartHeight?.33*A.chartHeight:st,Le||(qe="ellipsis")),(this.labelAlign=Ne.align||this.autoLabelAlign(this.labelRotation))&&(Ie.align=this.labelAlign),pe.forEach(function(ge){const le=(ge=de[ge])&&ge.label,Ue=R.width,Re={};le&&(le.attr(Ie),ge.shortenLabel?ge.shortenLabel():Ge&&!Ue&&"nowrap"!==R.whiteSpace&&(Ge<le.textPxLength||"SPAN"===le.element.tagName)?(Re.width=Ge+"px",Le||(Re.textOverflow=le.specificTextOverflow||qe),le.css(Re)):le.styles&&le.styles.width&&!Re.width&&!Ue&&le.css({width:null}),delete le.specificTextOverflow,ge.rotation=Ie.rotation)},this),this.tickRotCorr=ae.rotCorr(Ee.b,this.labelRotation||0,0!==this.side)}hasData(){return this.series.some(function(A){return A.hasData()})||this.options.showEmpty&&G(this.min)&&G(this.max)}addTitle(A){const de=this.opposite,Ne=this.options.title,R=this.chart.styledMode;let Z;this.axisTitle||((Z=Ne.textAlign)||(Z=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:de?"right":"left",middle:"center",high:de?"left":"right"})[Ne.align]),this.axisTitle=this.chart.renderer.text(Ne.text||"",0,0,Ne.useHTML).attr({zIndex:7,rotation:Ne.rotation,align:Z}).addClass("highcharts-axis-title"),R||this.axisTitle.css(D(Ne.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),R||Ne.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[A?"show":"hide"](A)}generateTick(A){const ae=this.ticks;ae[A]?ae[A].addLabel():ae[A]=new Ce(this,A)}getOffset(){const A=this,{chart:ae,horiz:pe,options:de,side:Ne,ticks:R,tickPositions:Z,coll:X,axisParent:xe}=A,Ie=ae.renderer,Ee=ae.inverted&&!A.isZAxis?[1,0,3,2][Ne]:Ne;var Le=A.hasData();const Ge=de.title;var qe=de.labels;const st=U(de.crossing);var _t=ae.axisOffset;const ge=ae.clipOffset,le=[-1,1,1,-1][Ne],Ue=de.className;let Re,Qe,Pe=0;var nt=0;let It=0;if(A.showAxis=Re=Le||de.showEmpty,A.staggerLines=A.horiz&&qe.staggerLines||void 0,!A.axisGroup){const kt=(Ct,pt,on)=>Ie.g(Ct).attr({zIndex:on}).addClass(`highcharts-${X.toLowerCase()}${pt} `+(this.isRadial?`highcharts-radial-axis${pt} `:"")+(Ue||"")).add(xe);A.gridGroup=kt("grid","-grid",de.gridZIndex),A.axisGroup=kt("axis","",de.zIndex),A.labelGroup=kt("axis-labels","-labels",qe.zIndex)}Le||A.isLinked?(Z.forEach(function(kt){A.generateTick(kt)}),A.renderUnsquish(),A.reserveSpaceDefault=0===Ne||2===Ne||{1:"left",3:"right"}[Ne]===A.labelAlign,K(qe.reserveSpace,!st&&null,"center"===A.labelAlign||null,A.reserveSpaceDefault)&&Z.forEach(function(kt){It=Math.max(R[kt].getLabelSize(),It)}),A.staggerLines&&(It*=A.staggerLines),A.labelOffset=It*(A.opposite?-1:1)):B(R,function(kt,Ct){kt.destroy(),delete R[Ct]}),Ge&&Ge.text&&!1!==Ge.enabled&&(A.addTitle(Re),Re&&!st&&!1!==Ge.reserveSpace&&(A.titleOffset=Pe=A.axisTitle.getBBox()[pe?"height":"width"],Qe=Ge.offset,nt=G(Qe)?0:K(Ge.margin,pe?5:10))),A.renderLine(),A.offset=le*K(de.offset,_t[Ne]?_t[Ne]+(de.margin||0):0),A.tickRotCorr=A.tickRotCorr||{x:0,y:0},Le=0===Ne?-A.labelMetrics().h:2===Ne?A.tickRotCorr.y:0,nt=Math.abs(It)+nt,It&&(nt=nt-Le+le*(pe?K(qe.y,A.tickRotCorr.y+le*qe.distance):K(qe.x,le*qe.distance))),A.axisTitleMargin=K(Qe,nt),A.getMaxLabelDimensions&&(A.maxLabelDimensions=A.getMaxLabelDimensions(R,Z)),"colorAxis"!==X&&(qe=this.tickSize("tick"),_t[Ne]=Math.max(_t[Ne],(A.axisTitleMargin||0)+Pe+le*A.offset,nt,Z&&Z.length&&qe?qe[0]+le*A.offset:0),_t=!A.axisLine||de.offset?0:2*Math.floor(A.axisLine.strokeWidth()/2),ge[Ee]=Math.max(ge[Ee],_t)),P(this,"afterGetOffset")}getLinePath(A){const ae=this.chart,pe=this.opposite;var de=this.offset;const Ne=this.horiz,R=this.left+(pe?this.width:0)+de;return de=ae.chartHeight-this.bottom-(pe?this.height:0)+de,pe&&(A*=-1),ae.renderer.crispLine([["M",Ne?this.left:R,Ne?de:this.top],["L",Ne?ae.chartWidth-this.right:R,Ne?de:ae.chartHeight-this.bottom]],A)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(A){var ae=this.horiz,pe=this.left;const de=this.top;var Ne=this.len;const R=this.options.title,Z=ae?pe:de,X=this.opposite,xe=this.offset,Ie=R.x,Ee=R.y,Le=this.chart.renderer.fontMetrics(A);return A=A?Math.max(A.getBBox(!1,0).height-Le.h-1,0):0,Ne={low:Z+(ae?0:Ne),middle:Z+Ne/2,high:Z+(ae?Ne:0)}[R.align],pe=(ae?de+this.height:pe)+(ae?1:-1)*(X?-1:1)*(this.axisTitleMargin||0)+[-A,A,Le.f,-A][this.side],P(this,"afterGetTitlePosition",{titlePosition:ae={x:ae?Ne+Ie:pe+(X?this.width:0)+xe+Ie,y:ae?pe+Ee-(X?this.height:0)+xe:Ne+Ee}}),ae}renderMinorTick(A,ae){const pe=this.minorTicks;pe[A]||(pe[A]=new Ce(this,A,"minor")),ae&&pe[A].isNew&&pe[A].render(null,!0),pe[A].render(null,!1,1)}renderTick(A,ae,pe){const de=this.ticks;(!this.isLinked||A>=this.min&&A<=this.max||this.grid&&this.grid.isColumn)&&(de[A]||(de[A]=new Ce(this,A)),pe&&de[A].isNew&&de[A].render(ae,!0,-1),de[A].render(ae))}render(){const A=this,ae=A.chart,pe=A.logarithmic,de=A.options,Ne=A.isLinked,R=A.tickPositions,Z=A.axisTitle,X=A.ticks,xe=A.minorTicks,Ie=A.alternateBands,Ee=de.stackLabels,Le=de.alternateGridColor;var Ge=de.crossing;const qe=A.tickmarkOffset,st=A.axisLine,_t=A.showAxis,ge=Ae(ae.renderer.globalAnimation);let le,Ue;if(A.labelEdge.length=0,A.overlap=!1,[X,xe,Ie].forEach(function(Re){B(Re,function(Pe){Pe.isActive=!1})}),U(Ge)){const Re=this.isXAxis?ae.yAxis[0]:ae.xAxis[0],Pe=[1,-1,-1,1][this.side];Re&&(Ge=Re.toPixels(Ge,!0),A.horiz&&(Ge=Re.len-Ge),A.offset=Pe*Ge)}if(A.hasData()||Ne){const Re=A.chart.hasRendered&&A.old&&U(A.old.min);A.minorTickInterval&&!A.categories&&A.getMinorTickPositions().forEach(function(Pe){A.renderMinorTick(Pe,Re)}),R.length&&(R.forEach(function(Pe,Qe){A.renderTick(Pe,Qe,Re)}),qe&&(0===A.min||A.single)&&(X[-1]||(X[-1]=new Ce(A,-1,null,!0)),X[-1].render(-1))),Le&&R.forEach(function(Pe,Qe){Ue=typeof R[Qe+1]<"u"?R[Qe+1]+qe:A.max-qe,Qe%2==0&&Pe<A.max&&Ue<=A.max+(ae.polar?-qe:qe)&&(Ie[Pe]||(Ie[Pe]=new we.PlotLineOrBand(A)),le=Pe+qe,Ie[Pe].options={from:pe?pe.lin2log(le):le,to:pe?pe.lin2log(Ue):Ue,color:Le,className:"highcharts-alternate-grid"},Ie[Pe].render(),Ie[Pe].isActive=!0)}),A._addedPlotLB||(A._addedPlotLB=!0,(de.plotLines||[]).concat(de.plotBands||[]).forEach(function(Pe){A.addPlotBandOrLine(Pe)}))}[X,xe,Ie].forEach(function(Re){const Pe=[],Qe=ge.duration;B(Re,function(nt,It){nt.isActive||(nt.render(It,!1,0),nt.isActive=!1,Pe.push(It))}),fe(function(){let nt=Pe.length;for(;nt--;)Re[Pe[nt]]&&!Re[Pe[nt]].isActive&&(Re[Pe[nt]].destroy(),delete Re[Pe[nt]])},Re!==Ie&&ae.hasRendered&&Qe?Qe:0)}),st&&(st[st.isPlaced?"animate":"attr"]({d:this.getLinePath(st.strokeWidth())}),st.isPlaced=!0,st[_t?"show":"hide"](_t)),Z&&_t&&(Z[Z.isNew?"attr":"animate"](A.getTitlePosition(Z)),Z.isNew=!1),Ee&&Ee.enabled&&A.stacking&&A.stacking.renderStackTotals(),A.old={len:A.len,max:A.max,min:A.min,transA:A.transA,userMax:A.userMax,userMin:A.userMin},A.isDirty=!1,P(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(A){A.render()})),this.series.forEach(function(A){A.isDirty=!0})}getKeepProps(){return this.keepProps||Oe.keepProps}destroy(A){const ae=this,pe=ae.plotLinesAndBands,de=this.eventOptions;if(P(this,"destroy",{keepEvents:A}),A||E(ae),[ae.ticks,ae.minorTicks,ae.alternateBands].forEach(function(Ne){V(Ne)}),pe)for(A=pe.length;A--;)pe[A].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(Ne){ae[Ne]&&(ae[Ne]=ae[Ne].destroy())});for(const Ne in ae.plotLinesAndBandsGroups)ae.plotLinesAndBandsGroups[Ne]=ae.plotLinesAndBandsGroups[Ne].destroy();B(ae,function(Ne,R){-1===ae.getKeepProps().indexOf(R)&&delete ae[R]}),this.eventOptions=de}drawCrosshair(A,ae){const pe=this.crosshair;var de=K(pe&&pe.snap,!0);const Ne=this.chart;let R,Z=this.cross;if(P(this,"drawCrosshair",{e:A,point:ae}),A||(A=this.cross&&this.cross.e),pe&&!1!==(G(ae)||!de)){if(de?G(ae)&&(R=K("colorAxis"!==this.coll?ae.crosshairPos:null,this.isXAxis?ae.plotX:this.len-ae.plotY)):R=A&&(this.horiz?A.chartX-this.pos:this.len-A.chartY+this.pos),G(R)){var X={value:ae&&(this.isXAxis?ae.x:K(ae.stackY,ae.y)),translatedValue:R};Ne.polar&&ie(X,{isCrosshair:!0,chartX:A&&A.chartX,chartY:A&&A.chartY,point:ae}),X=this.getPlotLinePath(X)||null}if(!G(X))return void this.hideCrosshair();de=this.categories&&!this.isRadial,Z||(this.cross=Z=Ne.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(de?"category ":"thin ")+(pe.className||"")).attr({zIndex:K(pe.zIndex,2)}).add(),Ne.styledMode||(Z.attr({stroke:pe.color||(de?Fe.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":K(pe.width,1)}).css({"pointer-events":"none"}),pe.dashStyle&&Z.attr({dashstyle:pe.dashStyle}))),Z.show().attr({d:X}),de&&!pe.width&&Z.attr({"stroke-width":this.transA}),this.cross.e=A}else this.hideCrosshair();P(this,"afterDrawCrosshair",{e:A,point:ae})}hideCrosshair(){this.cross&&this.cross.hide(),P(this,"afterHideCrosshair")}hasVerticalPanning(){const A=this.chart.options.chart.panning;return!!(A&&A.enabled&&/y/.test(A.type))}update(A,ae){const pe=this.chart;A=D(this.userOptions,A),this.destroy(!0),this.init(pe,A),pe.isDirtyBox=!0,K(ae,!0)&&pe.redraw()}remove(A){const ae=this.chart,pe=this.coll,de=this.series;let Ne=de.length;for(;Ne--;)de[Ne]&&de[Ne].remove(!1);$(ae.axes,this),$(ae[pe]||[],this),ae.orderItems(pe),this.destroy(),ae.isDirtyBox=!0,K(A,!0)&&ae.redraw()}setTitle(A,ae){this.update({title:A},ae)}setCategories(A,ae){this.update({categories:A},ae)}}return Oe.defaultOptions=be.defaultXAxisOptions,Oe.keepProps="coll extKey hcEvents names series userMax userMin".split(" "),Oe}),Te(me,"Core/Axis/DateTimeAxis.js",[me["Core/Utilities.js"]],function(ve){const{addEvent:be,getMagnitude:Fe,normalizeTickInterval:ze,timeUnits:Ve}=ve;var we;return function(Ce){function oe(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function Ae(re){"datetime"!==re.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new z(this))}const Me=[];Ce.compose=function(re){return ve.pushUnique(Me,re)&&(re.keepProps.push("dateTime"),re.prototype.getTimeTicks=oe,be(re,"init",Ae)),re};class z{constructor(Q){this.axis=Q}normalizeTimeTickInterval(Q,ne){const H=ne||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];let V,ee=Ve[(ne=H[H.length-1])[0]],G=ne[1];for(V=0;V<H.length&&(ee=Ve[(ne=H[V])[0]],G=ne[1],!(H[V+1]&&Q<=(ee*G[G.length-1]+Ve[H[V+1][0]])/2));V++);return ee===Ve.year&&Q<5*ee&&(G=[1,2,5]),{unitRange:ee,count:Q=ze(Q/ee,G,"year"===ne[0]?Math.max(Fe(Q/ee),1):1),unitName:ne[0]}}getXDateFormat(Q,ne){const{axis:H}=this,ee=H.chart.time;return H.closestPointRange?ee.getDateFormat(H.closestPointRange,Q,H.options.startOfWeek,ne)||ee.resolveDTLFormat(ne.year).main:ee.resolveDTLFormat(ne.day).main}}Ce.Additions=z}(we||(we={})),we}),Te(me,"Core/Axis/LogarithmicAxis.js",[me["Core/Utilities.js"]],function(ve){const{addEvent:be,normalizeTickInterval:Fe,pick:ze}=ve;var Ve;return function(we){function Ce(z){let re=this.logarithmic;"logarithmic"!==z.userOptions.type?this.logarithmic=void 0:re||(this.logarithmic=new Me(this))}function oe(){const z=this.logarithmic;z&&(this.lin2val=function(re){return z.lin2log(re)},this.val2lin=function(re){return z.log2lin(re)})}const Ae=[];we.compose=function(z){return ve.pushUnique(Ae,z)&&(z.keepProps.push("logarithmic"),be(z,"init",Ce),be(z,"afterInit",oe)),z};class Me{constructor(re){this.axis=re}getLogTickPositions(re,Q,ne,H){const ee=this.axis;var G=ee.len,V=ee.options;let $=[];if(H||(this.minorAutoInterval=void 0),.5<=re)re=Math.round(re),$=ee.getLinearTickPositions(re,Q,ne);else if(.08<=re){let te,ie,P,I,W;for(V=Math.floor(Q),G=.3<re?[1,2,4]:.15<re?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];V<ne+1&&!W;V++)for(ie=G.length,te=0;te<ie&&!W;te++)P=this.log2lin(this.lin2log(V)*G[te]),P>Q&&(!H||I<=ne)&&typeof I<"u"&&$.push(I),I>ne&&(W=!0),I=P}else Q=this.lin2log(Q),ne=this.lin2log(ne),re=H?ee.getMinorTickInterval():V.tickInterval,re=ze("auto"===re?null:re,this.minorAutoInterval,V.tickPixelInterval/(H?5:1)*(ne-Q)/((H?G/ee.tickPositions.length:G)||1)),re=Fe(re),$=ee.getLinearTickPositions(re,Q,ne).map(this.log2lin),H||(this.minorAutoInterval=re/5);return H||(ee.tickInterval=re),$}lin2log(re){return Math.pow(10,re)}log2lin(re){return Math.log(re)/Math.LN10}}we.Additions=Me}(Ve||(Ve={})),Ve}),Te(me,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[me["Core/Utilities.js"]],function(ve){const{erase:be,extend:Fe,isNumber:ze}=ve;var Ve;return function(we){function Ce(ee){return this.addPlotBandOrLine(ee,"plotBands")}function oe(ee,G){const V=this.userOptions;let $=new H(this,ee);if(this.visible&&($=$.render()),$){if(this._addedPlotLB||(this._addedPlotLB=!0,(V.plotLines||[]).concat(V.plotBands||[]).forEach(te=>{this.addPlotBandOrLine(te)})),G){const te=V[G]||[];te.push(ee),V[G]=te}this.plotLinesAndBands.push($)}return $}function Ae(ee){return this.addPlotBandOrLine(ee,"plotLines")}function Me(ee,G,V=this.options){const $=this.getPlotLinePath({value:G,force:!0,acrossPanes:V.acrossPanes}),te=[],ie=this.horiz;let P;if(G=!ze(this.min)||!ze(this.max)||ee<this.min&&G<this.min||ee>this.max&&G>this.max,ee=this.getPlotLinePath({value:ee,force:!0,acrossPanes:V.acrossPanes}),V=1,ee&&$)for(G&&(P=ee.toString()===$.toString(),V=0),G=0;G<ee.length;G+=2){const I=ee[G],W=ee[G+1],N=$[G],U=$[G+1];"M"!==I[0]&&"L"!==I[0]||"M"!==W[0]&&"L"!==W[0]||"M"!==N[0]&&"L"!==N[0]||"M"!==U[0]&&"L"!==U[0]||(ie&&N[1]===I[1]?(N[1]+=V,U[1]+=V):ie||N[2]!==I[2]||(N[2]+=V,U[2]+=V),te.push(["M",I[1],I[2]],["L",W[1],W[2]],["L",U[1],U[2]],["L",N[1],N[2]],["Z"])),te.isFlat=P}return te}function z(ee){this.removePlotBandOrLine(ee)}function re(ee){const G=this.plotLinesAndBands,V=this.options,$=this.userOptions;if(G){let te=G.length;for(;te--;)G[te].id===ee&&G[te].destroy();[V.plotLines||[],$.plotLines||[],V.plotBands||[],$.plotBands||[]].forEach(function(ie){for(te=ie.length;te--;)(ie[te]||{}).id===ee&&be(ie,ie[te])})}}function Q(ee){this.removePlotBandOrLine(ee)}const ne=[];let H;we.compose=function(ee,G){return H||(H=ee),ve.pushUnique(ne,G)&&Fe(G.prototype,{addPlotBand:Ce,addPlotLine:Ae,addPlotBandOrLine:oe,getPlotBandPath:Me,removePlotBand:z,removePlotLine:Q,removePlotBandOrLine:re}),G}}(Ve||(Ve={})),Ve}),Te(me,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[me["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],me["Core/Utilities.js"]],function(ve,be){const{arrayMax:Fe,arrayMin:ze,defined:Ve,destroyObjectProperties:we,erase:Ce,fireEvent:oe,merge:Ae,objectEach:Me,pick:z}=be;class re{static compose(ne){return ve.compose(re,ne)}constructor(ne,H){this.axis=ne,H&&(this.options=H,this.id=H.id)}render(){oe(this,"render");const ne=this,H=ne.axis,ee=H.horiz;var G=H.logarithmic;const V=ne.options,$=V.color,te=z(V.zIndex,0),ie=V.events,P={},I=H.chart.renderer;let W=V.label,N=ne.label,U=V.to,S=V.from,D=V.value,T=ne.svgElem;var B=[];const K=Ve(S)&&Ve(U);B=Ve(D);const j=!T,E={class:"highcharts-plot-"+(K?"band ":"line ")+(V.className||"")};let q=K?"bands":"lines";if(G&&(S=G.log2lin(S),U=G.log2lin(U),D=G.log2lin(D)),H.chart.styledMode||(B?(E.stroke=$||"#999999",E["stroke-width"]=z(V.width,1),V.dashStyle&&(E.dashstyle=V.dashStyle)):K&&(E.fill=$||"#e6e9ff",V.borderWidth&&(E.stroke=V.borderColor,E["stroke-width"]=V.borderWidth))),P.zIndex=te,q+="-"+te,(G=H.plotLinesAndBandsGroups[q])||(H.plotLinesAndBandsGroups[q]=G=I.g("plot-"+q).attr(P).add()),j&&(ne.svgElem=T=I.path().attr(E).add(G)),B)B=H.getPlotLinePath({value:D,lineWidth:T.strokeWidth(),acrossPanes:V.acrossPanes});else{if(!K)return;B=H.getPlotBandPath(S,U,V)}return!ne.eventsAdded&&ie&&(Me(ie,function(fe,De){T.on(De,function(Oe){ie[De].apply(ne,[Oe])})}),ne.eventsAdded=!0),(j||!T.d)&&B&&B.length?T.attr({d:B}):T&&(B?(T.show(),T.animate({d:B})):T.d&&(T.hide(),N&&(ne.label=N=N.destroy()))),W&&(Ve(W.text)||Ve(W.formatter))&&B&&B.length&&0<H.width&&0<H.height&&!B.isFlat?(W=Ae({align:ee&&K&&"center",x:ee?!K&&4:10,verticalAlign:!ee&&K&&"middle",y:ee?K?16:10:K?6:-4,rotation:ee&&!K&&90},W),this.renderLabel(W,B,K,te)):N&&N.hide(),ne}renderLabel(ne,H,ee,G){const V=this.axis;var $=V.chart.renderer;let te=this.label;te||(this.label=te=$.text(this.getLabelText(ne),0,0,ne.useHTML).attr({align:ne.textAlign||ne.align,rotation:ne.rotation,class:"highcharts-plot-"+(ee?"band":"line")+"-label "+(ne.className||""),zIndex:G}).add(),V.chart.styledMode||te.css(Ae({fontSize:"0.8em",textOverflow:"ellipsis"},ne.style))),G=H.xBounds||[H[0][1],H[1][1],ee?H[2][1]:H[0][1]],H=H.yBounds||[H[0][2],H[1][2],ee?H[2][2]:H[0][2]],ee=ze(G),$=ze(H),te.align(ne,!1,{x:ee,y:$,width:Fe(G)-ee,height:Fe(H)-$}),te.alignValue&&"left"!==te.alignValue||(ne=ne.clip?V.width:V.chart.chartWidth,te.css({width:(90===te.rotation?V.height-(te.alignAttr.y-V.top):ne-(te.alignAttr.x-V.left))+"px"})),te.show(!0)}getLabelText(ne){return Ve(ne.formatter)?ne.formatter.call(this):ne.text}destroy(){Ce(this.axis.plotLinesAndBands,this),delete this.axis,we(this)}}return re}),Te(me,"Core/Tooltip.js",[me["Core/Templating.js"],me["Core/Globals.js"],me["Core/Renderer/RendererUtilities.js"],me["Core/Renderer/RendererRegistry.js"],me["Core/Utilities.js"]],function(ve,be,Fe,ze,Ve){const{format:we}=ve,{doc:Ce,isSafari:oe}=be,{distribute:Ae}=Fe,{addEvent:Me,clamp:z,css:re,discardElement:Q,extend:ne,fireEvent:H,isArray:ee,isNumber:G,isString:V,merge:$,pick:te,splat:ie,syncTimeout:P}=Ve;class I{constructor(N,U){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=N,this.init(N,U)}bodyFormatter(N){return N.map(function(U){const S=U.series.tooltipOptions;return(S[(U.point.formatPrefix||"point")+"Formatter"]||U.point.tooltipFormatter).call(U.point,S[(U.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(N){this.chart.series.forEach(function(U){const S=U&&U.tt;S&&(!S.isActive||N?U.tt=S.destroy():S.isActive=!1)})}defaultFormatter(N){const U=this.points||ie(this);let S;return S=[N.tooltipFooterHeaderFormatter(U[0])],S=S.concat(N.bodyFormatter(U)),S.push(N.tooltipFooterHeaderFormatter(U[0],!0)),S}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),Q(this.container)),Ve.clearTimeout(this.hideTimer),Ve.clearTimeout(this.tooltipTimeout)}getAnchor(N,U){var S=this.chart;const D=S.pointer,T=S.inverted,B=S.plotTop;if(S=S.plotLeft,(N=ie(N))[0].series&&N[0].series.yAxis&&!N[0].series.yAxis.options.reversedStacks&&(N=N.slice().reverse()),this.followPointer&&U)typeof U.chartX>"u"&&(U=D.normalize(U)),N=[U.chartX-S,U.chartY-B];else if(N[0].tooltipPos)N=N[0].tooltipPos;else{let K=0,j=0;N.forEach(function(E){(E=E.pos(!0))&&(K+=E[0],j+=E[1])}),K/=N.length,j/=N.length,this.shared&&1<N.length&&U&&(T?K=U.chartX:j=U.chartY),N=[K-S,j-B]}return N.map(Math.round)}getClassName(N,U,S){const D=N.series,T=D.options;return[this.options.className,"highcharts-label",S&&"highcharts-tooltip-header",U?"highcharts-tooltip-box":"highcharts-tooltip",!S&&"highcharts-color-"+te(N.colorIndex,D.colorIndex),T&&T.className].filter(V).join(" ")}getLabel(){const N=this,U=this.chart.styledMode,S=this.options,D=this.split&&this.allowShared,T=S.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none");let B,K=this.chart.renderer;if(this.label){var j=!this.label.hasClass("highcharts-label");(!D&&j||D&&!j)&&this.destroy()}if(!this.label){if(this.outside){j=this.chart.options.chart.style;const E=ze.getRendererType();this.container=B=be.doc.createElement("div"),B.className="highcharts-tooltip-container",re(B,{position:"absolute",top:"1px",pointerEvents:T,zIndex:Math.max(this.options.style.zIndex||0,(j&&j.zIndex||0)+3)}),be.doc.body.appendChild(B),this.renderer=K=new E(B,0,0,j,void 0,void 0,K.styledMode)}if(D?this.label=K.g("tooltip"):(this.label=K.label("",0,0,S.shape,void 0,void 0,S.useHTML,void 0,"tooltip").attr({padding:S.padding,r:S.borderRadius}),U||this.label.attr({fill:S.backgroundColor,"stroke-width":S.borderWidth||0}).css(S.style).css({pointerEvents:T})),N.outside){const E=this.label,{xSetter:q,ySetter:fe}=E;E.xSetter=function(De){q.call(E,N.distance),B.style.left=De+"px"},E.ySetter=function(De){fe.call(E,N.distance),B.style.top=De+"px"}}this.label.attr({zIndex:8}).shadow(S.shadow).add()}return this.label}getPlayingField(){const{body:N,documentElement:U}=Ce,{chart:S,distance:D,outside:T}=this;return{width:T?Math.max(N.scrollWidth,U.scrollWidth,N.offsetWidth,U.offsetWidth,U.clientWidth)-2*D:S.chartWidth,height:T?Math.max(N.scrollHeight,U.scrollHeight,N.offsetHeight,U.offsetHeight,U.clientHeight):S.chartHeight}}getPosition(N,U,S){const D=this.chart,T=this.distance,B={},K=D.inverted&&S.h||0,j=this.outside;var E=this.getPlayingField();const q=E.width,fe=E.height,De=D.pointer.getChartPosition();let A,Oe=(E=Z=>{const X="x"===Z;return[Z,X?q:fe,X?N:U].concat(j?[X?N*De.scaleX:U*De.scaleY,X?De.left-T+(S.plotX+D.plotLeft)*De.scaleX:De.top-T+(S.plotY+D.plotTop)*De.scaleY,0,X?q:fe]:[X?N:U,X?S.plotX+D.plotLeft:S.plotY+D.plotTop,X?D.plotLeft:D.plotTop,X?D.plotLeft+D.plotWidth:D.plotTop+D.plotHeight])})("y"),ue=E("x");E=!!S.negative,!D.polar&&D.hoverSeries&&D.hoverSeries.yAxis&&D.hoverSeries.yAxis.reversed&&(E=!E);const ae=!this.followPointer&&te(S.ttBelow,!D.inverted===E),pe=function(Z,X,xe,Ie,Ee,Le,Ge){const qe=j?"y"===Z?T*De.scaleY:T*De.scaleX:T,st=(xe-Ie)/2,_t=Ie<Ee-T,ge=Ee+T+Ie<X,le=Ee-qe-xe+st;if(Ee=Ee+qe-st,ae&&ge)B[Z]=Ee;else if(!ae&&_t)B[Z]=le;else if(_t)B[Z]=Math.min(Ge-Ie,0>le-K?le:le-K);else{if(!ge)return!1;B[Z]=Math.max(Le,Ee+K+xe>X?Ee:Ee+K)}},de=function(Z,X,xe,Ie,Ee){let Le;return Ee<T||Ee>X-T?Le=!1:B[Z]=Ee<xe/2?1:Ee>X-Ie/2?X-Ie-2:Ee-xe/2,Le},Ne=function(Z){const X=Oe;Oe=ue,ue=X,A=Z},R=function(){!1!==pe.apply(0,Oe)?!1!==de.apply(0,ue)||A||(Ne(!0),R()):A?B.x=B.y=0:(Ne(!0),R())};return(D.inverted||1<this.len)&&Ne(),R(),B}hide(N){const U=this;Ve.clearTimeout(this.hideTimer),N=te(N,this.options.hideDelay),this.isHidden||(this.hideTimer=P(function(){U.getLabel().fadeOut(N&&void 0),U.isHidden=!0},N))}init(N,U){this.chart=N,this.options=U,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=U.split&&!N.inverted&&!N.polar,this.shared=U.shared||this.split,this.outside=te(U.outside,!(!N.scrollablePixelsX&&!N.scrollablePixelsY))}shouldStickOnContact(N){return!(this.followPointer||!this.options.stickOnContact||N&&!this.chart.pointer.inClass(N.target,"highcharts-tooltip"))}move(N,U,S,D){const T=this,B=T.now,K=!1!==T.options.animation&&!T.isHidden&&(1<Math.abs(N-B.x)||1<Math.abs(U-B.y)),j=T.followPointer||1<T.len;ne(B,{x:K?(2*B.x+N)/3:N,y:K?(B.y+U)/2:U,anchorX:j?void 0:K?(2*B.anchorX+S)/3:S,anchorY:j?void 0:K?(B.anchorY+D)/2:D}),T.getLabel().attr(B),T.drawTracker(),K&&(Ve.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){T&&T.move(N,U,S,D)},32))}refresh(N,U){const S=this.chart,D=this.options,T=S.pointer,B=ie(N),K=B[0],j=[];var E=D.format,q=D.formatter||this.defaultFormatter;const fe=this.shared,De=S.styledMode;let Oe={};if(D.enabled&&K.series){Ve.clearTimeout(this.hideTimer),this.allowShared=!(!ee(N)&&N.series&&N.series.noSharedTooltip),this.followPointer=!this.split&&K.series.tooltipOptions.followPointer;var ue=(N=this.getAnchor(N,U))[0],A=N[1];if(fe&&this.allowShared?(T.applyInactiveState(B),B.forEach(function(ae){ae.setState("hover"),j.push(ae.getLabelConfig())}),Oe=K.getLabelConfig(),Oe.points=j):Oe=K.getLabelConfig(),this.len=j.length,E=V(E)?we(E,Oe,S):q.call(Oe,this),this.distance=te((q=K.series).tooltipOptions.distance,16),!1===E)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(E,B);else{let ae=ue,pe=A;if(U&&T.isDirectTouch&&(ae=U.chartX-S.plotLeft,pe=U.chartY-S.plotTop),!S.polar&&!1!==q.options.clip&&!B.some(de=>T.isDirectTouch||de.series.shouldShowTooltip(ae,pe)))return void this.hide();U=this.getLabel(),D.style.width&&!De||U.css({width:(this.outside?this.getPlayingField():S.spacingBox).width+"px"}),U.attr({text:E&&E.join?E.join(""):E}),U.addClass(this.getClassName(K),!0),De||U.attr({stroke:D.borderColor||K.color||q.color||"#666666"}),this.updatePosition({plotX:ue,plotY:A,negative:K.negative,ttBelow:K.ttBelow,h:N[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}H(this,"refresh")}}renderSplit(N,U){function S(Re,Pe,Qe,nt,It=!0){return Qe?(Pe=xe?0:qe,Re=z(Re-nt/2,R.left,R.right-nt-(D.outside?Ie:0))):(Pe-=Le,Re=z(Re=It?Re-nt-pe:Re+pe,It?Re:R.left,R.right)),{x:Re,y:Pe}}const D=this,{chart:T,chart:{chartWidth:B,chartHeight:K,plotHeight:j,plotLeft:E,plotTop:q,pointer:fe,scrollablePixelsY:De=0,scrollablePixelsX:Oe,scrollingContainer:{scrollLeft:ue,scrollTop:A}={scrollLeft:0,scrollTop:0},styledMode:ae},distance:pe,options:de,options:{positioner:Ne}}=D,R=D.outside&&"number"!=typeof Oe?Ce.documentElement.getBoundingClientRect():{left:ue,right:ue+B,top:A,bottom:A+K},Z=D.getLabel(),X=this.renderer||T.renderer,xe=!(!T.xAxis[0]||!T.xAxis[0].opposite),{left:Ie,top:Ee}=fe.getChartPosition();let Le=q+A,Ge=0,qe=j-De;V(N)&&(N=[!1,N]),N=N.slice(0,U.length+1).reduce(function(Re,Pe,Qe){if(!1!==Pe&&""!==Pe){const on=(Qe=U[Qe-1]||{isHeader:!0,plotX:U[0].plotX,plotY:j,series:{}}).isHeader;var It,nt=on?D:Qe.series;{var kt=Qe;Pe=Pe.toString();var Ct=nt.tt;const{isHeader:$t,series:Tn}=kt;Ct||(Ct={padding:de.padding,r:de.borderRadius},ae||(Ct.fill=de.backgroundColor,Ct["stroke-width"]=null!==(It=de.borderWidth)&&void 0!==It?It:1),Ct=X.label("",0,0,de[$t?"headerShape":"shape"],void 0,void 0,de.useHTML).addClass(D.getClassName(kt,!0,$t)).attr(Ct).add(Z)),Ct.isActive=!0,Ct.attr({text:Pe}),ae||Ct.css(de.style).attr({stroke:de.borderColor||kt.color||Tn.color||"#333333"}),It=Ct}It=nt.tt=It,nt=(kt=It.getBBox()).width+It.strokeWidth(),on&&(Ge=kt.height,qe+=Ge,xe&&(Le-=Ge));{const{isHeader:$t,plotX:Tn=0,plotY:vn=0,series:ai}=Qe;if($t){Pe=E+Tn;var pt=q+j/2}else{const{xAxis:zn,yAxis:kn}=ai;Pe=zn.pos+z(Tn,-pe,zn.len+pe),ai.shouldShowTooltip(0,kn.pos-q+vn,{ignoreX:!0})&&(pt=kn.pos+vn)}pt={anchorX:Pe=z(Pe,R.left-pe,R.right+pe),anchorY:pt}}const{anchorX:Ft,anchorY:Xt}=pt;"number"==typeof Xt?(pt=kt.height+1,kt=Ne?Ne.call(D,nt,pt,Qe):S(Ft,Xt,on,nt),Re.push({align:Ne?0:void 0,anchorX:Ft,anchorY:Xt,boxWidth:nt,point:Qe,rank:te(kt.rank,on?1:0),size:pt,target:kt.y,tt:It,x:kt.x})):It.isActive=!1}return Re},[]),!Ne&&N.some(Re=>{var{outside:Pe}=D;return(Pe=(Pe?Ie:0)+Re.anchorX)<R.left&&Pe+Re.boxWidth<R.right||Pe<Ie-R.left+Re.boxWidth&&R.right-Pe>Pe})&&(N=N.map(Re=>{const{x:Pe,y:Qe}=S(Re.anchorX,Re.anchorY,Re.point.isHeader,Re.boxWidth,!1);return ne(Re,{target:Qe,x:Pe})})),D.cleanSplit(),Ae(N,qe);var st=Ie,_t=Ie;N.forEach(function(Re){const{x:Pe,boxWidth:Qe,isHeader:nt}=Re;nt||(D.outside&&Ie+Pe<st&&(st=Ie+Pe),!nt&&D.outside&&st+Qe>_t&&(_t=Ie+Pe))}),N.forEach(function(Re){const{x:Pe,anchorX:Qe,anchorY:nt,pos:It,point:{isHeader:kt}}=Re,Ct={visibility:typeof It>"u"?"hidden":"inherit",x:Pe,y:(It||0)+Le,anchorX:Qe,anchorY:nt};if(D.outside&&Pe<Qe){const pt=Ie-st;0<pt&&(kt||(Ct.x=Pe+pt,Ct.anchorX=Qe+pt),kt&&(Ct.x=(_t-st)/2,Ct.anchorX=Qe+pt))}Re.tt.attr(Ct)});const{container:ge,outside:le,renderer:Ue}=D;if(le&&ge&&Ue){const{width:Re,height:Pe,x:Qe,y:nt}=Z.getBBox();Ue.setSize(Re+Qe,Pe+nt,!1),ge.style.left=st+"px",ge.style.top=Ee+"px"}oe&&Z.attr({opacity:1===Z.opacity?.999:1})}drawTracker(){if(this.shouldStickOnContact()){var N=this.chart,U=this.label,S=this.shared?N.hoverPoints:N.hoverPoint;if(U&&S){var D={x:0,y:0,width:0,height:0};S=this.getAnchor(S);var T=U.getBBox();S[0]+=N.plotLeft-U.translateX,S[1]+=N.plotTop-U.translateY,D.x=Math.min(0,S[0]),D.y=Math.min(0,S[1]),D.width=0>S[0]?Math.max(Math.abs(S[0]),T.width-S[0]):Math.max(Math.abs(S[0]),T.width),D.height=0>S[1]?Math.max(Math.abs(S[1]),T.height-Math.abs(S[1])):Math.max(Math.abs(S[1]),T.height),this.tracker?this.tracker.attr(D):(this.tracker=U.renderer.rect(D).addClass("highcharts-tracker").add(U),N.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&(this.tracker=this.tracker.destroy())}styledModeFormat(N){return N.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(N,U){const S=N.series,D=S.tooltipOptions;var T=S.xAxis;const B=T&&T.dateTime;let K=D.xDateFormat,j=D[U?"footerFormat":"headerFormat"];return H(this,"headerFormatter",T={isFooter:U,labelConfig:N},function(E){B&&!K&&G(N.key)&&(K=B.getXDateFormat(N.key,D.dateTimeLabelFormats)),B&&K&&(N.point&&N.point.tooltipDateKeys||["key"]).forEach(function(q){j=j.replace("{point."+q+"}","{point."+q+":"+K+"}")}),S.chart.styledMode&&(j=this.styledModeFormat(j)),E.text=we(j,{point:N,series:S},this.chart)}),T.text}update(N){this.destroy(),this.init(this.chart,$(!0,this.options,N))}updatePosition(N){const{chart:U,distance:S,options:D}=this;var T=U.pointer;const B=this.getLabel(),{left:K,top:j,scaleX:E,scaleY:q}=T.getChartPosition();T=(D.positioner||this.getPosition).call(this,B.width,B.height,N);let De,fe=(N.plotX||0)+U.plotLeft;N=(N.plotY||0)+U.plotTop,this.outside&&(D.positioner&&(T.x+=K-S,T.y+=j-S),De=(D.borderWidth||0)+2*S,this.renderer.setSize(B.width+De,B.height+De,!1),(1!==E||1!==q)&&(re(this.container,{transform:`scale(${E}, ${q})`}),fe*=E,N*=q),fe+=K-T.x,N+=j-T.y),this.move(Math.round(T.x),Math.round(T.y||0),fe,N)}}return function(W){const N=[];W.compose=function(U){Ve.pushUnique(N,U)&&Me(U,"afterInit",function(){const S=this.chart;S.options.tooltip&&(S.tooltip=new W(S,S.options.tooltip))})}}(I||(I={})),I}),Te(me,"Core/Series/Point.js",[me["Core/Renderer/HTML/AST.js"],me["Core/Animation/AnimationUtilities.js"],me["Core/Defaults.js"],me["Core/Templating.js"],me["Core/Utilities.js"]],function(ve,be,Fe,ze,Ve){const{animObject:we}=be,{defaultOptions:Ce}=Fe,{format:oe}=ze,{addEvent:Ae,defined:Me,erase:z,extend:re,fireEvent:Q,getNestedProperty:ne,isArray:H,isFunction:ee,isNumber:G,isObject:V,merge:$,objectEach:te,pick:ie,syncTimeout:P,removeEvent:I,uniqueKey:W}=Ve;class N{constructor(){this.category=void 0,this.destroyed=!1,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}animateBeforeDestroy(){const S=this,D={x:S.startXPos,opacity:0},T=S.getGraphicalProps();T.singular.forEach(function(B){S[B]=S[B].animate("dataLabel"===B?{x:S[B].startXPos,y:S[B].startYPos,opacity:0}:D)}),T.plural.forEach(function(B){S[B].forEach(function(K){K.element&&K.animate(re({x:S.startXPos},K.startYPos?{x:K.startXPos,y:K.startYPos}:{}))})})}applyOptions(S,D){const T=this.series,B=T.options.pointValKey||T.pointValKey;return S=N.prototype.optionsToObject.call(this,S),re(this,S),this.options=this.options?re(this.options,S):S,S.group&&delete this.group,S.dataLabels&&delete this.dataLabels,B&&(this.y=N.prototype.getNestedProperty.call(this,B)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&typeof D>"u"&&T.xAxis&&T.xAxis.hasNames&&(this.x=T.xAxis.nameToX(this)),typeof this.x>"u"&&T?this.x=typeof D>"u"?T.autoIncrement():D:G(S.x)&&T.options.relativeXValue&&(this.x=T.autoIncrement(S.x)),this}destroy(){if(!this.destroyed){const D=this;var S=D.series;const T=S.chart;S=S.options.dataSorting;const B=T.hoverPoints,K=we(D.series.chart.renderer.globalAnimation),j=()=>{(D.graphic||D.graphics||D.dataLabel||D.dataLabels)&&(I(D),D.destroyElements());for(const E in D)delete D[E]};D.legendItem&&T.legend.destroyItem(D),B&&(D.setState(),z(B,D),B.length||(T.hoverPoints=null)),D===T.hoverPoint&&D.onMouseOut(),S&&S.enabled?(this.animateBeforeDestroy(),P(j,K.duration)):j(),T.pointCount--}this.destroyed=!0}destroyElements(S){const D=this;(S=D.getGraphicalProps(S)).singular.forEach(function(T){D[T]=D[T].destroy()}),S.plural.forEach(function(T){D[T].forEach(function(B){B&&B.element&&B.destroy()}),delete D[T]})}firePointEvent(S,D,T){const B=this,K=this.series.options;(K.point.events[S]||B.options&&B.options.events&&B.options.events[S])&&B.importEvents(),"click"===S&&K.allowPointSelect&&(T=function(j){B.select&&B.select(null,j.ctrlKey||j.metaKey||j.shiftKey)}),Q(B,S,D,T)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(typeof this.colorIndex<"u"?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(S){const D=this,T=[],B={singular:[],plural:[]};let K,j;for((S=S||{graphic:1,dataLabel:1}).graphic&&T.push("graphic"),S.dataLabel&&T.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),j=T.length;j--;)K=T[j],D[K]&&B.singular.push(K);return["graphic","dataLabel","connector"].forEach(function(E){const q=E+"s";S[E]&&D[q]&&B.plural.push(q)}),B}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(S){if(S)return 0===S.indexOf("custom.")?ne(S,this.options):this[S]}getZone(){var S=this.series;const D=S.zones;S=S.zoneAxis||"y";let T,B=0;for(T=D[B];this[S]>=T.value;)T=D[++B];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=T&&T.color&&!this.options.color?T.color:this.nonZonedColor,T}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}init(S,D,T){return this.series=S,this.applyOptions(D,T),this.id=Me(this.id)?this.id:W(),this.resolveColor(),S.chart.pointCount++,Q(this,"afterInit"),this}isValid(){return null!==this.x&&G(this.y)}optionsToObject(S){var D=this.series;const T=D.options.keys,B=T||D.pointArrayMap||["y"],K=B.length;let j={},E=0,q=0;if(G(S)||null===S)j[B[0]]=S;else if(H(S))for(!T&&S.length>K&&("string"==(D=typeof S[0])?j.name=S[0]:"number"===D&&(j.x=S[0]),E++);q<K;)T&&typeof S[E]>"u"||(0<B[q].indexOf(".")?N.prototype.setNestedProperty(j,S[E],B[q]):j[B[q]]=S[E]),E++,q++;else"object"==typeof S&&(j=S,S.dataLabels&&(D._hasPointLabels=!0),S.marker&&(D._hasPointMarkers=!0));return j}pos(S,D=this.plotY){if(!this.destroyed){const{plotX:T,series:B}=this,{chart:K,xAxis:j,yAxis:E}=B;let q=0,fe=0;if(G(T)&&G(D))return S&&(q=j?j.pos:K.plotLeft,fe=E?E.pos:K.plotTop),K.inverted&&j&&E?[E.len-D+fe,j.len-T+q]:[T+q,D+fe]}}resolveColor(){const S=this.series;var D=S.chart.styledMode;let T;var B=S.chart.options.chart.colorCount;delete this.nonZonedColor,S.options.colorByPoint?(D||(T=(B=S.options.colors||S.chart.options.colors)[S.colorCounter],B=B.length),D=S.colorCounter,S.colorCounter++,S.colorCounter===B&&(S.colorCounter=0)):(D||(T=S.color),D=S.colorIndex),this.colorIndex=ie(this.options.colorIndex,D),this.color=ie(this.options.color,T)}setNestedProperty(S,D,T){return T.split(".").reduce(function(B,K,j,E){return B[K]=E.length-1===j?D:V(B[K],!0)?B[K]:{},B[K]},S),S}shouldDraw(){return!this.isNull}tooltipFormatter(S){const D=this.series,T=D.tooltipOptions,B=ie(T.valueDecimals,""),K=T.valuePrefix||"",j=T.valueSuffix||"";return D.chart.styledMode&&(S=D.chart.tooltip.styledModeFormat(S)),(D.pointArrayMap||["y"]).forEach(function(E){E="{point."+E,(K||j)&&(S=S.replace(RegExp(E+"}","g"),K+E+"}"+j)),S=S.replace(RegExp(E+"}","g"),E+":,."+B+"f}")}),oe(S,{point:this,series:this.series},D.chart)}update(S,D,T,B){function K(){j.applyOptions(S);var ue=q&&j.hasMockGraphic;ue=null===j.y?!ue:ue,q&&ue&&(j.graphic=q.destroy(),delete j.hasMockGraphic),V(S,!0)&&(q&&q.element&&S&&S.marker&&typeof S.marker.symbol<"u"&&(j.graphic=q.destroy()),S&&S.dataLabels&&j.dataLabel&&(j.dataLabel=j.dataLabel.destroy()),j.connector&&(j.connector=j.connector.destroy())),Oe=j.index,E.updateParallelArrays(j,Oe),De.data[Oe]=V(De.data[Oe],!0)||V(S,!0)?j.options:ie(S,De.data[Oe]),E.isDirty=E.isDirtyData=!0,!E.fixedBox&&E.hasCartesianSeries&&(fe.isDirtyBox=!0),"point"===De.legendType&&(fe.isDirtyLegend=!0),D&&fe.redraw(T)}const j=this,E=j.series,q=j.graphic,fe=E.chart,De=E.options;let Oe;D=ie(D,!0),!1===B?K():j.firePointEvent("update",{options:S},K)}remove(S,D){this.series.removePoint(this.series.data.indexOf(this),S,D)}select(S,D){const T=this,B=T.series,K=B.chart;this.selectedStaging=S=ie(S,!T.selected),T.firePointEvent(S?"select":"unselect",{accumulate:D},function(){T.selected=T.options.selected=S,B.options.data[B.data.indexOf(T)]=T.options,T.setState(S&&"select"),D||K.getSelectedPoints().forEach(function(j){const E=j.series;j.selected&&j!==T&&(j.selected=j.options.selected=!1,E.options.data[E.data.indexOf(j)]=j.options,j.setState(K.hoverPoints&&E.options.inactiveOtherPoints?"inactive":""),j.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(S){const D=this.series.chart,T=D.pointer;S=S?T.normalize(S):T.getChartCoordinatesFromPoint(this,D.inverted),T.runPointActions(S,this)}onMouseOut(){const S=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(S.hoverPoints||[]).forEach(function(D){D.setState()}),S.hoverPoints=S.hoverPoint=null}importEvents(){if(!this.hasImportedEvents){const S=this,D=$(S.series.options.point,S.options).events;S.events=D,te(D,function(T,B){ee(T)&&Ae(S,B,T)}),this.hasImportedEvents=!0}}setState(S,D){const T=this.series;var B=this.state,K=T.options.states[S||"normal"]||{},j=Ce.plotOptions[T.type].marker&&T.options.marker;const q=j&&j.states&&j.states[S||"normal"]||{},De=this.marker||{},Oe=T.chart,ue=j&&T.markerAttribs;let A=T.halo;var ae;let pe;var de=T.stateMarkerGraphic;if(!((S=S||"")===this.state&&!D||this.selected&&"select"!==S||!1===K.enabled||S&&(!1===q.enabled||j&&!1===j.enabled&&!1===q.enabled)||S&&De.states&&De.states[S]&&!1===De.states[S].enabled)){if(this.state=S,ue&&(ae=T.markerAttribs(this,S)),this.graphic&&!this.hasMockGraphic){if(B&&this.graphic.removeClass("highcharts-point-"+B),S&&this.graphic.addClass("highcharts-point-"+S),!Oe.styledMode){B=T.pointAttribs(this,S),pe=ie(Oe.options.chart.animation,K.animation);const Ne=B.opacity;T.options.inactiveOtherPoints&&G(Ne)&&((this.dataLabels||[]).forEach(function(R){R&&!R.hasClass("highcharts-data-label-hidden")&&R.animate({opacity:Ne},pe)}),this.connector&&this.connector.animate({opacity:Ne},pe)),this.graphic.animate(B,pe)}ae&&this.graphic.animate(ae,ie(Oe.options.chart.animation,q.animation,j.animation)),de&&de.hide()}else S&&q&&(j=De.symbol||T.symbol,de&&de.currentSymbol!==j&&(de=de.destroy()),ae&&(de?de[D?"animate":"attr"]({x:ae.x,y:ae.y}):j&&(T.stateMarkerGraphic=de=Oe.renderer.symbol(j,ae.x,ae.y,ae.width,ae.height).add(T.markerGroup),de.currentSymbol=j)),!Oe.styledMode&&de&&"inactive"!==this.state&&de.attr(T.pointAttribs(this,S))),de&&(de[S&&this.isInside?"show":"hide"](),de.element.point=this,de.addClass(this.getClassName(),!0));ae=(de=this.graphic||de)&&de.visibility||"inherit",(K=K.halo)&&K.size&&de&&"hidden"!==ae&&!this.isCluster?(A||(T.halo=A=Oe.renderer.path().add(de.parentGroup)),A.show()[D?"animate":"attr"]({d:this.haloPath(K.size)}),A.attr({class:"highcharts-halo highcharts-color-"+ie(this.colorIndex,T.colorIndex)+(this.className?" "+this.className:""),visibility:ae,zIndex:-1}),A.point=this,Oe.styledMode||A.attr(re({fill:this.color||T.color,"fill-opacity":K.opacity},ve.filterUserAttributes(K.attributes||{})))):A&&A.point&&A.point.haloPath&&A.animate({d:A.point.haloPath(0)},null,A.hide),Q(this,"afterSetState",{state:S})}}haloPath(S){const D=this.pos();return D?this.series.chart.renderer.symbols.circle(Math.floor(D[0])-S,D[1]-S,2*S,2*S):[]}}return N}),Te(me,"Core/Pointer.js",[me["Core/Color/Color.js"],me["Core/Globals.js"],me["Core/Utilities.js"]],function(ve,be,Fe){const{parse:ze}=ve,{charts:Ve,noop:we}=be,{addEvent:Ce,attr:oe,css:Ae,defined:Me,extend:z,find:re,fireEvent:Q,isNumber:ne,isObject:H,objectEach:ee,offset:G,pick:V,splat:$}=Fe;class te{constructor(P,I){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=P,this.hasDragged=!1,this.options=I,this.init(P,I)}applyInactiveState(P){let W,I=[];(P||[]).forEach(function(N){W=N.series,I.push(W),W.linkedParent&&I.push(W.linkedParent),W.linkedSeries&&(I=I.concat(W.linkedSeries)),W.navigatorSeries&&I.push(W.navigatorSeries)}),this.chart.series.forEach(function(N){-1===I.indexOf(N)?N.setState("inactive",!0):N.options.inactiveOtherPoints&&N.setAllPointsToState("inactive")})}destroy(){const P=this;this.eventsToUnbind.forEach(I=>I()),this.eventsToUnbind=[],be.chartCount||(te.unbindDocumentMouseUp&&(te.unbindDocumentMouseUp=te.unbindDocumentMouseUp()),te.unbindDocumentTouchEnd&&(te.unbindDocumentTouchEnd=te.unbindDocumentTouchEnd())),clearInterval(P.tooltipTimeout),ee(P,function(I,W){P[W]=void 0})}getSelectionMarkerAttrs(P,I){const W={args:{chartX:P,chartY:I},attrs:{},shapeType:"rect"};return Q(this,"getSelectionMarkerAttrs",W,N=>{const{chart:U,mouseDownX:S=0,mouseDownY:D=0,zoomHor:T,zoomVert:B}=this;let K;(N=N.attrs).x=U.plotLeft,N.y=U.plotTop,N.width=T?1:U.plotWidth,N.height=B?1:U.plotHeight,T&&(K=P-S,N.width=Math.abs(K),N.x=(0<K?0:K)+S),B&&(K=I-D,N.height=Math.abs(K),N.y=(0<K?0:K)+D)}),W}drag(P){const I=this.chart,W=I.options.chart;var N=I.plotLeft;const U=I.plotTop,S=I.plotWidth,D=I.plotHeight,T=this.mouseDownX||0,B=this.mouseDownY||0,K=H(W.panning)?W.panning&&W.panning.enabled:W.panning,j=W.panKey&&P[W.panKey+"Key"];let E=P.chartX,q=P.chartY,fe=this.selectionMarker;if((!fe||!fe.touch)&&(E<N?E=N:E>N+S&&(E=N+S),q<U?q=U:q>U+D&&(q=U+D),this.hasDragged=Math.sqrt(Math.pow(T-E,2)+Math.pow(B-q,2)),10<this.hasDragged)){N=I.isInsidePlot(T-N,B-U,{visiblePlotOnly:!0});const{shapeType:De,attrs:Oe}=this.getSelectionMarkerAttrs(E,q);!I.hasCartesianSeries&&!I.mapView||!this.zoomX&&!this.zoomY||!N||j||fe||(this.selectionMarker=fe=I.renderer[De](),fe.attr({class:"highcharts-selection-marker",zIndex:7}).add(),I.styledMode||fe.attr({fill:W.selectionMarkerFill||ze("#334eff").setOpacity(.25).get()})),fe&&fe.attr(Oe),N&&!fe&&K&&I.pan(P,W.panning)}}dragStart(P){const I=this.chart;I.mouseIsDown=P.type,I.cancelClick=!1,I.mouseDownX=this.mouseDownX=P.chartX,I.mouseDownY=this.mouseDownY=P.chartY}getSelectionBox(P){const I={args:{marker:P},result:{}};return Q(this,"getSelectionBox",I,W=>{W.result={x:P.attr?+P.attr("x"):P.x,y:P.attr?+P.attr("y"):P.y,width:P.attr?P.attr("width"):P.width,height:P.attr?P.attr("height"):P.height}}),I.result}drop(P){const I=this,W=this.chart,N=this.hasPinched;if(this.selectionMarker){const{x:U,y:S,width:D,height:T}=this.getSelectionBox(this.selectionMarker),B={originalEvent:P,xAxis:[],yAxis:[],x:U,y:S,width:D,height:T};let K=!!W.mapView;(this.hasDragged||N)&&(W.axes.forEach(function(j){if(j.zoomEnabled&&Me(j.min)&&(N||I[{xAxis:"zoomX",yAxis:"zoomY"}[j.coll]])&&ne(U)&&ne(S)&&ne(D)&&ne(T)){var E=j.horiz;const q="touchend"===P.type?j.minPixelPadding:0,fe=j.toValue((E?U:S)+q);E=j.toValue((E?U+D:S+T)-q),B[j.coll].push({axis:j,min:Math.min(fe,E),max:Math.max(fe,E)}),K=!0}}),K&&Q(W,"selection",B,function(j){W.zoom(z(j,N?{animation:!1}:null))})),ne(W.index)&&(this.selectionMarker=this.selectionMarker.destroy()),N&&this.scaleGroups()}W&&ne(W.index)&&(Ae(W.container,{cursor:W._cursor}),W.cancelClick=10<this.hasDragged,W.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])}findNearestKDPoint(P,I,W){let N;return P.forEach(function(U){var S=!(U.noSharedTooltip&&I)&&0>U.options.findNearestPointBy.indexOf("y");if(U=U.searchPoint(W,S),(S=H(U,!0)&&U.series)&&!(S=!H(N,!0))){{const D=N.dist-U.dist,T=(U.series.group&&U.series.group.zIndex)-(N.series.group&&N.series.group.zIndex);S=0!=(S=N.distX-U.distX)&&I?S:0!==D?D:0!==T?T:N.series.index>U.series.index?-1:1}S=0<S}S&&(N=U)}),N}getChartCoordinatesFromPoint(P,I){var W=P.series;const N=W.xAxis;W=W.yAxis;const U=P.shapeArgs;if(N&&W){let S=V(P.clientX,P.plotX),D=P.plotY||0;return P.isNode&&U&&ne(U.x)&&ne(U.y)&&(S=U.x,D=U.y),I?{chartX:W.len+W.pos-D,chartY:N.len+N.pos-S}:{chartX:S+N.pos,chartY:D+W.pos}}if(U&&U.x&&U.y)return{chartX:U.x,chartY:U.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;var{container:P}=this.chart;const I=G(P);this.chartPosition={left:I.left,top:I.top,scaleX:1,scaleY:1};const W=P.offsetWidth;return P=P.offsetHeight,2<W&&2<P&&(this.chartPosition.scaleX=I.width/W,this.chartPosition.scaleY=I.height/P),this.chartPosition}getCoordinates(P){const I={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(W){I[W.isXAxis?"xAxis":"yAxis"].push({axis:W,value:W.toValue(P[W.horiz?"chartX":"chartY"])})}),I}getHoverData(P,I,W,N,U,S){const D=[];N=!(!N||!P);const T=function(E){return E.visible&&!(!U&&E.directTouch)&&V(E.options.enableMouseTracking,!0)};let B,K={chartX:S?S.chartX:void 0,chartY:S?S.chartY:void 0,shared:U};Q(this,"beforeGetHoverData",K),B=I&&!I.stickyTracking?[I]:W.filter(E=>E.stickyTracking&&(K.filter||T)(E));const j=N||!S?P:this.findNearestKDPoint(B,U,S);return I=j&&j.series,j&&(U&&!I.noSharedTooltip?(B=W.filter(function(E){return K.filter?K.filter(E):T(E)&&!E.noSharedTooltip}),B.forEach(function(E){let q=re(E.points,function(fe){return fe.x===j.x&&!fe.isNull});H(q)&&(E.boosted&&E.boost&&(q=E.boost.getPoint(q)),D.push(q))})):D.push(j)),K={hoverPoint:j},Q(this,"afterGetHoverData",K),{hoverPoint:K.hoverPoint,hoverSeries:I,hoverPoints:D}}getPointFromEvent(P){let I;for(P=P.target;P&&!I;)I=P.point,P=P.parentNode;return I}onTrackerMouseOut(P){P=P.relatedTarget;const I=this.chart.hoverSeries;this.isDirectTouch=!1,!I||!P||I.stickyTracking||this.inClass(P,"highcharts-tooltip")||this.inClass(P,"highcharts-series-"+I.index)&&this.inClass(P,"highcharts-tracker")||I.onMouseOut()}inClass(P,I){let W;for(;P;){if(W=oe(P,"class")){if(-1!==W.indexOf(I))return!0;if(-1!==W.indexOf("highcharts-container"))return!1}P=P.parentElement}}init(P,I){this.options=I,this.chart=P,this.runChartClick=!(!I.chart.events||!I.chart.events.click),this.pinchDown=[],this.lastValidTouch={},this.setDOMEvents(),Q(this,"afterInit")}normalize(P,I){var W=P.touches,N=W?W.length?W.item(0):V(W.changedTouches,P.changedTouches)[0]:P;return I||(I=this.getChartPosition()),W=N.pageX-I.left,N=N.pageY-I.top,W/=I.scaleX,N/=I.scaleY,z(P,{chartX:Math.round(W),chartY:Math.round(N)})}onContainerClick(P){const I=this.chart,W=I.hoverPoint;P=this.normalize(P);const N=I.plotLeft,U=I.plotTop;I.cancelClick||(W&&this.inClass(P.target,"highcharts-tracker")?(Q(W.series,"click",z(P,{point:W})),I.hoverPoint&&W.firePointEvent("click",P)):(z(P,this.getCoordinates(P)),I.isInsidePlot(P.chartX-N,P.chartY-U,{visiblePlotOnly:!0})&&Q(I,"click",P)))}onContainerMouseDown(P){const I=1==(1&(P.buttons||P.button));P=this.normalize(P),be.isFirefox&&0!==P.button&&this.onContainerMouseMove(P),(typeof P.button>"u"||I)&&(this.zoomOption(P),I&&P.preventDefault&&P.preventDefault(),this.dragStart(P))}onContainerMouseLeave(P){const I=Ve[V(te.hoverChartIndex,-1)];P=this.normalize(P),I&&P.relatedTarget&&!this.inClass(P.relatedTarget,"highcharts-tooltip")&&(I.pointer.reset(),I.pointer.chartPosition=void 0)}onContainerMouseEnter(P){delete this.chartPosition}onContainerMouseMove(P){const I=this.chart,W=I.tooltip;P=this.normalize(P),this.setHoverChartIndex(),("mousedown"===I.mouseIsDown||this.touchSelect(P))&&this.drag(P),I.openMenu||!this.inClass(P.target,"highcharts-tracker")&&!I.isInsidePlot(P.chartX-I.plotLeft,P.chartY-I.plotTop,{visiblePlotOnly:!0})||W&&W.shouldStickOnContact(P)||(this.inClass(P.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(P))}onDocumentTouchEnd(P){const I=Ve[V(te.hoverChartIndex,-1)];I&&I.pointer.drop(P)}onContainerTouchMove(P){this.touchSelect(P)?this.onContainerMouseMove(P):this.touch(P)}onContainerTouchStart(P){this.touchSelect(P)?this.onContainerMouseDown(P):(this.zoomOption(P),this.touch(P,!0))}onDocumentMouseMove(P){const I=this.chart,W=I.tooltip,N=this.chartPosition;P=this.normalize(P,N),!N||I.isInsidePlot(P.chartX-I.plotLeft,P.chartY-I.plotTop,{visiblePlotOnly:!0})||W&&W.shouldStickOnContact(P)||this.inClass(P.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(P){const I=Ve[V(te.hoverChartIndex,-1)];I&&I.pointer.drop(P)}pinch(P){const I=this,W=I.chart,N=I.pinchDown,U=P.touches||[],S=U.length,D=I.lastValidTouch,T=I.hasZoom,B={},K=1===S&&(I.inClass(P.target,"highcharts-tracker")&&W.runTrackerClick||I.runChartClick),j={};var E=I.chart.tooltip;E=1===S&&V(E&&E.options.followTouchMove,!0);let q=I.selectionMarker;1<S?I.initiated=!0:E&&(I.initiated=!1),T&&I.initiated&&!K&&!1!==P.cancelable&&P.preventDefault(),[].map.call(U,function(fe){return I.normalize(fe)}),"touchstart"===P.type?([].forEach.call(U,function(fe,De){N[De]={chartX:fe.chartX,chartY:fe.chartY}}),D.x=[N[0].chartX,N[1]&&N[1].chartX],D.y=[N[0].chartY,N[1]&&N[1].chartY],W.axes.forEach(function(fe){if(fe.zoomEnabled){const De=W.bounds[fe.horiz?"h":"v"],Oe=fe.minPixelPadding,ue=fe.toPixels(Math.min(V(fe.options.min,fe.dataMin),fe.dataMin)),A=fe.toPixels(Math.max(V(fe.options.max,fe.dataMax),fe.dataMax)),ae=Math.max(ue,A);De.min=Math.min(fe.pos,Math.min(ue,A)-Oe),De.max=Math.max(fe.pos+fe.len,ae+Oe)}}),I.res=!0):E?this.runPointActions(I.normalize(P)):N.length&&(Q(W,"touchpan",{originalEvent:P},()=>{q||(I.selectionMarker=q=z({destroy:we,touch:!0},W.plotBox)),I.pinchTranslate(N,U,B,q,j,D),I.hasPinched=T,I.scaleGroups(B,j)}),I.res&&(I.res=!1,this.reset(!1,0)))}pinchTranslate(P,I,W,N,U,S){this.zoomHor&&this.pinchTranslateDirection(!0,P,I,W,N,U,S),this.zoomVert&&this.pinchTranslateDirection(!1,P,I,W,N,U,S)}pinchTranslateDirection(P,I,W,N,U,S,D,T){const B=this.chart,K=P?"x":"y",j=P?"X":"Y",E="chart"+j,q=P?"width":"height",fe=B["plot"+(P?"Left":"Top")],De=B.inverted,Oe=B.bounds[P?"h":"v"],ue=1===I.length,A=I[0][E],ae=!ue&&I[1][E];I=function(){"number"==typeof Z&&20<Math.abs(A-ae)&&(Ne=T||Math.abs(R-Z)/Math.abs(A-ae)),de=(fe-R)/Ne+A,pe=B["plot"+(P?"Width":"Height")]/Ne};let pe,de,X,Ne=T||1,R=W[0][E],Z=!ue&&W[1][E];I(),(W=de)<Oe.min?(W=Oe.min,X=!0):W+pe>Oe.max&&(W=Oe.max-pe,X=!0),X?(R-=.8*(R-D[K][0]),"number"==typeof Z&&(Z-=.8*(Z-D[K][1])),I()):D[K]=[R,Z],De||(S[K]=de-fe,S[q]=pe),S=De?1/Ne:Ne,U[q]=pe,U[K]=W,N[De?P?"scaleY":"scaleX":"scale"+j]=Ne,N["translate"+j]=S*fe+(R-S*A)}reset(P,I){const W=this.chart,N=W.hoverSeries,U=W.hoverPoint,S=W.hoverPoints,D=W.tooltip,T=D&&D.shared?S:U;P&&T&&$(T).forEach(function(B){B.series.isCartesian&&typeof B.plotX>"u"&&(P=!1)}),P?D&&T&&$(T).length&&(D.refresh(T),D.shared&&S?S.forEach(function(B){B.setState(B.state,!0),B.series.isCartesian&&(B.series.xAxis.crosshair&&B.series.xAxis.drawCrosshair(null,B),B.series.yAxis.crosshair&&B.series.yAxis.drawCrosshair(null,B))}):U&&(U.setState(U.state,!0),W.axes.forEach(function(B){B.crosshair&&U.series[B.coll]===B&&B.drawCrosshair(null,U)}))):(U&&U.onMouseOut(),S&&S.forEach(function(B){B.setState()}),N&&N.onMouseOut(),D&&D.hide(I),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),W.axes.forEach(function(B){B.hideCrosshair()}),this.hoverX=W.hoverPoints=W.hoverPoint=null)}runPointActions(P,I,W){const N=this.chart,U=N.tooltip&&N.tooltip.options.enabled?N.tooltip:void 0,S=!!U&&U.shared;let D=I||N.hoverPoint,T=D&&D.series||N.hoverSeries;I=this.getHoverData(D,T,N.series,(!P||"touchmove"!==P.type)&&(!!I||T&&T.directTouch&&this.isDirectTouch),S,P),D=I.hoverPoint,T=I.hoverSeries;const B=I.hoverPoints;I=T&&T.tooltipOptions.followPointer&&!T.tooltipOptions.split;const K=S&&T&&!T.noSharedTooltip;if(D&&(W||D!==N.hoverPoint||U&&U.isHidden)){if((N.hoverPoints||[]).forEach(function(j){-1===B.indexOf(j)&&j.setState()}),N.hoverSeries!==T&&T.onMouseOver(),this.applyInactiveState(B),(B||[]).forEach(function(j){j.setState("hover")}),N.hoverPoint&&N.hoverPoint.firePointEvent("mouseOut"),!D.series)return;N.hoverPoints=B,N.hoverPoint=D,D.firePointEvent("mouseOver",void 0,()=>{U&&D&&U.refresh(K?B:D,P)})}else I&&U&&!U.isHidden&&(W=U.getAnchor([{}],P),N.isInsidePlot(W[0],W[1],{visiblePlotOnly:!0})&&U.updatePosition({plotX:W[0],plotY:W[1]}));this.unDocMouseMove||(this.unDocMouseMove=Ce(N.container.ownerDocument,"mousemove",function(j){const E=Ve[te.hoverChartIndex];E&&E.pointer.onDocumentMouseMove(j)}),this.eventsToUnbind.push(this.unDocMouseMove)),N.axes.forEach(function(j){const E=V((j.crosshair||{}).snap,!0);let q;E&&((q=N.hoverPoint)&&q.series[j.coll]===j||(q=re(B,fe=>fe.series&&fe.series[j.coll]===j))),q||!E?j.drawCrosshair(P,q):j.hideCrosshair()})}scaleGroups(P,I){const W=this.chart;W.series.forEach(function(N){const U=P||N.getPlotBox();N.group&&(N.xAxis&&N.xAxis.zoomEnabled||W.mapView)&&(N.group.attr(U),N.markerGroup&&(N.markerGroup.attr(U),N.markerGroup.clip(I?W.clipRect:null)),N.dataLabelsGroup&&N.dataLabelsGroup.attr(U))}),W.clipRect.attr(I||W.clipBox)}setDOMEvents(){const P=this.chart.container,I=P.ownerDocument;P.onmousedown=this.onContainerMouseDown.bind(this),P.onmousemove=this.onContainerMouseMove.bind(this),P.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(Ce(P,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(Ce(P,"mouseleave",this.onContainerMouseLeave.bind(this))),te.unbindDocumentMouseUp||(te.unbindDocumentMouseUp=Ce(I,"mouseup",this.onDocumentMouseUp.bind(this)));let W=this.chart.renderTo.parentElement;for(;W&&"BODY"!==W.tagName;)this.eventsToUnbind.push(Ce(W,"scroll",()=>{delete this.chartPosition})),W=W.parentElement;be.hasTouch&&(this.eventsToUnbind.push(Ce(P,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(Ce(P,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),te.unbindDocumentTouchEnd||(te.unbindDocumentTouchEnd=Ce(I,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))}setHoverChartIndex(){const P=this.chart,I=be.charts[V(te.hoverChartIndex,-1)];I&&I!==P&&I.pointer.onContainerMouseLeave({relatedTarget:P.container}),I&&I.mouseIsDown||(te.hoverChartIndex=P.index)}touch(P,I){const W=this.chart;let N,U;this.setHoverChartIndex(),1===P.touches.length?(P=this.normalize(P),(U=W.isInsidePlot(P.chartX-W.plotLeft,P.chartY-W.plotTop,{visiblePlotOnly:!0}))&&!W.openMenu?(I&&this.runPointActions(P),"touchmove"===P.type&&(N=!!(I=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(I[0].chartX-P.chartX,2)+Math.pow(I[0].chartY-P.chartY,2))),V(N,!0)&&this.pinch(P)):I&&this.reset()):2===P.touches.length&&this.pinch(P)}touchSelect(P){return!(!this.chart.zooming.singleTouch||!P.touches||1!==P.touches.length)}zoomOption(P){const I=this.chart,W=I.inverted;var N=I.zooming.type||"";/touch/.test(P.type)&&(N=V(I.zooming.pinchType,N)),this.zoomX=P=/x/.test(N),this.zoomY=N=/y/.test(N),this.zoomHor=P&&!W||N&&W,this.zoomVert=N&&!W||P&&W,this.hasZoom=P||N}}return function(ie){const P=[],I=[];ie.compose=function(W){Fe.pushUnique(I,W)&&Ce(W,"beforeRender",function(){this.pointer=new ie(this,this.options)})},ie.dissolve=function(){for(let W=0,N=P.length;W<N;++W)P[W]();P.length=0}}(te||(te={})),te}),Te(me,"Core/Legend/Legend.js",[me["Core/Animation/AnimationUtilities.js"],me["Core/Templating.js"],me["Core/Globals.js"],me["Core/Series/Point.js"],me["Core/Renderer/RendererUtilities.js"],me["Core/Utilities.js"]],function(ve,be,Fe,ze,Ve,we){const{animObject:Ce,setAnimation:oe}=ve,{format:Ae}=be,{marginNames:Me}=Fe,{distribute:z}=Ve,{addEvent:re,createElement:Q,css:ne,defined:H,discardElement:ee,find:G,fireEvent:V,isNumber:$,merge:te,pick:ie,relativeLength:P,stableSort:I,syncTimeout:W}=we;class N{constructor(S,D){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=S,this.init(S,D)}init(S,D){this.chart=S,this.setOptions(D),D.enabled&&(this.render(),re(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),re(this.chart,"render",()=>{this.proximate&&(this.proximatePositions(),this.positionItems())}))}setOptions(S){const D=ie(S.padding,8);this.options=S,this.chart.styledMode||(this.itemStyle=S.itemStyle,this.itemHiddenStyle=te(this.itemStyle,S.itemHiddenStyle)),this.itemMarginTop=S.itemMarginTop,this.itemMarginBottom=S.itemMarginBottom,this.padding=D,this.initialItemY=D-5,this.symbolWidth=ie(S.symbolWidth,16),this.pages=[],this.proximate="proximate"===S.layout&&!this.chart.inverted,this.baseline=void 0}update(S,D){const T=this.chart;this.setOptions(te(!0,this.options,S)),this.destroy(),T.isDirtyLegend=T.isDirtyBox=!0,ie(D,!0)&&T.redraw(),V(this,"afterUpdate")}colorizeItem(S,D){const{group:T,label:B,line:K,symbol:j}=S.legendItem||{};if(T&&T[D?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){const{itemHiddenStyle:E}=this,q=E.color,fe=D&&S.color||q,De=S.options&&S.options.marker;let Oe={fill:fe};B?.css(te(D?this.itemStyle:E)),K?.attr({stroke:fe}),j&&(De&&j.isMarker&&(Oe=S.pointAttribs(),D||(Oe.stroke=Oe.fill=q)),j.attr(Oe))}V(this,"afterColorizeItem",{item:S,visible:D})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(S){const{group:D,x:T=0,y:B=0}=S.legendItem||{};var K=this.options,j=K.symbolPadding;const E=!K.rtl;K=S.checkbox,D&&D.element&&(j={translateX:E?T:this.legendWidth-T-2*j-4,translateY:B},D[H(D.translateY)?"animate":"attr"](j,void 0,()=>{V(this,"afterPositionItem",{item:S})})),K&&(K.x=T,K.y=B)}destroyItem(S){const D=S.checkbox,T=S.legendItem||{};for(const B of["group","label","line","symbol"])T[B]&&(T[B]=T[B].destroy());D&&ee(D),S.legendItem=void 0}destroy(){for(const S of this.getAllItems())this.destroyItem(S);for(const S of"clipRect up down pager nav box title group".split(" "))this[S]&&(this[S]=this[S].destroy());this.display=null}positionCheckboxes(){const S=this.group&&this.group.alignAttr,D=this.clipHeight||this.legendHeight,T=this.titleHeight;let B;S&&(B=S.translateY,this.allItems.forEach(function(K){const j=K.checkbox;let E;j&&(E=B+T+j.y+(this.scrollOffset||0)+3,ne(j,{left:S.translateX+K.checkboxOffset+j.x-20+"px",top:E+"px",display:this.proximate||E>B-6&&E<B+D-6?"":"none"}))},this))}renderTitle(){var S=this.options;const D=this.padding,T=S.title;let B=0;T.text&&(this.title||(this.title=this.chart.renderer.label(T.text,D-3,D-4,void 0,void 0,void 0,S.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(T.style),this.title.add(this.group)),T.width||this.title.css({width:this.maxLegendWidth+"px"}),B=(S=this.title.getBBox()).height,this.offsetWidth=S.width,this.contentGroup.attr({translateY:B})),this.titleHeight=B}setText(S){const D=this.options;S.legendItem.label.attr({text:D.labelFormat?Ae(D.labelFormat,S,this.chart):D.labelFormatter.call(S)})}renderItem(S){const D=S.legendItem=S.legendItem||{};var T=this.chart,B=T.renderer;const K=this.options,j=this.symbolWidth,E=K.symbolPadding||0,q=this.itemStyle,fe=this.itemHiddenStyle,De="horizontal"===K.layout?ie(K.itemDistance,20):0,Oe=!K.rtl,ue=!S.series,A=!ue&&S.series.drawLegendSymbol?S.series:S;var ae=A.options;const pe=this.createCheckboxForItem&&ae&&ae.showCheckbox,de=K.useHTML,Ne=S.options.className;let R=D.label;ae=j+E+De+(pe?20:0),R||(D.group=B.g("legend-item").addClass("highcharts-"+A.type+"-series highcharts-color-"+S.colorIndex+(Ne?" "+Ne:"")+(ue?" highcharts-series-"+S.index:"")).attr({zIndex:1}).add(this.scrollGroup),D.label=R=B.text("",Oe?j+E:-E,this.baseline||0,de),T.styledMode||R.css(te(S.visible?q:fe)),R.attr({align:Oe?"left":"right",zIndex:2}).add(D.group),this.baseline||(this.fontMetrics=B.fontMetrics(R),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,R.attr("y",this.baseline),this.symbolHeight=ie(K.symbolHeight,this.fontMetrics.f),K.squareSymbol&&(this.symbolWidth=ie(K.symbolWidth,Math.max(this.symbolHeight,16)),ae=this.symbolWidth+E+De+(pe?20:0),Oe&&R.attr("x",this.symbolWidth+E))),A.drawLegendSymbol(this,S),this.setItemEvents&&this.setItemEvents(S,R,de)),pe&&!S.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(S),this.colorizeItem(S,S.visible),!T.styledMode&&q.width||R.css({width:(K.itemWidth||this.widthOption||T.spacingBox.width)-ae+"px"}),this.setText(S),T=R.getBBox(),B=this.fontMetrics&&this.fontMetrics.h||0,S.itemWidth=S.checkboxOffset=K.itemWidth||D.labelWidth||T.width+ae,this.maxItemWidth=Math.max(this.maxItemWidth,S.itemWidth),this.totalItemWidth+=S.itemWidth,this.itemHeight=S.itemHeight=Math.round(D.labelHeight||(T.height>1.5*B?T.height:B))}layoutItem(S){var D=this.options;const T=this.padding,B="horizontal"===D.layout,K=S.itemHeight,j=this.itemMarginBottom,E=this.itemMarginTop,q=B?ie(D.itemDistance,20):0,fe=this.maxLegendWidth;D=D.alignColumns&&this.totalItemWidth>fe?this.maxItemWidth:S.itemWidth;const De=S.legendItem||{};B&&this.itemX-T+D>fe&&(this.itemX=T,this.lastLineHeight&&(this.itemY+=E+this.lastLineHeight+j),this.lastLineHeight=0),this.lastItemY=E+this.itemY+j,this.lastLineHeight=Math.max(K,this.lastLineHeight),De.x=this.itemX,De.y=this.itemY,B?this.itemX+=D:(this.itemY+=E+K+j,this.lastLineHeight=K),this.offsetWidth=this.widthOption||Math.max((B?this.itemX-T-(S.checkbox?0:q):D)+T,this.offsetWidth)}getAllItems(){let S=[];return this.chart.series.forEach(function(D){const T=D&&D.options;D&&ie(T.showInLegend,!H(T.linkedTo)&&void 0,!0)&&(S=S.concat((D.legendItem||{}).labels||("point"===T.legendType?D.data:D)))}),V(this,"afterGetAllItems",{allItems:S}),S}getAlignment(){const S=this.options;return this.proximate?S.align.charAt(0)+"tv":S.floating?"":S.align.charAt(0)+S.verticalAlign.charAt(0)+S.layout.charAt(0)}adjustMargins(S,D){const T=this.chart,B=this.options,K=this.getAlignment();K&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(j,E){j.test(K)&&!H(S[E])&&(T[Me[E]]=Math.max(T[Me[E]],T.legend[(E+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][E]*B[E%2?"x":"y"]+ie(B.margin,12)+D[E]+(T.titleOffset[E]||0)))})}proximatePositions(){const S=this.chart,D=[],T="left"===this.options.align;let B;this.allItems.forEach(function(K){var j,E=T;let q;K.yAxis&&(K.xAxis.options.reversed&&(E=!E),K.points&&(j=G(E?K.points:K.points.slice(0).reverse(),function(fe){return $(fe.plotY)})),E=this.itemMarginTop+K.legendItem.label.getBBox().height+this.itemMarginBottom,q=K.yAxis.top-S.plotTop,K.visible?(j=j?j.plotY:K.yAxis.height,j+=q-.3*E):j=q+K.yAxis.height,D.push({target:j,size:E,item:K}))},this);for(const K of z(D,S.plotHeight))B=K.item.legendItem||{},$(K.pos)&&(B.y=S.plotTop-S.spacing[0]+K.pos)}render(){const S=this.chart,D=S.renderer,T=this.options,B=this.padding;var K=this.getAllItems();let j,E=this.group,q=this.box;this.itemX=B,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=P(T.width,S.spacingBox.width-B);var fe=S.spacingBox.width-2*B-T.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(fe/=2),this.maxLegendWidth=this.widthOption||fe,E||(this.group=E=D.g("legend").addClass(T.className||"").attr({zIndex:7}).add(),this.contentGroup=D.g().attr({zIndex:1}).add(E),this.scrollGroup=D.g().add(this.contentGroup)),this.renderTitle(),I(K,(De,Oe)=>(De.options&&De.options.legendIndex||0)-(Oe.options&&Oe.options.legendIndex||0)),T.reversed&&K.reverse(),this.allItems=K,this.display=fe=!!K.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,K.forEach(this.renderItem,this),K.forEach(this.layoutItem,this),K=(this.widthOption||this.offsetWidth)+B,j=this.lastItemY+this.lastLineHeight+this.titleHeight,j=this.handleOverflow(j),j+=B,q||(this.box=q=D.rect().addClass("highcharts-legend-box").attr({r:T.borderRadius}).add(E)),S.styledMode||q.attr({stroke:T.borderColor,"stroke-width":T.borderWidth||0,fill:T.backgroundColor||"none"}).shadow(T.shadow),0<K&&0<j&&q[q.placed?"animate":"attr"](q.crisp.call({},{x:0,y:0,width:K,height:j},q.strokeWidth())),E[fe?"show":"hide"](),S.styledMode&&"none"===E.getStyle("display")&&(K=j=0),this.legendWidth=K,this.legendHeight=j,fe&&this.align(),this.proximate||this.positionItems(),V(this,"afterRender")}align(S=this.chart.spacingBox){const D=this.chart,T=this.options;let B=S.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<D.titleOffset[0]?B+=D.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<D.titleOffset[2]&&(B-=D.titleOffset[2]),B!==S.y&&(S=te(S,{y:B})),D.hasRendered||(this.group.placed=!1),this.group.align(te(T,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":T.verticalAlign}),!0,S)}handleOverflow(S){const D=this,T=this.chart,B=T.renderer,K=this.options;var j=K.y;const E="top"===K.verticalAlign,q=this.padding,fe=K.maxHeight,De=K.navigation,Oe=ie(De.animation,!0),ue=De.arrowSize||12,A=this.pages,ae=this.allItems,pe=function(Ie){"number"==typeof Ie?xe.attr({height:Ie}):xe&&(D.clipRect=xe.destroy(),D.contentGroup.clip()),D.contentGroup.div&&(D.contentGroup.div.style.clip=Ie?"rect("+q+"px,9999px,"+(q+Ie)+"px,0)":"auto")},de=function(Ie){return D[Ie]=B.circle(0,0,1.3*ue).translate(ue/2,ue/2).add(X),T.styledMode||D[Ie].attr("fill","rgba(0,0,0,0.0001)"),D[Ie]};let Ne,R,Z;j=T.spacingBox.height+(E?-j:j)-q;let X=this.nav,xe=this.clipRect;return"horizontal"!==K.layout||"middle"===K.verticalAlign||K.floating||(j/=2),fe&&(j=Math.min(j,fe)),A.length=0,S&&0<j&&S>j&&!1!==De.enabled?(this.clipHeight=Ne=Math.max(j-20-this.titleHeight-q,0),this.currentPage=ie(this.currentPage,1),this.fullHeight=S,ae.forEach((Ie,Ee)=>{Z=Ie.legendItem||{},Ie=Z.y||0;const Le=Math.round(Z.label.getBBox().height);let Ge=A.length;(!Ge||Ie-A[Ge-1]>Ne&&(R||Ie)!==A[Ge-1])&&(A.push(R||Ie),Ge++),Z.pageIx=Ge-1,R&&((ae[Ee-1].legendItem||{}).pageIx=Ge-1),Ee===ae.length-1&&Ie+Le-A[Ge-1]>Ne&&Ie>A[Ge-1]&&(A.push(Ie),Z.pageIx=Ge),Ie!==R&&(R=Ie)}),xe||(xe=D.clipRect=B.clipRect(0,q-2,9999,0),D.contentGroup.clip(xe)),pe(Ne),X||(this.nav=X=B.g().attr({zIndex:1}).add(this.group),this.up=B.symbol("triangle",0,0,ue,ue).add(X),de("upTracker").on("click",function(){D.scroll(-1,Oe)}),this.pager=B.text("",15,10).addClass("highcharts-legend-navigation"),!T.styledMode&&De.style&&this.pager.css(De.style),this.pager.add(X),this.down=B.symbol("triangle-down",0,0,ue,ue).add(X),de("downTracker").on("click",function(){D.scroll(1,Oe)})),D.scroll(0),S=j):X&&(pe(),this.nav=X.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),S}scroll(S,D){const T=this.chart,B=this.pages,K=B.length,j=this.clipHeight,E=this.options.navigation,q=this.pager,fe=this.padding;let De=this.currentPage+S;De>K&&(De=K),0<De&&(typeof D<"u"&&oe(D,T),this.nav.attr({translateX:fe,translateY:j+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(Oe){Oe.attr({class:1===De?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),q.attr({text:De+"/"+K}),[this.down,this.downTracker].forEach(function(Oe){Oe.attr({x:18+this.pager.getBBox().width,class:De===K?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),T.styledMode||(this.up.attr({fill:1===De?E.inactiveColor:E.activeColor}),this.upTracker.css({cursor:1===De?"default":"pointer"}),this.down.attr({fill:De===K?E.inactiveColor:E.activeColor}),this.downTracker.css({cursor:De===K?"default":"pointer"})),this.scrollOffset=-B[De-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=De,this.positionCheckboxes(),S=Ce(ie(D,T.renderer.globalAnimation,!0)),W(()=>{V(this,"afterScroll",{currentPage:De})},S.duration))}setItemEvents(S,D,T){const B=this,K=S.legendItem||{},j=B.chart.renderer.boxWrapper,E=S instanceof ze,q="highcharts-legend-"+(E?"point":"series")+"-active",fe=B.chart.styledMode;T=T?[D,K.symbol]:[K.group];const De=Oe=>{B.allItems.forEach(ue=>{S!==ue&&[ue].concat(ue.linkedSeries||[]).forEach(A=>{A.setState(Oe,!E)})})};for(const Oe of T)Oe&&Oe.on("mouseover",function(){S.visible&&De("inactive"),S.setState("hover"),S.visible&&j.addClass(q),fe||D.css(B.options.itemHoverStyle)}).on("mouseout",function(){B.chart.styledMode||D.css(te(S.visible?B.itemStyle:B.itemHiddenStyle)),De(""),j.removeClass(q),S.setState()}).on("click",function(ue){const A=function(){S.setVisible&&S.setVisible(),De(S.visible?"inactive":"")};j.removeClass(q),ue={browserEvent:ue},S.firePointEvent?S.firePointEvent("legendItemClick",ue,A):V(S,"legendItemClick",ue,A)})}createCheckboxForItem(S){S.checkbox=Q("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:S.selected,defaultChecked:S.selected},this.options.itemCheckboxStyle,this.chart.container),re(S.checkbox,"click",function(D){V(S.series||S,"checkboxClick",{checked:D.target.checked,item:S},function(){S.select()})})}}return function(U){const S=[];U.compose=function(D){we.pushUnique(S,D)&&re(D,"beforeMargins",function(){this.legend=new U(this,this.options.legend)})}}(N||(N={})),N}),Te(me,"Core/Legend/LegendSymbol.js",[me["Core/Utilities.js"]],function(ve){const{extend:be,merge:Fe,pick:ze}=ve;var Ve=(()=>{return(we=Ve||(Ve={})).lineMarker=function(Ce,oe){oe=this.legendItem=this.legendItem||{};var Ae=this.options;const Me=Ce.symbolWidth,z=Ce.symbolHeight,re=z/2,Q=this.chart.renderer,ne=oe.group;Ce=Ce.baseline-Math.round(.3*Ce.fontMetrics.b);let H={},ee=Ae.marker,G=0;this.chart.styledMode||(H={"stroke-width":Math.min(Ae.lineWidth||0,24)},Ae.dashStyle?H.dashstyle=Ae.dashStyle:"square"!==Ae.linecap&&(H["stroke-linecap"]="round")),oe.line=Q.path().addClass("highcharts-graph").attr(H).add(ne),H["stroke-linecap"]&&(G=Math.min(oe.line.strokeWidth(),Me)/2),Me&&oe.line.attr({d:[["M",G,Ce],["L",Me-G,Ce]]}),ee&&!1!==ee.enabled&&Me&&(Ae=Math.min(ze(ee.radius,re),re),0===this.symbol.indexOf("url")&&(ee=Fe(ee,{width:z,height:z}),Ae=0),oe.symbol=oe=Q.symbol(this.symbol,Me/2-Ae,Ce-Ae,2*Ae,2*Ae,be({context:"legend"},ee)).addClass("highcharts-point").add(ne),oe.isMarker=!0)},we.rectangle=function(Ce,oe){const Ae=Ce.symbolHeight,Me=Ce.options.squareSymbol;(oe=oe.legendItem||{}).symbol=this.chart.renderer.rect(Me?(Ce.symbolWidth-Ae)/2:0,Ce.baseline-Ae+1,Me?Ae:Ce.symbolWidth,Ae,ze(Ce.options.symbolRadius,Ae/2)).addClass("highcharts-point").attr({zIndex:3}).add(oe.group)},Ve;var we})();return Ve}),Te(me,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:1,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){const{numberFormatter:ve}=this.series.chart;return"number"!=typeof this.y?"":ve(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),Te(me,"Core/Series/SeriesRegistry.js",[me["Core/Globals.js"],me["Core/Defaults.js"],me["Core/Series/Point.js"],me["Core/Utilities.js"]],function(ve,be,Fe,ze){const{defaultOptions:Ve}=be,{extendClass:we,merge:Ce}=ze;var oe;return function(Ae){function Me(z,re){const Q=Ve.plotOptions||{},ne=re.defaultOptions,H=re.prototype;H.type=z,H.pointClass||(H.pointClass=Fe),ne&&(Q[z]=ne),Ae.seriesTypes[z]=re}Ae.seriesTypes=ve.seriesTypes,Ae.registerSeriesType=Me,Ae.seriesType=function(z,re,Q,ne,H){const ee=Ve.plotOptions||{};return ee[z]=Ce(ee[re=re||""],Q),Me(z,we(Ae.seriesTypes[re]||function(){},ne)),Ae.seriesTypes[z].prototype.type=z,H&&(Ae.seriesTypes[z].prototype.pointClass=we(Fe,H)),Ae.seriesTypes[z]}}(oe||(oe={})),oe}),Te(me,"Core/Series/Series.js",[me["Core/Animation/AnimationUtilities.js"],me["Core/Defaults.js"],me["Core/Foundation.js"],me["Core/Globals.js"],me["Core/Legend/LegendSymbol.js"],me["Core/Series/Point.js"],me["Core/Series/SeriesDefaults.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Renderer/SVG/SVGElement.js"],me["Core/Utilities.js"]],function(ve,be,Fe,ze,Ve,we,Ce,oe,Ae,Me){const{animObject:z,setAnimation:re}=ve,{defaultOptions:Q}=be,{registerEventOptions:ne}=Fe,{hasTouch:H,svg:ee,win:G}=ze,{seriesTypes:V}=oe,{arrayMax:$,arrayMin:te,clamp:ie,correctFloat:P,defined:I,diffObjects:W,erase:N,error:U,extend:S,find:D,fireEvent:T,getClosestDistance:B,getNestedProperty:K,insertItem:j,isArray:E,isNumber:q,isString:fe,merge:De,objectEach:Oe,pick:ue,removeEvent:A,splat:ae,syncTimeout:pe}=Me;class de{constructor(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}init(R,Z){T(this,"init",{options:Z});const X=this,xe=R.series;this.eventsToUnbind=[],X.chart=R,X.options=X.setOptions(Z),Z=X.options,X.linkedSeries=[],X.bindAxes(),S(X,{name:Z.name,state:"",visible:!1!==Z.visible,selected:!0===Z.selected}),ne(this,Z);const Ie=Z.events;let Ee;(Ie&&Ie.click||Z.point&&Z.point.events&&Z.point.events.click||Z.allowPointSelect)&&(R.runTrackerClick=!0),X.getColor(),X.getSymbol(),X.parallelArrays.forEach(function(Le){X[Le+"Data"]||(X[Le+"Data"]=[])}),X.isCartesian&&(R.hasCartesianSeries=!0),xe.length&&(Ee=xe[xe.length-1]),X._i=ue(Ee&&Ee._i,-1)+1,X.opacity=X.options.opacity,R.orderItems("series",j(this,xe)),Z.dataSorting&&Z.dataSorting.enabled?X.setDataSortingOptions():X.points||X.data||X.setData(Z.data,!1),T(this,"afterInit")}is(R){return V[R]&&this instanceof V[R]}bindAxes(){const R=this,Z=R.options,X=R.chart;let xe;T(this,"bindAxes",null,function(){(R.axisTypes||[]).forEach(function(Ie){X[Ie].forEach(function(Ee){xe=Ee.options,(ue(Z[Ie],0)===Ee.index||typeof Z[Ie]<"u"&&Z[Ie]===xe.id)&&(j(R,Ee.series),R[Ie]=Ee,Ee.isDirty=!0)}),R[Ie]||R.optionalAxis===Ie||U(18,!0,X)})}),T(this,"afterBindAxes")}updateParallelArrays(R,Z,X){const xe=R.series,Ie=q(Z)?function(Ee){const Le="y"===Ee&&xe.toYData?xe.toYData(R):R[Ee];xe[Ee+"Data"][Z]=Le}:function(Ee){Array.prototype[Z].apply(xe[Ee+"Data"],X)};xe.parallelArrays.forEach(Ie)}hasData(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&0<this.yData.length}autoIncrement(R){var Z=this.options;const X=Z.pointIntervalUnit,xe=Z.relativeXValue,Ie=this.chart.time;let Le,Ee=this.xIncrement;return Ee=ue(Ee,Z.pointStart,0),this.pointInterval=Le=ue(this.pointInterval,Z.pointInterval,1),xe&&q(R)&&(Le*=R),X&&(Z=new Ie.Date(Ee),"day"===X?Ie.set("Date",Z,Ie.get("Date",Z)+Le):"month"===X?Ie.set("Month",Z,Ie.get("Month",Z)+Le):"year"===X&&Ie.set("FullYear",Z,Ie.get("FullYear",Z)+Le),Le=Z.getTime()-Ee),xe&&q(R)?Ee+Le:(this.xIncrement=Ee+Le,Ee)}setDataSortingOptions(){const R=this.options;S(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),I(R.pointRange)||(R.pointRange=1)}setOptions(R){var Z,X;const xe=this.chart;var Ie=xe.options.plotOptions,Ee=xe.userOptions||{};const Le=De(R);R=xe.styledMode;const Ge={plotOptions:Ie,userOptions:Le};T(this,"setOptions",Ge);const qe=Ge.plotOptions[this.type],st=(Ee=Ee.plotOptions||{}).series||{},_t=Q.plotOptions[this.type]||{},ge=Ee[this.type]||{};return this.userOptions=Ge.userOptions,Ie=De(qe,Ie.series,ge,Le),this.tooltipOptions=De(Q.tooltip,null===(Z=Q.plotOptions.series)||void 0===Z?void 0:Z.tooltip,_t?.tooltip,xe.userOptions.tooltip,null===(X=Ee.series)||void 0===X?void 0:X.tooltip,ge.tooltip,Le.tooltip),this.stickyTracking=ue(Le.stickyTracking,ge.stickyTracking,st.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||Ie.stickyTracking),null===qe.marker&&delete Ie.marker,this.zoneAxis=Ie.zoneAxis,X=this.zones=(Ie.zones||[]).slice(),!Ie.negativeColor&&!Ie.negativeFillColor||Ie.zones||(Z={value:Ie[this.zoneAxis+"Threshold"]||Ie.threshold||0,className:"highcharts-negative"},R||(Z.color=Ie.negativeColor,Z.fillColor=Ie.negativeFillColor),X.push(Z)),X.length&&I(X[X.length-1].value)&&X.push(R?{}:{color:this.color,fillColor:this.fillColor}),T(this,"afterSetOptions",{options:Ie}),Ie}getName(){return ue(this.options.name,"Series "+(this.index+1))}getCyclic(R,Z,X){const xe=this.chart,Ie=`${R}Index`,Ee=`${R}Counter`,Le=X?.length||xe.options.chart.colorCount;if(!Z){var Ge=ue("color"===R?this.options.colorIndex:void 0,this[Ie]);I(Ge)||(xe.series.length||(xe[Ee]=0),Ge=xe[Ee]%Le,xe[Ee]+=1),X&&(Z=X[Ge])}typeof Ge<"u"&&(this[Ie]=Ge),this[R]=Z}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||Q.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}findPointIndex(R,Z){const X=R.id,xe=R.x,Ie=this.points;var Le,Ee=this.options.dataSorting;let Ge,qe;if(X)(Ee=this.chart.get(X))instanceof we&&(Le=Ee);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(Le=st=>!st.touched&&st.index===R.index,Ee&&Ee.matchByName?Le=st=>!st.touched&&st.name===R.name:this.options.relativeXValue&&(Le=st=>!st.touched&&st.options.x===R.x),!(Le=D(Ie,Le))))return;return Le&&(qe=Le&&Le.index,typeof qe<"u"&&(Ge=!0)),typeof qe>"u"&&q(xe)&&(qe=this.xData.indexOf(xe,Z)),-1!==qe&&typeof qe<"u"&&this.cropped&&(qe=qe>=this.cropStart?qe-this.cropStart:qe),!Ge&&q(qe)&&Ie[qe]&&Ie[qe].touched&&(qe=void 0),qe}updateData(R,Z){const X=this.options,xe=X.dataSorting,Ie=this.points,Ee=[],Le=this.requireSorting,Ge=R.length===Ie.length;let qe,st,_t,ge=!0;if(this.xIncrement=null,R.forEach(function(le,Ue){var Re=I(le)&&this.pointClass.prototype.optionsToObject.call({series:this},le)||{};Re.id||q(Re.x)?(-1===(Re=this.findPointIndex(Re,_t))||typeof Re>"u"?Ee.push(le):Ie[Re]&&le!==X.data[Re]?(Ie[Re].update(le,!1,null,!1),Ie[Re].touched=!0,Le&&(_t=Re+1)):Ie[Re]&&(Ie[Re].touched=!0),(!Ge||Ue!==Re||xe&&xe.enabled||this.hasDerivedData)&&(qe=!0)):Ee.push(le)},this),qe)for(R=Ie.length;R--;)(st=Ie[R])&&!st.touched&&st.remove&&st.remove(!1,Z);else!Ge||xe&&xe.enabled?ge=!1:(R.forEach(function(le,Ue){le===Ie[Ue].y||Ie[Ue].destroyed||Ie[Ue].update(le,!1,null,!1)}),Ee.length=0);return Ie.forEach(function(le){le&&(le.touched=!1)}),!!ge&&(Ee.forEach(function(le){this.addPoint(le,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=$(this.xData),this.autoIncrement()),!0)}setData(R,Z=!0,X,xe){var Ie;const Ee=this,Le=Ee.points,Ge=Le&&Le.length||0,qe=Ee.options,st=Ee.chart,_t=qe.dataSorting,ge=Ee.xAxis,le=qe.turboThreshold,Ue=this.xData,Re=this.yData;var Pe=Ee.pointArrayMap;Pe=Pe&&Pe.length;const Qe=qe.keys;let nt,It=0,kt=1,Ct=null;if(!st.options.chart.allowMutatingData){qe.data&&delete Ee.options.data,Ee.userOptions.data&&delete Ee.userOptions.data;var pt=De(!0,R)}if(pt=(R=pt||R||[]).length,_t&&_t.enabled&&(R=this.sortData(R)),st.options.chart.allowMutatingData&&!1!==xe&&pt&&Ge&&!Ee.cropped&&!Ee.hasGroupedData&&Ee.visible&&!Ee.boosted&&(nt=this.updateData(R,X)),!nt){if(Ee.xIncrement=null,Ee.colorCounter=0,this.parallelArrays.forEach(function(on){Ee[on+"Data"].length=0}),le&&pt>le)if(Ct=Ee.getFirstValidPoint(R),q(Ct))for(X=0;X<pt;X++)Ue[X]=this.autoIncrement(),Re[X]=R[X];else if(E(Ct))if(Pe)if(Ct.length===Pe)for(X=0;X<pt;X++)Ue[X]=this.autoIncrement(),Re[X]=R[X];else for(X=0;X<pt;X++)Ue[X]=(xe=R[X])[0],Re[X]=xe.slice(1,Pe+1);else if(Qe&&(It=Qe.indexOf("x"),kt=Qe.indexOf("y"),It=0<=It?It:0,kt=0<=kt?kt:1),1===Ct.length&&(kt=0),It===kt)for(X=0;X<pt;X++)Ue[X]=this.autoIncrement(),Re[X]=R[X][kt];else for(X=0;X<pt;X++)Ue[X]=(xe=R[X])[It],Re[X]=xe[kt];else U(12,!1,st);else for(X=0;X<pt;X++)Ee.pointClass.prototype.applyOptions.apply(xe={series:Ee},[R[X]]),Ee.updateParallelArrays(xe,X);for(Re&&fe(Re[0])&&U(14,!0,st),Ee.data=[],Ee.options.data=Ee.userOptions.data=R,X=Ge;X--;)null===(Ie=Le[X])||void 0===Ie||Ie.destroy();ge&&(ge.minRange=ge.userMinRange),Ee.isDirty=st.isDirtyBox=!0,Ee.isDirtyData=!!Le,X=!1}"point"===qe.legendType&&(this.processData(),this.generatePoints()),Z&&st.redraw(X)}sortData(R){const Z=this,X=Z.options.dataSorting.sortKey||"y",xe=function(Ie,Ee){return I(Ee)&&Ie.pointClass.prototype.optionsToObject.call({series:Ie},Ee)||{}};return R.forEach(function(Ie,Ee){R[Ee]=xe(Z,Ie),R[Ee].index=Ee},this),R.concat().sort((Ie,Ee)=>(Ie=K(X,Ie),(Ee=K(X,Ee))<Ie?-1:Ee>Ie?1:0)).forEach(function(Ie,Ee){Ie.x=Ee},this),Z.linkedSeries&&Z.linkedSeries.forEach(function(Ie){const Ee=Ie.options,Le=Ee.data;Ee.dataSorting&&Ee.dataSorting.enabled||!Le||(Le.forEach(function(Ge,qe){Le[qe]=xe(Ie,Ge),R[qe]&&(Le[qe].x=R[qe].x,Le[qe].index=qe)}),Ie.setData(Le,!1))}),R}getProcessedData(R){const Z=this;var X=Z.xAxis,xe=Z.options;const Ie=xe.cropThreshold,Ee=R||Z.getExtremesFromAll||xe.getExtremesFromAll,Le=X?.logarithmic,Ge=Z.isCartesian;let st,qe=0;xe=Z.yData;let _t=!1;const ge=(R=Z.xData).length;if(X){var le=X.getExtremes();st=le.min,le=le.max,_t=!(!X.categories||X.names.length)}if(Ge&&Z.sorted&&!Ee&&(!Ie||ge>Ie||Z.forceCrop))if(R[ge-1]<st||R[0]>le)R=[],xe=[];else if(Z.yData&&(R[0]<st||R[ge-1]>le)){var Ue=this.cropData(Z.xData,Z.yData,st,le);R=Ue.xData,xe=Ue.yData,qe=Ue.start,Ue=!0}return X=B([Le?R.map(Le.log2lin):R],()=>Z.requireSorting&&!_t&&U(15,!1,Z.chart)),{xData:R,yData:xe,cropped:Ue,cropStart:qe,closestPointRange:X}}processData(R){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!R)return!1;R=this.getProcessedData(),this.cropped=R.cropped,this.cropStart=R.cropStart,this.processedXData=R.xData,this.processedYData=R.yData,this.closestPointRange=this.basePointRange=R.closestPointRange,T(this,"afterProcessData")}cropData(R,Z,X,xe,Ie){const Ee=R.length;let Le,Ge=0,qe=Ee;for(Ie=ue(Ie,this.cropShoulder),Le=0;Le<Ee;Le++)if(R[Le]>=X){Ge=Math.max(0,Le-Ie);break}for(X=Le;X<Ee;X++)if(R[X]>xe){qe=X+Ie;break}return{xData:R.slice(Ge,qe),yData:Z.slice(Ge,qe),start:Ge,end:qe}}generatePoints(){var R=this.options;const Z=this.processedData||R.data,X=this.processedXData,xe=this.processedYData,Ie=this.pointClass,Ee=X.length,Le=this.cropStart||0,Ge=this.hasGroupedData,qe=R.keys,st=[];R=R.dataGrouping&&R.dataGrouping.groupAll?Le:0;let _t,ge,le,Ue=this.data;if(!Ue&&!Ge){var Re=[];Re.length=Z.length,Ue=this.data=Re}for(qe&&Ge&&(this.options.keys=!1),le=0;le<Ee;le++)Re=Le+le,Ge?(ge=(new Ie).init(this,[X[le]].concat(ae(xe[le]))),ge.dataGroup=this.groupMap[R+le],ge.dataGroup.options&&(ge.options=ge.dataGroup.options,S(ge,ge.dataGroup.options),delete ge.dataLabels)):(ge=Ue[Re])||typeof Z[Re]>"u"||(Ue[Re]=ge=(new Ie).init(this,Z[Re],X[le])),ge&&(ge.index=Ge?R+le:Re,st[le]=ge);if(this.options.keys=qe,Ue&&(Ee!==(_t=Ue.length)||Ge))for(le=0;le<_t;le++)le!==Le||Ge||(le+=Ee),Ue[le]&&(Ue[le].destroyElements(),Ue[le].plotX=void 0);this.data=Ue,this.points=st,T(this,"afterGeneratePoints")}getXExtremes(R){return{min:te(R),max:$(R)}}getExtremes(R,Z){const X=this.xAxis;var xe=this.yAxis;const Ie=this.processedXData||this.xData,Ee=[],Le=this.requireSorting?this.cropShoulder:0;xe=!!xe&&xe.positiveValuesOnly;let Ge,qe=0,st=0,_t=0;const ge=(R=R||this.stackedYData||this.processedYData||[]).length;if(X){var le=X.getExtremes();qe=le.min,st=le.max}for(Ge=0;Ge<ge;Ge++){var Ue=Ie[Ge],Re=(q(le=R[Ge])||E(le))&&(le.length||0<le||!xe);if(Ue=Z||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!X||(Ie[Ge+Le]||Ue)>=qe&&(Ie[Ge-Le]||Ue)<=st,Re&&Ue)if(Re=le.length)for(;Re--;)q(le[Re])&&(Ee[_t++]=le[Re]);else Ee[_t++]=le}return R={activeYData:Ee,dataMin:te(Ee),dataMax:$(Ee)},T(this,"afterGetExtremes",{dataExtremes:R}),R}applyExtremes(){const R=this.getExtremes();return this.dataMin=R.dataMin,this.dataMax=R.dataMax,R}getFirstValidPoint(R){const Z=R.length;let X=0,xe=null;for(;null===xe&&X<Z;)xe=R[X],X++;return xe}translate(){var R;this.processedXData||this.processData(),this.generatePoints();var Z=this.options;const X=Z.stacking,xe=this.xAxis,Ie=xe.categories,Ee=this.enabledDataSorting,Le=this.yAxis,Ge=this.points,qe=Ge.length,st=this.pointPlacementToXValue(),_t=!!st,ge=Z.threshold;Z=Z.startFromThreshold?ge:0;let le,Ue,Re,Pe,Qe=Number.MAX_VALUE;for(le=0;le<qe;le++){const nt=Ge[le],It=nt.x;let kt,Ct,pt=nt.y,on=nt.low;const Ft=X&&(null===(R=Le.stacking)||void 0===R?void 0:R.stacks[(this.negStacks&&pt<(Z?0:ge)?"-":"")+this.stackKey]);let Xt;Ue=xe.translate(It,!1,!1,!1,!0,st),nt.plotX=q(Ue)?P(ie(Ue,-1e5,1e5)):void 0,X&&this.visible&&Ft&&Ft[It]&&(Pe=this.getStackIndicator(Pe,It,this.index),!nt.isNull&&Pe.key&&(kt=Ft[It],Ct=kt.points[Pe.key]),kt&&E(Ct)&&(on=Ct[0],pt=Ct[1],on===Z&&Pe.key===Ft[It].base&&(on=ue(q(ge)?ge:Le.min)),Le.positiveValuesOnly&&I(on)&&0>=on&&(on=void 0),nt.total=nt.stackTotal=ue(kt.total),nt.percentage=I(nt.y)&&kt.total?nt.y/kt.total*100:void 0,nt.stackY=pt,this.irregularWidths||kt.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),nt.yBottom=I(on)?ie(Le.translate(on,!1,!0,!1,!0),-1e5,1e5):void 0,this.dataModify&&(pt=this.dataModify.modifyValue(pt,le)),q(pt)&&void 0!==nt.plotX&&(Xt=Le.translate(pt,!1,!0,!1,!0),Xt=q(Xt)?ie(Xt,-1e5,1e5):void 0),nt.plotY=Xt,nt.isInside=this.isPointInside(nt),nt.clientX=_t?P(xe.translate(It,!1,!1,!1,!0,st)):Ue,nt.negative=(nt.y||0)<(ge||0),nt.category=ue(Ie&&Ie[nt.x],nt.x),nt.isNull||!1===nt.visible||(typeof Re<"u"&&(Qe=Math.min(Qe,Math.abs(Ue-Re))),Re=Ue),nt.zone=this.zones.length?nt.getZone():void 0,!nt.graphic&&this.group&&Ee&&(nt.isNew=!0)}this.closestPointRangePx=Qe,T(this,"afterTranslate")}getValidPoints(R,Z,X){const xe=this.chart;return(R||this.points||[]).filter(function(Ie){const{plotX:Ee,plotY:Le}=Ie;return!(!(X||!Ie.isNull&&q(Le))||Z&&!xe.isInsidePlot(Ee,Le,{inverted:xe.inverted}))&&!1!==Ie.visible})}getClipBox(){const{chart:R,xAxis:Z,yAxis:X}=this,xe=De(R.clipBox);return Z&&Z.len!==R.plotSizeX&&(xe.width=Z.len),X&&X.len!==R.plotSizeY&&(xe.height=X.len),xe}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)}setClip(){const{chart:R,group:Z,markerGroup:X}=this,xe=R.sharedClips,Ie=R.renderer,Ee=this.getClipBox(),Le=this.getSharedClipKey();let Ge=xe[Le];Ge?Ge.animate(Ee):xe[Le]=Ge=Ie.clipRect(Ee),Z&&Z.clip(!1===this.options.clip?void 0:Ge),X&&X.clip()}animate(R){const{chart:Z,group:X,markerGroup:xe}=this,Ie=Z.inverted;var Ee=z(this.options.animation),Le=[this.getSharedClipKey(),Ee.duration,Ee.easing,Ee.defer].join();let Ge=Z.sharedClips[Le],qe=Z.sharedClips[Le+"m"];if(R&&X)Ee=this.getClipBox(),Ge?Ge.attr("height",Ee.height):(Ee.width=0,Ie&&(Ee.x=Z.plotHeight),Ge=Z.renderer.clipRect(Ee),Z.sharedClips[Le]=Ge,qe=Z.renderer.clipRect({x:-99,y:-99,width:Ie?Z.plotWidth+199:99,height:Ie?99:Z.plotHeight+199}),Z.sharedClips[Le+"m"]=qe),X.clip(Ge),xe&&xe.clip(qe);else if(Ge&&!Ge.hasClass("highcharts-animating")){Le=this.getClipBox();const st=Ee.step;xe&&xe.element.childNodes.length&&(Ee.step=function(_t,ge){st&&st.apply(ge,arguments),"width"===ge.prop&&qe&&qe.element&&qe.attr(Ie?"height":"width",_t+99)}),Ge.addClass("highcharts-animating").animate(Le,Ee)}}afterAnimate(){this.setClip(),Oe(this.chart.sharedClips,(R,Z,X)=>{R&&!this.chart.container.querySelector(`[clip-path="url(#${R.id})"]`)&&(R.destroy(),delete X[Z])}),this.finishedAnimating=!0,T(this,"afterAnimate")}drawPoints(R=this.points){const Z=this.chart,X=Z.styledMode,{colorAxis:xe,options:Ie}=this,Ee=Ie.marker,Le=this[this.specialGroup||"markerGroup"],Ge=this.xAxis,qe=ue(Ee.enabled,!(Ge&&!Ge.isRadial)||null,this.closestPointRangePx>=Ee.enabledThreshold*Ee.radius);let st,_t,ge,le,Ue,Re;if(!1!==Ee.enabled||this._hasPointMarkers)for(st=0;st<R.length;st++){_t=R[st],le=(ge=_t.graphic)?"animate":"attr";var Pe=_t.marker||{};if(Ue=!!_t.marker,(qe&&typeof Pe.enabled>"u"||Pe.enabled)&&!_t.isNull&&!1!==_t.visible){const Qe=ue(Pe.symbol,this.symbol,"rect");Re=this.markerAttribs(_t,_t.selected&&"select"),this.enabledDataSorting&&(_t.startXPos=Ge.reversed?-(Re.width||0):Ge.width);const nt=!1!==_t.isInside;!ge&&nt&&(0<(Re.width||0)||_t.hasImage)&&(_t.graphic=ge=Z.renderer.symbol(Qe,Re.x,Re.y,Re.width,Re.height,Ue?Pe:Ee).add(Le),this.enabledDataSorting&&Z.hasRendered&&(ge.attr({x:_t.startXPos}),le="animate")),ge&&"animate"===le&&ge[nt?"show":"hide"](nt).animate(Re),ge&&(Pe=this.pointAttribs(_t,X||!_t.selected?void 0:"select"),X?xe&&ge.css({fill:Pe.fill}):ge[le](Pe)),ge&&ge.addClass(_t.getClassName(),!0)}else ge&&(_t.graphic=ge.destroy())}}markerAttribs(R,Z){const X=this.options;var xe=X.marker;const Ie=R.marker||{},Ee=Ie.symbol||xe.symbol,Le={};let Ge=ue(Ie.radius,xe&&xe.radius);return Z&&(xe=xe.states[Z],Ge=ue((Z=Ie.states&&Ie.states[Z])&&Z.radius,xe&&xe.radius,Ge&&Ge+(xe&&xe.radiusPlus||0))),R.hasImage=Ee&&0===Ee.indexOf("url"),R.hasImage&&(Ge=0),R=R.pos(),q(Ge)&&R&&(Le.x=R[0]-Ge,Le.y=R[1]-Ge,X.crisp&&(Le.x=Math.floor(Le.x))),Ge&&(Le.width=Le.height=2*Ge),Le}pointAttribs(R,Z){var X=this.options.marker,xe=R&&R.options;const Ie=xe&&xe.marker||{};var Ee=xe&&xe.color,Le=R&&R.color;const Ge=R&&R.zone&&R.zone.color;let qe=this.color;return R=ue(Ie.lineWidth,X.lineWidth),xe=1,qe=Ee||Ge||Le||qe,Ee=Ie.fillColor||X.fillColor||qe,Le=Ie.lineColor||X.lineColor||qe,X=X.states[Z=Z||"normal"]||{},R=ue((Z=Ie.states&&Ie.states[Z]||{}).lineWidth,X.lineWidth,R+ue(Z.lineWidthPlus,X.lineWidthPlus,0)),{stroke:Le=Z.lineColor||X.lineColor||Le,"stroke-width":R,fill:Ee=Z.fillColor||X.fillColor||Ee,opacity:xe=ue(Z.opacity,X.opacity,xe)}}destroy(R){const Z=this,X=Z.chart,xe=/AppleWebKit\/533/.test(G.navigator.userAgent),Ie=Z.data||[];let Ee,Le,Ge,qe;for(T(Z,"destroy",{keepEventsForUpdate:R}),this.removeEvents(R),(Z.axisTypes||[]).forEach(function(st){(qe=Z[st])&&qe.series&&(N(qe.series,Z),qe.isDirty=qe.forceRedraw=!0)}),Z.legendItem&&Z.chart.legend.destroyItem(Z),Le=Ie.length;Le--;)(Ge=Ie[Le])&&Ge.destroy&&Ge.destroy();Z.clips&&Z.clips.forEach(st=>st.destroy()),Me.clearTimeout(Z.animationTimeout),Oe(Z,function(st,_t){st instanceof Ae&&!st.survive&&(Ee=xe&&"group"===_t?"hide":"destroy",st[Ee]())}),X.hoverSeries===Z&&(X.hoverSeries=void 0),N(X.series,Z),X.orderItems("series"),Oe(Z,function(st,_t){R&&"hcEvents"===_t||delete Z[_t]})}applyZones(){const R=this,Z=this.chart,X=Z.renderer,xe=this.zones,Ie=this.clips||[],Ee=this.graph,Le=this.area,Ge=Math.max(Z.plotWidth,Z.plotHeight),qe=this[(this.zoneAxis||"y")+"Axis"],st=Z.inverted;let _t,ge,le,Ue,Re,Pe,Qe,nt,It,kt,Ct,pt=!1;xe.length&&(Ee||Le)&&qe&&typeof qe.min<"u"?(Re=qe.reversed,Pe=qe.horiz,Ee&&!this.showLine&&Ee.hide(),Le&&Le.hide(),Ue=qe.getExtremes(),xe.forEach(function(on,Ft){_t=Re?Pe?Z.plotWidth:0:Pe?0:qe.toPixels(Ue.min)||0,_t=ie(ue(ge,_t),0,Ge),ge=ie(Math.round(qe.toPixels(ue(on.value,Ue.max),!0)||0),0,Ge),pt&&(_t=ge=qe.toPixels(Ue.max)),Qe=Math.abs(_t-ge),nt=Math.min(_t,ge),It=Math.max(_t,ge),qe.isXAxis?(le={x:st?It:nt,y:0,width:Qe,height:Ge},Pe||(le.x=Z.plotHeight-le.x)):(le={x:0,y:st?It:nt,width:Ge,height:Qe},Pe&&(le.y=Z.plotWidth-le.y)),Ie[Ft]?Ie[Ft].animate(le):Ie[Ft]=X.clipRect(le),kt=R["zone-area-"+Ft],Ct=R["zone-graph-"+Ft],Ee&&Ct&&Ct.clip(Ie[Ft]),Le&&kt&&kt.clip(Ie[Ft]),pt=on.value>Ue.max,R.resetZones&&0===ge&&(ge=void 0)}),this.clips=Ie):R.visible&&(Ee&&Ee.show(),Le&&Le.show())}plotGroup(R,Z,X,xe,Ie){let Ee=this[R];const Le=!Ee;return X={visibility:X,zIndex:xe||.1},typeof this.opacity>"u"||this.chart.styledMode||"inactive"===this.state||(X.opacity=this.opacity),Le&&(this[R]=Ee=this.chart.renderer.g().add(Ie)),Ee.addClass("highcharts-"+Z+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(I(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(Ee.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),Ee.attr(X)[Le?"attr":"animate"](this.getPlotBox(Z)),Ee}getPlotBox(R){let Z=this.xAxis,X=this.yAxis;const xe=this.chart;return R=xe.inverted&&!xe.polar&&Z&&!1!==this.invertible&&"series"===R,xe.inverted&&(Z=X,X=this.xAxis),{translateX:Z?Z.left:xe.plotLeft,translateY:X?X.top:xe.plotTop,rotation:R?90:0,rotationOriginX:R?(Z.len-X.len)/2:0,rotationOriginY:R?(Z.len+X.len)/2:0,scaleX:R?-1:1,scaleY:1}}removeEvents(R){R||A(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(Z){Z()}),this.eventsToUnbind.length=0)}render(){const R=this;var Z=R.chart;const X=R.options,xe=z(X.animation),Ie=R.visible?"inherit":"hidden",Ee=X.zIndex,Le=R.hasRendered;Z=Z.seriesGroup;let Ge=R.finishedAnimating?0:xe.duration;T(this,"render"),R.plotGroup("group","series",Ie,Ee,Z),R.markerGroup=R.plotGroup("markerGroup","markers",Ie,Ee,Z),!1!==X.clip&&R.setClip(),R.animate&&Ge&&R.animate(!0),R.drawGraph&&(R.drawGraph(),R.applyZones()),R.visible&&R.drawPoints(),R.drawDataLabels&&R.drawDataLabels(),R.redrawPoints&&R.redrawPoints(),R.drawTracker&&X.enableMouseTracking&&R.drawTracker(),R.animate&&Ge&&R.animate(),Le||(Ge&&xe.defer&&(Ge+=xe.defer),R.animationTimeout=pe(function(){R.afterAnimate()},Ge||0)),R.isDirty=!1,R.hasRendered=!0,T(R,"afterRender")}redraw(){const R=this.isDirty||this.isDirtyData;this.translate(),this.render(),R&&delete this.kdTree}searchPoint(R,Z){const X=this.xAxis,xe=this.yAxis,Ie=this.chart.inverted;return this.searchKDTree({clientX:Ie?X.len-R.chartY+X.pos:R.chartX-X.pos,plotY:Ie?xe.len-R.chartX+xe.pos:R.chartY-xe.pos},Z,R)}buildKDTree(R){function Z(Ie,Ee,Le){var Ge=Ie&&Ie.length;let qe;if(Ge)return qe=X.kdAxisArray[Ee%Le],Ie.sort(function(st,_t){return st[qe]-_t[qe]}),{point:Ie[Ge=Math.floor(Ge/2)],left:Z(Ie.slice(0,Ge),Ee+1,Le),right:Z(Ie.slice(Ge+1),Ee+1,Le)}}this.buildingKdTree=!0;const X=this,xe=-1<X.options.findNearestPointBy.indexOf("y")?2:1;delete X.kdTree,pe(function(){X.kdTree=Z(X.getValidPoints(null,!X.directTouch),xe,xe),X.buildingKdTree=!1},X.options.kdNow||R&&"touchstart"===R.type?0:1)}searchKDTree(R,Z,X){const Ie=this,Ee=this.kdAxisArray[0],Le=this.kdAxisArray[1],Ge=Z?"distX":"dist";if(Z=-1<Ie.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(X),this.kdTree)return function xe(qe,st,_t,ge){const le=st.point;var Ue=Ie.kdAxisArray[_t%ge];let Re=le;var Pe=I(qe[Ee])&&I(le[Ee])?Math.pow(qe[Ee]-le[Ee],2):null,Qe=I(qe[Le])&&I(le[Le])?Math.pow(qe[Le]-le[Le],2):null;return le.dist=I(Qe=(Pe||0)+(Qe||0))?Math.sqrt(Qe):Number.MAX_VALUE,le.distX=I(Pe)?Math.sqrt(Pe):Number.MAX_VALUE,Pe=0>(Ue=qe[Ue]-le[Ue])?"right":"left",st[Qe=0>Ue?"left":"right"]&&(Re=(Qe=xe(qe,st[Qe],_t+1,ge))[Ge]<Re[Ge]?Qe:le),st[Pe]&&Math.sqrt(Ue*Ue)<Re[Ge]&&(Re=(qe=xe(qe,st[Pe],_t+1,ge))[Ge]<Re[Ge]?qe:Re),Re}(R,this.kdTree,Z,Z)}pointPlacementToXValue(){const{options:{pointPlacement:R,pointRange:Z},xAxis:X}=this;let xe=R;return"between"===xe&&(xe=X.reversed?-.5:.5),q(xe)?xe*(Z||X.pointRange):0}isPointInside(R){const{chart:Z,xAxis:X,yAxis:xe}=this;return typeof R.plotY<"u"&&typeof R.plotX<"u"&&0<=R.plotY&&R.plotY<=(xe?xe.len:Z.plotHeight)&&0<=R.plotX&&R.plotX<=(X?X.len:Z.plotWidth)}drawTracker(){const R=this,Z=R.options,X=Z.trackByArea,xe=[].concat(X?R.areaPath:R.graphPath),Ie=R.chart,Ee=Ie.pointer,Le=Ie.renderer,Ge=Ie.options.tooltip.snap,qe=R.tracker,st=function(ge){Z.enableMouseTracking&&Ie.hoverSeries!==R&&R.onMouseOver()},_t="rgba(192,192,192,"+(ee?1e-4:.002)+")";qe?qe.attr({d:xe}):R.graph&&(R.tracker=Le.path(xe).attr({visibility:R.visible?"inherit":"hidden",zIndex:2}).addClass(X?"highcharts-tracker-area":"highcharts-tracker-line").add(R.group),Ie.styledMode||R.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:_t,fill:X?_t:"none","stroke-width":R.graph.strokeWidth()+(X?0:2*Ge)}),[R.tracker,R.markerGroup,R.dataLabelsGroup].forEach(function(ge){ge&&(ge.addClass("highcharts-tracker").on("mouseover",st).on("mouseout",function(le){Ee.onTrackerMouseOut(le)}),Z.cursor&&!Ie.styledMode&&ge.css({cursor:Z.cursor}),H)&&ge.on("touchstart",st)})),T(this,"afterDrawTracker")}addPoint(R,Z,X,xe,Ie){const Ee=this.options,Le=this.data,Ge=this.chart;var qe=this.xAxis;qe=qe&&qe.hasNames&&qe.names;const st=Ee.data,_t=this.xData;let ge,le;Z=ue(Z,!0);const Ue={series:this};this.pointClass.prototype.applyOptions.apply(Ue,[R]);const Re=Ue.x;if(le=_t.length,this.requireSorting&&Re<_t[le-1])for(ge=!0;le&&_t[le-1]>Re;)le--;this.updateParallelArrays(Ue,"splice",[le,0,0]),this.updateParallelArrays(Ue,le),qe&&Ue.name&&(qe[Re]=Ue.name),st.splice(le,0,R),(ge||this.processedData)&&(this.data.splice(le,0,null),this.processData()),"point"===Ee.legendType&&this.generatePoints(),X&&(Le[0]&&Le[0].remove?Le[0].remove(!1):(Le.shift(),this.updateParallelArrays(Ue,"shift"),st.shift())),!1!==Ie&&T(this,"addPoint",{point:Ue}),this.isDirtyData=this.isDirty=!0,Z&&Ge.redraw(xe)}removePoint(R,Z,X){const xe=this,Ie=xe.data,Ee=Ie[R],Le=xe.points,Ge=xe.chart,qe=function(){Le&&Le.length===Ie.length&&Le.splice(R,1),Ie.splice(R,1),xe.options.data.splice(R,1),xe.updateParallelArrays(Ee||{series:xe},"splice",[R,1]),Ee&&Ee.destroy(),xe.isDirty=!0,xe.isDirtyData=!0,Z&&Ge.redraw()};re(X,Ge),Z=ue(Z,!0),Ee?Ee.firePointEvent("remove",null,qe):qe()}remove(R,Z,X,xe){function Ie(){Ee.destroy(xe),Le.isDirtyLegend=Le.isDirtyBox=!0,Le.linkSeries(xe),ue(R,!0)&&Le.redraw(Z)}const Ee=this,Le=Ee.chart;!1!==X?T(Ee,"remove",null,Ie):Ie()}update(R,Z){R=W(R,this.userOptions),T(this,"update",{options:R});const X=this,xe=X.chart;var Ie=X.userOptions;const Ee=X.initialType||X.type;var Le=xe.options.plotOptions;const Ge=V[Ee].prototype;var qe=X.finishedAnimating&&{animation:!1};const st={};let _t,ge=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],le=R.type||Ie.type||xe.options.chart.type;const Ue=!(this.hasDerivedData||le&&le!==this.type||typeof R.pointStart<"u"||typeof R.pointInterval<"u"||typeof R.relativeXValue<"u"||R.joinBy||R.mapData||X.hasOptionChanged("dataGrouping")||X.hasOptionChanged("pointStart")||X.hasOptionChanged("pointInterval")||X.hasOptionChanged("pointIntervalUnit")||X.hasOptionChanged("keys"));if(le=le||Ee,Ue&&(ge.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),!1!==R.visible&&ge.push("area","graph"),X.parallelArrays.forEach(function(Re){ge.push(Re+"Data")}),R.data&&(R.dataSorting&&S(X.options.dataSorting,R.dataSorting),this.setData(R.data,!1))),R=De(Ie,qe,{index:typeof Ie.index>"u"?X.index:Ie.index,pointStart:ue(Le&&Le.series&&Le.series.pointStart,Ie.pointStart,X.xData[0])},!Ue&&{data:X.options.data},R),Ue&&R.data&&(R.data=X.options.data),ge=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(ge),ge.forEach(function(Re){ge[Re]=X[Re],delete X[Re]}),Le=!1,V[le]){if(Le=le!==X.type,X.remove(!1,!1,!1,!0),Le)if(Object.setPrototypeOf)Object.setPrototypeOf(X,V[le].prototype);else{for(_t in qe=Object.hasOwnProperty.call(X,"hcEvents")&&X.hcEvents,Ge)X[_t]=void 0;S(X,V[le].prototype),qe?X.hcEvents=qe:delete X.hcEvents}}else U(17,!0,xe,{missingModuleFor:le});if(ge.forEach(function(Re){X[Re]=ge[Re]}),X.init(xe,R),Ue&&this.points){if(!1===(R=X.options).visible)st.graphic=1,st.dataLabel=1;else if(!X._hasPointLabels){const{marker:Re,dataLabels:Pe}=R;Ie=Ie.marker||{},!Re||!1!==Re.enabled&&Ie.symbol===Re.symbol&&Ie.height===Re.height&&Ie.width===Re.width||(st.graphic=1),Pe&&!1===Pe.enabled&&(st.dataLabel=1)}for(const Re of this.points)Re&&Re.series&&(Re.resolveColor(),Object.keys(st).length&&Re.destroyElements(st),!1===R.showInLegend&&Re.legendItem&&xe.legend.destroyItem(Re))}X.initialType=Ee,xe.linkSeries(),Le&&X.linkedSeries.length&&(X.isDirtyData=!0),T(this,"afterUpdate"),ue(Z,!0)&&xe.redraw(!!Ue&&void 0)}setName(R){this.name=this.options.name=this.userOptions.name=R,this.chart.isDirtyLegend=!0}hasOptionChanged(R){const Z=this.options[R],X=this.chart.options.plotOptions,xe=this.userOptions[R];return xe?Z!==xe:Z!==ue(X&&X[this.type]&&X[this.type][R],X&&X.series&&X.series[R],Z)}onMouseOver(){const R=this.chart,Z=R.hoverSeries;R.pointer.setHoverChartIndex(),Z&&Z!==this&&Z.onMouseOut(),this.options.events.mouseOver&&T(this,"mouseOver"),this.setState("hover"),R.hoverSeries=this}onMouseOut(){const R=this.options,Z=this.chart,X=Z.tooltip,xe=Z.hoverPoint;Z.hoverSeries=null,xe&&xe.onMouseOut(),this&&R.events.mouseOut&&T(this,"mouseOut"),!X||this.stickyTracking||X.shared&&!this.noSharedTooltip||X.hide(),Z.series.forEach(function(Ie){Ie.setState("",!0)})}setState(R,Z){const X=this;var xe=X.options;const Ie=X.graph,Ee=xe.inactiveOtherPoints,Le=xe.states,Ge=ue(Le[R||"normal"]&&Le[R||"normal"].animation,X.chart.options.chart.animation);let qe=xe.lineWidth,st=0,_t=xe.opacity;if(X.state!==(R=R||"")&&([X.group,X.markerGroup,X.dataLabelsGroup].forEach(function(ge){ge&&(X.state&&ge.removeClass("highcharts-series-"+X.state),R&&ge.addClass("highcharts-series-"+R))}),X.state=R,!X.chart.styledMode)){if(Le[R]&&!1===Le[R].enabled)return;if(R&&(qe=Le[R].lineWidth||qe+(Le[R].lineWidthPlus||0),_t=ue(Le[R].opacity,_t)),Ie&&!Ie.dashstyle&&q(qe))for(Ie.animate(xe={"stroke-width":qe},Ge);X["zone-graph-"+st];)X["zone-graph-"+st].animate(xe,Ge),st+=1;Ee||[X.group,X.markerGroup,X.dataLabelsGroup,X.labelBySeries].forEach(function(ge){ge&&ge.animate({opacity:_t},Ge)})}Z&&Ee&&X.points&&X.setAllPointsToState(R||void 0)}setAllPointsToState(R){this.points.forEach(function(Z){Z.setState&&Z.setState(R)})}setVisible(R,Z){const X=this,xe=X.chart,Ie=xe.options.chart.ignoreHiddenSeries,Le=(X.visible=R=X.options.visible=X.userOptions.visible=typeof R>"u"?!X.visible:R)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(Ge){X[Ge]&&X[Ge][Le]()}),(xe.hoverSeries===X||(xe.hoverPoint&&xe.hoverPoint.series)===X)&&X.onMouseOut(),X.legendItem&&xe.legend.colorizeItem(X,R),X.isDirty=!0,X.options.stacking&&xe.series.forEach(function(Ge){Ge.options.stacking&&Ge.visible&&(Ge.isDirty=!0)}),X.linkedSeries.forEach(function(Ge){Ge.setVisible(R,!1)}),Ie&&(xe.isDirtyBox=!0),T(X,Le),!1!==Z&&xe.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(R){this.selected=R=this.options.selected=typeof R>"u"?!this.selected:R,this.checkbox&&(this.checkbox.checked=R),T(this,R?"select":"unselect")}shouldShowTooltip(R,Z,X={}){return X.series=this,X.visiblePlotOnly=!0,this.chart.isInsidePlot(R,Z,X)}drawLegendSymbol(R,Z){var X;null===(X=Ve[this.options.legendSymbol||"rectangle"])||void 0===X||X.call(this,R,Z)}}return de.defaultOptions=Ce,de.types=oe.seriesTypes,de.registerType=oe.registerSeriesType,S(de.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:we,requireSorting:!0,sorted:!0}),oe.series=de,de}),Te(me,"Core/Chart/Chart.js",[me["Core/Animation/AnimationUtilities.js"],me["Core/Axis/Axis.js"],me["Core/Defaults.js"],me["Core/Templating.js"],me["Core/Foundation.js"],me["Core/Globals.js"],me["Core/Renderer/RendererRegistry.js"],me["Core/Series/Series.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Renderer/SVG/SVGRenderer.js"],me["Core/Time.js"],me["Core/Utilities.js"],me["Core/Renderer/HTML/AST.js"]],function(ve,be,Fe,ze,Ve,we,Ce,oe,Ae,Me,z,re,Q){const{animate:ne,animObject:H,setAnimation:ee}=ve,{defaultOptions:G,defaultTime:V}=Fe,{numberFormat:$}=ze,{registerEventOptions:te}=Ve,{charts:ie,doc:P,marginNames:I,svg:W,win:N}=we,{seriesTypes:U}=Ae,{addEvent:S,attr:D,createElement:T,css:B,defined:K,diffObjects:j,discardElement:E,erase:q,error:fe,extend:De,find:Oe,fireEvent:ue,getStyle:A,isArray:ae,isNumber:pe,isObject:de,isString:Ne,merge:R,objectEach:Z,pick:X,pInt:xe,relativeLength:Ie,removeEvent:Ee,splat:Le,syncTimeout:Ge,uniqueKey:qe}=re;class st{static chart(ge,le,Ue){return new st(ge,le,Ue)}constructor(ge,le,Ue){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.zooming=this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(ge,le,Ue)}getArgs(ge,le,Ue){Ne(ge)||ge.nodeName?(this.renderTo=ge,this.init(le,Ue)):this.init(ge,le)}setZoomOptions(){const ge=this.options.chart,le=ge.zooming;this.zooming=Object.assign(Object.assign({},le),{type:X(ge.zoomType,le.type),key:X(ge.zoomKey,le.key),pinchType:X(ge.pinchType,le.pinchType),singleTouch:X(ge.zoomBySingleTouch,le.singleTouch,!1),resetButton:R(le.resetButton,ge.resetZoomButton)})}init(ge,le){ue(this,"init",{args:arguments},function(){const Ue=R(G,ge),Re=Ue.chart;this.userOptions=De({},ge),this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=le,this.isResizing=0,this.options=Ue,this.axes=[],this.series=[],this.time=ge.time&&Object.keys(ge.time).length?new z(ge.time):we.time,this.numberFormatter=Re.numberFormatter||$,this.styledMode=Re.styledMode,this.hasCartesianSeries=Re.showAxes,this.index=ie.length,ie.push(this),we.chartCount++,te(this,Re),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),ue(this,"afterInit"),this.firstRender()})}initSeries(ge){var le=this.options.chart;const Ue=U[le=ge.type||le.type];return Ue||fe(17,!0,this,{missingModuleFor:le}),"function"==typeof(le=new Ue).init&&le.init(this,ge),le}setSeriesData(){this.getSeriesOrderByLinks().forEach(function(ge){ge.points||ge.data||!ge.enabledDataSorting||ge.setData(ge.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(ge,le){return ge.linkedSeries.length||le.linkedSeries.length?le.linkedSeries.length-ge.linkedSeries.length:0})}orderItems(ge,le=0){const Ue=this[ge],Re=this.options[ge]=Le(this.options[ge]).slice();if(ge=this.userOptions[ge]=this.userOptions[ge]?Le(this.userOptions[ge]).slice():[],this.hasRendered&&(Re.splice(le),ge.splice(le)),Ue)for(let Pe=le,Qe=Ue.length;Pe<Qe;++Pe)(le=Ue[Pe])&&(le.index=Pe,le instanceof oe&&(le.name=le.getName()),le.options.isInternal||(Re[Pe]=le.options,ge[Pe]=le.userOptions))}isInsidePlot(ge,le,Ue={}){const{inverted:Re,plotBox:Pe,plotLeft:Qe,plotTop:nt,scrollablePlotBox:It}=this;var kt=0;let Ct=0;Ue.visiblePlotOnly&&this.scrollingContainer&&({scrollLeft:kt,scrollTop:Ct}=this.scrollingContainer);const pt=Ue.series,on=Ue.visiblePlotOnly&&It||Pe;var Ft=Ue.inverted?le:ge;if(ge={x:Ft,y:le=Ue.inverted?ge:le,isInsidePlot:!0,options:Ue},!Ue.ignoreX){const Xt=pt&&(Re&&!this.polar?pt.yAxis:pt.xAxis)||{pos:Qe,len:1/0};(Ft=Ue.paneCoordinates?Xt.pos+Ft:Qe+Ft)>=Math.max(kt+Qe,Xt.pos)&&Ft<=Math.min(kt+Qe+on.width,Xt.pos+Xt.len)||(ge.isInsidePlot=!1)}return!Ue.ignoreY&&ge.isInsidePlot&&(kt=!Re&&Ue.axis&&!Ue.axis.isXAxis&&Ue.axis||pt&&(Re?pt.xAxis:pt.yAxis)||{pos:nt,len:1/0},(Ue=Ue.paneCoordinates?kt.pos+le:nt+le)>=Math.max(Ct+nt,kt.pos)&&Ue<=Math.min(Ct+nt+on.height,kt.pos+kt.len)||(ge.isInsidePlot=!1)),ue(this,"afterIsInsidePlot",ge),ge.isInsidePlot}redraw(ge){ue(this,"beforeRedraw");const le=this.hasCartesianSeries?this.axes:this.colorAxis||[],Ue=this.series,Re=this.pointer,Pe=this.legend,Qe=this.userOptions.legend,nt=this.renderer,It=nt.isHidden(),kt=[];let Ct,pt,Xt,on=this.isDirtyBox,Ft=this.isDirtyLegend;for(nt.rootFontSize=nt.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),ee(!!this.hasRendered&&ge,this),It&&this.temporaryDisplay(),this.layOutTitles(!1),ge=Ue.length;ge--;)if(Xt=Ue[ge],(Xt.options.stacking||Xt.options.centerInCategory)&&(pt=!0,Xt.isDirty)){Ct=!0;break}if(Ct)for(ge=Ue.length;ge--;)Xt=Ue[ge],Xt.options.stacking&&(Xt.isDirty=!0);Ue.forEach(function($t){$t.isDirty&&("point"===$t.options.legendType?("function"==typeof $t.updateTotals&&$t.updateTotals(),Ft=!0):Qe&&(Qe.labelFormatter||Qe.labelFormat)&&(Ft=!0)),$t.isDirtyData&&ue($t,"updatedData")}),Ft&&Pe&&Pe.options.enabled&&(Pe.render(),this.isDirtyLegend=!1),pt&&this.getStacks(),le.forEach(function($t){$t.updateNames(),$t.setScale()}),this.getMargins(),le.forEach(function($t){$t.isDirty&&(on=!0)}),le.forEach(function($t){const Tn=$t.min+","+$t.max;$t.extKey!==Tn&&($t.extKey=Tn,kt.push(function(){ue($t,"afterSetExtremes",De($t.eventArgs,$t.getExtremes())),delete $t.eventArgs})),(on||pt)&&$t.redraw()}),on&&this.drawChartBox(),ue(this,"predraw"),Ue.forEach(function($t){(on||$t.isDirty)&&$t.visible&&$t.redraw(),$t.isDirtyData=!1}),Re&&Re.reset(!0),nt.draw(),ue(this,"redraw"),ue(this,"render"),It&&this.temporaryDisplay(!0),kt.forEach(function($t){$t.call()})}get(ge){function le(Pe){return Pe.id===ge||Pe.options&&Pe.options.id===ge}const Ue=this.series;let Re=Oe(this.axes,le)||Oe(this.series,le);for(let Pe=0;!Re&&Pe<Ue.length;Pe++)Re=Oe(Ue[Pe].points||[],le);return Re}getAxes(){const ge=this.options;ue(this,"getAxes");for(const le of["xAxis","yAxis"]){const Ue=ge[le]=Le(ge[le]||{});for(const Re of Ue)new be(this,Re,le)}ue(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((ge,le)=>(le.getPointsCollection().forEach(Ue=>{X(Ue.selectedStaging,Ue.selected)&&ge.push(Ue)}),ge),[])}getSelectedSeries(){return this.series.filter(function(ge){return ge.selected})}setTitle(ge,le,Ue){this.applyDescription("title",ge),this.applyDescription("subtitle",le),this.applyDescription("caption",void 0),this.layOutTitles(Ue)}applyDescription(ge,le){const Ue=this,Re=this.options[ge]=R(this.options[ge],le);let Pe=this[ge];Pe&&le&&(this[ge]=Pe=Pe.destroy()),Re&&!Pe&&(Pe=this.renderer.text(Re.text,0,0,Re.useHTML).attr({align:Re.align,class:"highcharts-"+ge,zIndex:Re.zIndex||4}).add(),Pe.update=function(Qe,nt){Ue.applyDescription(ge,Qe),Ue.layOutTitles(nt)},this.styledMode||Pe.css(De("title"===ge?{fontSize:this.options.isStock?"1em":"1.2em"}:{},Re.style)),this[ge]=Pe)}layOutTitles(ge=!0){const le=[0,0,0],Ue=this.renderer,Re=this.spacingBox;["title","subtitle","caption"].forEach(function(Qe){const nt=this[Qe],It=this.options[Qe],kt=It.verticalAlign||"top";if(Qe="title"===Qe?"top"===kt?-3:0:"top"===kt?le[0]+2:0,nt){nt.css({width:(It.width||Re.width+(It.widthAdjust||0))+"px"});const Ct=Ue.fontMetrics(nt).b,pt=Math.round(nt.getBBox(It.useHTML).height);nt.align(De({y:"bottom"===kt?Ct:Qe+Ct,height:pt},It),!1,"spacingBox"),It.floating||("top"===kt?le[0]=Math.ceil(le[0]+pt):"bottom"===kt&&(le[2]=Math.ceil(le[2]+pt)))}},this),le[0]&&"top"===(this.options.title.verticalAlign||"top")&&(le[0]+=this.options.title.margin),le[2]&&"bottom"===this.options.caption.verticalAlign&&(le[2]+=this.options.caption.margin);const Pe=!this.titleOffset||this.titleOffset.join(",")!==le.join(",");this.titleOffset=le,ue(this,"afterLayOutTitles"),!this.isDirtyBox&&Pe&&(this.isDirtyBox=this.isDirtyLegend=Pe,this.hasRendered&&ge&&this.isDirtyBox&&this.redraw())}getContainerBox(){return{width:A(this.renderTo,"width",!0)||0,height:A(this.renderTo,"height",!0)||0}}getChartSize(){var ge=this.options.chart;const le=ge.width;ge=ge.height;const Ue=this.getContainerBox();this.chartWidth=Math.max(0,le||Ue.width||600),this.chartHeight=Math.max(0,Ie(ge,this.chartWidth)||(1<Ue.height?Ue.height:400)),this.containerBox=Ue}temporaryDisplay(ge){let le=this.renderTo;if(ge)for(;le&&le.style;)le.hcOrigStyle&&(B(le,le.hcOrigStyle),delete le.hcOrigStyle),le.hcOrigDetached&&(P.body.removeChild(le),le.hcOrigDetached=!1),le=le.parentNode;else for(;le&&le.style&&(P.body.contains(le)||le.parentNode||(le.hcOrigDetached=!0,P.body.appendChild(le)),("none"===A(le,"display",!1)||le.hcOricDetached)&&(le.hcOrigStyle={display:le.style.display,height:le.style.height,overflow:le.style.overflow},ge={display:"block",overflow:"hidden"},le!==this.renderTo&&(ge.height=0),B(le,ge),le.offsetWidth||le.style.setProperty("display","block","important")),le=le.parentNode,le!==P.body););}setClassName(ge){this.container.className="highcharts-container "+(ge||"")}getContainer(){const ge=this.options,le=ge.chart;var Ue=qe();let Re,Pe=this.renderTo;Pe||(this.renderTo=Pe=le.renderTo),Ne(Pe)&&(this.renderTo=Pe=P.getElementById(Pe)),Pe||fe(13,!0,this);var Qe=xe(D(Pe,"data-highcharts-chart"));pe(Qe)&&ie[Qe]&&ie[Qe].hasRendered&&ie[Qe].destroy(),D(Pe,"data-highcharts-chart",this.index),Pe.innerHTML=Q.emptyHTML,le.skipClone||Pe.offsetWidth||this.temporaryDisplay(),this.getChartSize(),Qe=this.chartWidth;const nt=this.chartHeight;if(B(Pe,{overflow:"hidden"}),this.styledMode||(Re=De({position:"relative",overflow:"hidden",width:Qe+"px",height:nt+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},le.style||{})),this.container=Ue=T("div",{id:Ue},Re,Pe),this._cursor=Ue.style.cursor,this.renderer=new(le.renderer||!W?Ce.getRendererType(le.renderer):Me)(Ue,Qe,nt,void 0,le.forExport,ge.exporting&&ge.exporting.allowHTML,this.styledMode),this.containerBox=this.getContainerBox(),ee(void 0,this),this.setClassName(le.className),this.styledMode)for(const It in ge.defs)this.renderer.definition(ge.defs[It]);else this.renderer.setStyle(le.style);this.renderer.chartIndex=this.index,ue(this,"afterGetContainer")}getMargins(ge){const{spacing:le,margin:Ue,titleOffset:Re}=this;this.resetMargins(),Re[0]&&!K(Ue[0])&&(this.plotTop=Math.max(this.plotTop,Re[0]+le[0])),Re[2]&&!K(Ue[2])&&(this.marginBottom=Math.max(this.marginBottom,Re[2]+le[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(Ue,le),ue(this,"getMargins"),ge||this.getAxisMargins()}getAxisMargins(){const ge=this,le=ge.axisOffset=[0,0,0,0],Ue=ge.colorAxis,Re=ge.margin,Pe=function(Qe){Qe.forEach(function(nt){nt.visible&&nt.getOffset()})};ge.hasCartesianSeries?Pe(ge.axes):Ue&&Ue.length&&Pe(Ue),I.forEach(function(Qe,nt){K(Re[nt])||(ge[Qe]+=le[nt])}),ge.setChartSize()}getOptions(){return j(this.userOptions,G)}reflow(ge){const le=this;var Ue=le.options.chart;Ue=K(Ue.width)&&K(Ue.height);const Re=le.containerBox,Pe=le.getContainerBox();delete le.pointer.chartPosition,!Ue&&!le.isPrinting&&Re&&Pe.width&&((Pe.width!==Re.width||Pe.height!==Re.height)&&(re.clearTimeout(le.reflowTimeout),le.reflowTimeout=Ge(function(){le.container&&le.setSize(void 0,void 0,!1)},ge?100:0)),le.containerBox=Pe)}setReflow(){const ge=this;var le=Ue=>{var Re;null!==(Re=ge.options)&&void 0!==Re&&Re.chart.reflow&&ge.hasLoaded&&ge.reflow(Ue)};"function"==typeof ResizeObserver?new ResizeObserver(le).observe(ge.renderTo):(le=S(N,"resize",le),S(this,"destroy",le))}setSize(ge,le,Ue){const Re=this,Pe=Re.renderer;Re.isResizing+=1,ee(Ue,Re),Ue=Pe.globalAnimation,Re.oldChartHeight=Re.chartHeight,Re.oldChartWidth=Re.chartWidth,typeof ge<"u"&&(Re.options.chart.width=ge),typeof le<"u"&&(Re.options.chart.height=le),Re.getChartSize(),Re.styledMode||(Ue?ne:B)(Re.container,{width:Re.chartWidth+"px",height:Re.chartHeight+"px"},Ue),Re.setChartSize(!0),Pe.setSize(Re.chartWidth,Re.chartHeight,Ue),Re.axes.forEach(function(Qe){Qe.isDirty=!0,Qe.setScale()}),Re.isDirtyLegend=!0,Re.isDirtyBox=!0,Re.layOutTitles(),Re.getMargins(),Re.redraw(Ue),Re.oldChartHeight=null,ue(Re,"resize"),Ge(function(){Re&&ue(Re,"endResize",null,function(){--Re.isResizing})},H(Ue).duration)}setChartSize(ge){var le=this.inverted;const Ue=this.renderer;var Re=this.chartWidth,Pe=this.chartHeight;const Qe=this.options.chart,nt=this.spacing,It=this.clipOffset;let kt,Ct,pt,on;this.plotLeft=kt=Math.round(this.plotLeft),this.plotTop=Ct=Math.round(this.plotTop),this.plotWidth=pt=Math.max(0,Math.round(Re-kt-this.marginRight)),this.plotHeight=on=Math.max(0,Math.round(Pe-Ct-this.marginBottom)),this.plotSizeX=le?on:pt,this.plotSizeY=le?pt:on,this.plotBorderWidth=Qe.plotBorderWidth||0,this.spacingBox=Ue.spacingBox={x:nt[3],y:nt[0],width:Re-nt[3]-nt[1],height:Pe-nt[0]-nt[2]},this.plotBox=Ue.plotBox={x:kt,y:Ct,width:pt,height:on},le=2*Math.floor(this.plotBorderWidth/2),Re=Math.ceil(Math.max(le,It[3])/2),Pe=Math.ceil(Math.max(le,It[0])/2),this.clipBox={x:Re,y:Pe,width:Math.floor(this.plotSizeX-Math.max(le,It[1])/2-Re),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(le,It[2])/2-Pe))},ge||(this.axes.forEach(function(Ft){Ft.setAxisSize(),Ft.setAxisTranslation()}),Ue.alignElements()),ue(this,"afterSetChartSize",{skipAxes:ge})}resetMargins(){ue(this,"resetMargins");const ge=this,le=ge.options.chart;["margin","spacing"].forEach(function(Ue){const Re=le[Ue],Pe=de(Re)?Re:[Re,Re,Re,Re];["Top","Right","Bottom","Left"].forEach(function(Qe,nt){ge[Ue][nt]=X(le[Ue+Qe],Pe[nt])})}),I.forEach(function(Ue,Re){ge[Ue]=X(ge.margin[Re],ge.spacing[Re])}),ge.axisOffset=[0,0,0,0],ge.clipOffset=[0,0,0,0]}drawChartBox(){const ge=this.options.chart,le=this.renderer,Ue=this.chartWidth,Re=this.chartHeight,Pe=this.styledMode,Qe=this.plotBGImage;var nt=ge.backgroundColor;const It=ge.plotBackgroundColor,kt=ge.plotBackgroundImage,Ct=this.plotLeft,pt=this.plotTop,on=this.plotWidth,Ft=this.plotHeight,Xt=this.plotBox,$t=this.clipRect,Tn=this.clipBox;let kn,Pi,vn=this.chartBackground,ai=this.plotBackground,zn=this.plotBorder,Bn="animate";vn||(this.chartBackground=vn=le.rect().addClass("highcharts-background").add(),Bn="attr"),Pe?kn=Pi=vn.strokeWidth():(kn=ge.borderWidth||0,Pi=kn+(ge.shadow?8:0),nt={fill:nt||"none"},(kn||vn["stroke-width"])&&(nt.stroke=ge.borderColor,nt["stroke-width"]=kn),vn.attr(nt).shadow(ge.shadow)),vn[Bn]({x:Pi/2,y:Pi/2,width:Ue-Pi-kn%2,height:Re-Pi-kn%2,r:ge.borderRadius}),Bn="animate",ai||(Bn="attr",this.plotBackground=ai=le.rect().addClass("highcharts-plot-background").add()),ai[Bn](Xt),Pe||(ai.attr({fill:It||"none"}).shadow(ge.plotShadow),kt&&(Qe?(kt!==Qe.attr("href")&&Qe.attr("href",kt),Qe.animate(Xt)):this.plotBGImage=le.image(kt,Ct,pt,on,Ft).add())),$t?$t.animate({width:Tn.width,height:Tn.height}):this.clipRect=le.clipRect(Tn),Bn="animate",zn||(Bn="attr",this.plotBorder=zn=le.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),Pe||zn.attr({stroke:ge.plotBorderColor,"stroke-width":ge.plotBorderWidth||0,fill:"none"}),zn[Bn](zn.crisp({x:Ct,y:pt,width:on,height:Ft},-zn.strokeWidth())),this.isDirtyBox=!1,ue(this,"afterDrawChartBox")}propFromSeries(){const ge=this,le=ge.options.chart,Ue=ge.options.series;let Re,Pe,Qe;["inverted","angular","polar"].forEach(function(nt){for(Pe=U[le.type],Qe=le[nt]||Pe&&Pe.prototype[nt],Re=Ue&&Ue.length;!Qe&&Re--;)(Pe=U[Ue[Re].type])&&Pe.prototype[nt]&&(Qe=!0);ge[nt]=Qe})}linkSeries(ge){const le=this,Ue=le.series;Ue.forEach(function(Re){Re.linkedSeries.length=0}),Ue.forEach(function(Re){let Pe=Re.options.linkedTo;Ne(Pe)&&(Pe=":previous"===Pe?le.series[Re.index-1]:le.get(Pe))&&Pe.linkedParent!==Re&&(Pe.linkedSeries.push(Re),Re.linkedParent=Pe,Pe.enabledDataSorting&&Re.setDataSortingOptions(),Re.visible=X(Re.options.visible,Pe.options.visible,Re.visible))}),ue(this,"afterLinkSeries",{isUpdating:ge})}renderSeries(){this.series.forEach(function(ge){ge.translate(),ge.render()})}render(){const ge=this.axes,le=this.colorAxis,Ue=this.renderer,Re=function(Ct){Ct.forEach(function(pt){pt.visible&&pt.render()})};let Pe=0;this.setTitle(),ue(this,"beforeMargins"),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize();const Qe=this.plotWidth;ge.some(function(Ct){if(Ct.horiz&&Ct.visible&&Ct.options.labels.enabled&&Ct.series.length)return Pe=21,!0});const nt=this.plotHeight=Math.max(this.plotHeight-Pe,0);ge.forEach(function(Ct){Ct.setScale()}),this.getAxisMargins();const It=1.1<Qe/this.plotWidth,kt=1.05<nt/this.plotHeight;(It||kt)&&(ge.forEach(function(Ct){(Ct.horiz&&It||!Ct.horiz&&kt)&&Ct.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?Re(ge):le&&le.length&&Re(le),this.seriesGroup||(this.seriesGroup=Ue.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(ge){const le=this,Ue=R(!0,this.options.credits,ge);Ue.enabled&&!this.credits&&(this.credits=this.renderer.text(Ue.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){Ue.href&&(N.location.href=Ue.href)}).attr({align:Ue.position.align,zIndex:8}),le.styledMode||this.credits.css(Ue.style),this.credits.add().align(Ue.position),this.credits.update=function(Re){le.credits=le.credits.destroy(),le.addCredits(Re)})}destroy(){const ge=this,le=ge.axes,Ue=ge.series,Re=ge.container,Pe=Re&&Re.parentNode;let Qe;for(ue(ge,"destroy"),ge.renderer.forExport?q(ie,ge):ie[ge.index]=void 0,we.chartCount--,ge.renderTo.removeAttribute("data-highcharts-chart"),Ee(ge),Qe=le.length;Qe--;)le[Qe]=le[Qe].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),Qe=Ue.length;Qe--;)Ue[Qe]=Ue[Qe].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(nt){const It=ge[nt];It&&It.destroy&&(ge[nt]=It.destroy())}),Re&&(Re.innerHTML=Q.emptyHTML,Ee(Re),Pe&&E(Re)),Z(ge,function(nt,It){delete ge[It]})}firstRender(){const ge=this,le=ge.options;ge.getContainer(),ge.resetMargins(),ge.setChartSize(),ge.propFromSeries(),ge.getAxes();const Ue=ae(le.series)?le.series:[];le.series=[],Ue.forEach(function(Re){ge.initSeries(Re)}),ge.linkSeries(),ge.setSeriesData(),ue(ge,"beforeRender"),ge.render(),ge.pointer.getChartPosition(),!ge.renderer.imgCount&&!ge.hasLoaded&&ge.onload(),ge.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(ge){ge&&typeof this.index<"u"&&ge.apply(this,[this])},this),ue(this,"load"),ue(this,"render"),K(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){const{options:ge,title:le}=this;ge&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(le&&le.element.textContent||"").replace(/</g,"&lt;")}),ge.accessibility&&!1===ge.accessibility.enabled||fe('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(ge,le,Ue){const Re=this;let Pe;return ge&&(le=X(le,!0),ue(Re,"addSeries",{options:ge},function(){Pe=Re.initSeries(ge),Re.isDirtyLegend=!0,Re.linkSeries(),Pe.enabledDataSorting&&Pe.setData(ge.data,!1),ue(Re,"afterAddSeries",{series:Pe}),le&&Re.redraw(Ue)})),Pe}addAxis(ge,le,Ue,Re){return this.createAxis(le?"xAxis":"yAxis",{axis:ge,redraw:Ue,animation:Re})}addColorAxis(ge,le,Ue){return this.createAxis("colorAxis",{axis:ge,redraw:le,animation:Ue})}createAxis(ge,le){return ge=new be(this,le.axis,ge),X(le.redraw,!0)&&this.redraw(le.animation),ge}showLoading(ge){const le=this,Ue=le.options,Re=Ue.loading,Pe=function(){Qe&&B(Qe,{left:le.plotLeft+"px",top:le.plotTop+"px",width:le.plotWidth+"px",height:le.plotHeight+"px"})};let Qe=le.loadingDiv,nt=le.loadingSpan;Qe||(le.loadingDiv=Qe=T("div",{className:"highcharts-loading highcharts-loading-hidden"},null,le.container)),nt||(le.loadingSpan=nt=T("span",{className:"highcharts-loading-inner"},null,Qe),S(le,"redraw",Pe)),Qe.className="highcharts-loading",Q.setElementHTML(nt,X(ge,Ue.lang.loading,"")),le.styledMode||(B(Qe,De(Re.style,{zIndex:10})),B(nt,Re.labelStyle),le.loadingShown||(B(Qe,{opacity:0,display:""}),ne(Qe,{opacity:Re.style.opacity||.5},{duration:Re.showDuration||0}))),le.loadingShown=!0,Pe()}hideLoading(){const ge=this.options,le=this.loadingDiv;le&&(le.className="highcharts-loading highcharts-loading-hidden",this.styledMode||ne(le,{opacity:0},{duration:ge.loading.hideDuration||100,complete:function(){B(le,{display:"none"})}})),this.loadingShown=!1}update(ge,le,Ue,Re){const Pe=this,Qe={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},nt=ge.isResponsiveOptions,It=[];let kt,Ct;ue(Pe,"update",{options:ge}),nt||Pe.setResponsive(!1,!0),ge=j(ge,Pe.options),Pe.userOptions=R(Pe.userOptions,ge);var pt=ge.chart;if(pt){if(R(!0,Pe.options.chart,pt),this.setZoomOptions(),"className"in pt&&Pe.setClassName(pt.className),"inverted"in pt||"polar"in pt||"type"in pt){Pe.propFromSeries();var on=!0}"alignTicks"in pt&&(on=!0),"events"in pt&&te(this,pt),Z(pt,function(Ft,Xt){-1!==Pe.propsRequireUpdateSeries.indexOf("chart."+Xt)&&(kt=!0),-1!==Pe.propsRequireDirtyBox.indexOf(Xt)&&(Pe.isDirtyBox=!0),-1!==Pe.propsRequireReflow.indexOf(Xt)&&(nt?Pe.isDirtyBox=!0:Ct=!0)}),!Pe.styledMode&&pt.style&&Pe.renderer.setStyle(Pe.options.chart.style||{})}!Pe.styledMode&&ge.colors&&(this.options.colors=ge.colors),ge.time&&(this.time===V&&(this.time=new z(ge.time)),R(!0,Pe.options.time,ge.time)),Z(ge,function(Ft,Xt){Pe[Xt]&&"function"==typeof Pe[Xt].update?Pe[Xt].update(Ft,!1):"function"==typeof Pe[Qe[Xt]]?Pe[Qe[Xt]](Ft):"colors"!==Xt&&-1===Pe.collectionsWithUpdate.indexOf(Xt)&&R(!0,Pe.options[Xt],ge[Xt]),"chart"!==Xt&&-1!==Pe.propsRequireUpdateSeries.indexOf(Xt)&&(kt=!0)}),this.collectionsWithUpdate.forEach(function(Ft){ge[Ft]&&(Le(ge[Ft]).forEach(function(Xt,$t){const Tn=K(Xt.id);let vn;Tn&&(vn=Pe.get(Xt.id)),!vn&&Pe[Ft]&&(vn=Pe[Ft][X(Xt.index,$t)])&&(Tn&&K(vn.options.id)||vn.options.isInternal)&&(vn=void 0),vn&&vn.coll===Ft&&(vn.update(Xt,!1),Ue&&(vn.touched=!0)),!vn&&Ue&&Pe.collectionsWithInit[Ft]&&(Pe.collectionsWithInit[Ft][0].apply(Pe,[Xt].concat(Pe.collectionsWithInit[Ft][1]||[]).concat([!1])).touched=!0)}),Ue&&Pe[Ft].forEach(function(Xt){Xt.touched||Xt.options.isInternal?delete Xt.touched:It.push(Xt)}))}),It.forEach(function(Ft){Ft.chart&&Ft.remove&&Ft.remove(!1)}),on&&Pe.axes.forEach(function(Ft){Ft.update({},!1)}),kt&&Pe.getSeriesOrderByLinks().forEach(function(Ft){Ft.chart&&Ft.update({},!1)},this),on=pt&&pt.width,pt=pt&&(Ne(pt.height)?Ie(pt.height,on||Pe.chartWidth):pt.height),Ct||pe(on)&&on!==Pe.chartWidth||pe(pt)&&pt!==Pe.chartHeight?Pe.setSize(on,pt,Re):X(le,!0)&&Pe.redraw(Re),ue(Pe,"afterUpdate",{options:ge,redraw:le,animation:Re})}setSubtitle(ge,le){this.applyDescription("subtitle",ge),this.layOutTitles(le)}setCaption(ge,le){this.applyDescription("caption",ge),this.layOutTitles(le)}showResetZoom(){function ge(){le.zoomOut()}const le=this,Ue=G.lang,Re=le.zooming.resetButton,Pe=Re.theme,Qe="chart"===Re.relativeTo||"spacingBox"===Re.relativeTo?null:"scrollablePlotBox";ue(this,"beforeShowResetZoom",null,function(){le.resetZoomButton=le.renderer.button(Ue.resetZoom,null,null,ge,Pe).attr({align:Re.position.align,title:Ue.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(Re.position,!1,Qe)}),ue(this,"afterShowResetZoom")}zoomOut(){ue(this,"selection",{resetSelection:!0},this.zoom)}zoom(ge){const le=this,Ue=le.pointer;let Pe,Re=!1;!ge||ge.resetSelection?(le.axes.forEach(function(nt){Pe=nt.zoom()}),Ue.initiated=!1):ge.xAxis.concat(ge.yAxis).forEach(function(nt){const It=nt.axis;(Ue[It.isXAxis?"zoomX":"zoomY"]&&K(Ue.mouseDownX)&&K(Ue.mouseDownY)&&le.isInsidePlot(Ue.mouseDownX-le.plotLeft,Ue.mouseDownY-le.plotTop,{axis:It})||!K(le.inverted?Ue.mouseDownX:Ue.mouseDownY))&&(Pe=It.zoom(nt.min,nt.max),It.displayBtn&&(Re=!0))});const Qe=le.resetZoomButton;Re&&!Qe?le.showResetZoom():!Re&&de(Qe)&&(le.resetZoomButton=Qe.destroy()),Pe&&le.redraw(X(le.options.chart.animation,ge&&ge.animation,100>le.pointCount))}pan(ge,le){const Ue=this,Re=Ue.hoverPoints;le="object"==typeof le?le:{enabled:le,type:"x"};const Pe=Ue.options.chart;Pe&&Pe.panning&&(Pe.panning=le);const Qe=le.type;let nt;ue(this,"pan",{originalEvent:ge},function(){Re&&Re.forEach(function(Ct){Ct.setState()});let It=Ue.xAxis;"xy"===Qe?It=It.concat(Ue.yAxis):"y"===Qe&&(It=Ue.yAxis);const kt={};It.forEach(function(Ct){if(Ct.options.panningEnabled&&!Ct.options.isInternal){var pt=Ct.horiz,on=ge[pt?"chartX":"chartY"],Ft=Ue[pt=pt?"mouseDownX":"mouseDownY"],Xt=Ct.minPointOffset||0,$t=Ct.reversed&&!Ue.inverted||!Ct.reversed&&Ue.inverted?-1:1,Tn=Ct.getExtremes(),vn=Ct.toValue(Ft-on,!0)+Xt*$t,ai=Ct.toValue(Ft+Ct.len-on,!0)-(Xt*$t||Ct.isXAxis&&Ct.pointRangePadding||0),zn=ai<vn;$t=Ct.hasVerticalPanning(),Ft=zn?ai:vn,vn=zn?vn:ai;var kn=Ct.panningState;!$t||Ct.isXAxis||kn&&!kn.isDirty||Ct.series.forEach(function(Pi){var Bn=Pi.getProcessedData(!0);Bn=Pi.getExtremes(Bn.yData,!0),kn||(kn={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),pe(Bn.dataMin)&&pe(Bn.dataMax)&&(kn.startMin=Math.min(X(Pi.options.threshold,1/0),Bn.dataMin,kn.startMin),kn.startMax=Math.max(X(Pi.options.threshold,-1/0),Bn.dataMax,kn.startMax))}),$t=Math.min(X(kn&&kn.startMin,Tn.dataMin),Xt?Tn.min:Ct.toValue(Ct.toPixels(Tn.min)-Ct.minPixelPadding)),ai=Math.max(X(kn&&kn.startMax,Tn.dataMax),Xt?Tn.max:Ct.toValue(Ct.toPixels(Tn.max)+Ct.minPixelPadding)),Ct.panningState=kn,Ct.isOrdinal||(0<(Xt=$t-Ft)&&(vn+=Xt,Ft=$t),0<(Xt=vn-ai)&&(vn=ai,Ft-=Xt),Ct.series.length&&Ft!==Tn.min&&vn!==Tn.max&&Ft>=$t&&vn<=ai&&(Ct.setExtremes(Ft,vn,!1,!1,{trigger:"pan"}),!Ue.resetZoomButton&&Ft!==$t&&vn!==ai&&Qe.match("y")&&(Ue.showResetZoom(),Ct.displayBtn=!1),nt=!0),kt[pt]=on)}}),Z(kt,(Ct,pt)=>{Ue[pt]=Ct}),nt&&Ue.redraw(!1),B(Ue.container,{cursor:"move"})})}}return De(st.prototype,{callbacks:[],collectionsWithInit:{xAxis:[st.prototype.addAxis,[!0]],yAxis:[st.prototype.addAxis,[!1]],series:[st.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),st}),Te(me,"Extensions/ScrollablePlotArea.js",[me["Core/Animation/AnimationUtilities.js"],me["Core/Axis/Axis.js"],me["Core/Chart/Chart.js"],me["Core/Series/Series.js"],me["Core/Renderer/RendererRegistry.js"],me["Core/Utilities.js"]],function(ve,be,Fe,ze,Ve,we){const{stop:Ce}=ve,{addEvent:oe,createElement:Ae,defined:Me,merge:z,pick:re}=we;oe(Fe,"afterSetChartSize",function(Q){var ne=this.options.chart.scrollablePlotArea,H=ne&&ne.minWidth;let ee;ne=ne&&ne.minHeight,this.renderer.forExport||(H?(this.scrollablePixelsX=H=Math.max(0,H-this.chartWidth))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=z(this.plotBox),this.plotBox.width=this.plotWidth+=H,this.inverted?this.clipBox.height+=H:this.clipBox.width+=H,ee={1:{name:"right",value:H}}):ne&&(this.scrollablePixelsY=H=Math.max(0,ne-this.chartHeight),Me(H)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=z(this.plotBox),this.plotBox.height=this.plotHeight+=H,this.inverted?this.clipBox.width+=H:this.clipBox.height+=H,ee={2:{name:"bottom",value:H}})),ee&&!Q.skipAxes&&this.axes.forEach(function(G){ee[G.side]?G.getPlotLinePath=function(){let te,V=ee[G.side].name,$=this[V];return this[V]=$-ee[G.side].value,te=be.prototype.getPlotLinePath.apply(this,arguments),this[V]=$,te}:(G.setAxisSize(),G.setAxisTranslation())}))}),oe(Fe,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),Fe.prototype.setUpScrolling=function(){const Q={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};let ne;this.scrollablePixelsX&&(Q.overflowX="auto"),this.scrollablePixelsY&&(Q.overflowY="auto"),this.scrollingParent=Ae("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=Ae("div",{className:"highcharts-scrolling"},Q,this.scrollingParent),oe(this.scrollingContainer,"scroll",()=>{this.pointer&&(delete this.pointer.chartPosition,this.hoverPoint&&(ne=this.hoverPoint),this.pointer.runPointActions(void 0,ne,!0))}),this.innerContainer=Ae("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},Fe.prototype.moveFixedElements=function(){let ee,Q=this.container,ne=this.fixedRenderer,H=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?ee=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?ee=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(ee=".highcharts-yaxis"),ee&&H.push(`${ee}:not(.highcharts-radial-axis)`,`${ee}-labels:not(.highcharts-radial-axis-labels)`),H.forEach(function(G){[].forEach.call(Q.querySelectorAll(G),function(V){(V.namespaceURI===ne.SVG_NS?ne.box:ne.box.parentNode).appendChild(V),V.style.pointerEvents="auto"})})},Fe.prototype.applyFixed=function(){var Q=!this.fixedDiv,ne=this.options.chart,H=ne.scrollablePlotArea,ee=Ve.getRendererType();Q?(this.fixedDiv=Ae("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(ne.style&&ne.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=ne=new ee(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=ne.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":re(H.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),oe(this,"afterShowResetZoom",this.moveFixedElements),oe(this,"afterApplyDrilldown",this.moveFixedElements),oe(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||Q)&&(this.scrollableDirty=!1,this.moveFixedElements()),ne=this.chartWidth+(this.scrollablePixelsX||0),ee=this.chartHeight+(this.scrollablePixelsY||0),Ce(this.container),this.container.style.width=ne+"px",this.container.style.height=ee+"px",this.renderer.boxWrapper.attr({width:ne,height:ee,viewBox:[0,0,ne,ee].join(" ")}),this.chartBackground.attr({width:ne,height:ee}),this.scrollingContainer.style.height=this.chartHeight+"px",Q&&(H.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*H.scrollPositionX),H.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*H.scrollPositionY)),Q=this.plotTop-(ee=this.axisOffset)[0]-1,H=this.plotLeft-ee[3]-1,ne=this.plotTop+this.plotHeight+ee[2]+1,ee=this.plotLeft+this.plotWidth+ee[1]+1;let G=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),V=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);Q=this.scrollablePixelsX?[["M",0,Q],["L",this.plotLeft-1,Q],["L",this.plotLeft-1,ne],["L",0,ne],["Z"],["M",G,Q],["L",this.chartWidth,Q],["L",this.chartWidth,ne],["L",G,ne],["Z"]]:this.scrollablePixelsY?[["M",H,0],["L",H,this.plotTop-1],["L",ee,this.plotTop-1],["L",ee,0],["Z"],["M",H,V],["L",H,this.chartHeight],["L",ee,this.chartHeight],["L",ee,V],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:Q})},oe(be,"afterInit",function(){this.chart.scrollableDirty=!0}),oe(ze,"show",function(){this.chart.scrollableDirty=!0})}),Te(me,"Core/Axis/Stacking/StackItem.js",[me["Core/Templating.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Utilities.js"]],function(ve,be,Fe){const{format:ze}=ve,{series:Ve}=be,{destroyObjectProperties:we,fireEvent:Ce,isNumber:oe,pick:Ae}=Fe;return class Me{constructor(re,Q,ne,H,ee){const G=re.chart.inverted,V=re.reversed;this.axis=re,re=this.isNegative=!!ne!=!!V,this.options=Q=Q||{},this.x=H,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=ee,this.rightCliff=this.leftCliff=0,this.alignOptions={align:Q.align||(G?re?"left":"right":"center"),verticalAlign:Q.verticalAlign||(G?"middle":re?"bottom":"top"),y:Q.y,x:Q.x},this.textAlign=Q.textAlign||(G?re?"right":"left":"center")}destroy(){we(this,this.axis)}render(re){const Q=this.axis.chart,ne=this.options;var H=ne.format;H=H?ze(H,this,Q):ne.formatter.call(this),this.label?this.label.attr({text:H,visibility:"hidden"}):(this.label=Q.renderer.label(H,null,void 0,ne.shape,void 0,void 0,ne.useHTML,!1,"stack-labels"),H={r:ne.borderRadius||0,text:H,padding:Ae(ne.padding,5),visibility:"hidden"},Q.styledMode||(H.fill=ne.backgroundColor,H.stroke=ne.borderColor,H["stroke-width"]=ne.borderWidth,this.label.css(ne.style||{})),this.label.attr(H),this.label.added||this.label.add(re)),this.label.labelrank=Q.plotSizeY,Ce(this,"afterRender")}setOffset(re,Q,ne,H,ee,G){const{alignOptions:V,axis:$,label:te,options:ie,textAlign:P}=this,I=$.chart;ne=this.getStackBox({xOffset:re,width:Q,boxBottom:ne,boxTop:H,defaultX:ee,xAxis:G});var{verticalAlign:W}=V;if(te&&ne){H=te.getBBox(),ee=te.padding,G="justify"===Ae(ie.overflow,"justify"),V.x=ie.x||0,V.y=ie.y||0;const{x:N,y:U}=this.adjustStackPosition({labelBox:H,verticalAlign:W,textAlign:P});ne.x-=N,ne.y-=U,te.align(V,!1,ne),(W=I.isInsidePlot(te.alignAttr.x+V.x+N,te.alignAttr.y+V.y+U))||(G=!1),G&&Ve.prototype.justifyDataLabel.call($,te,V,te.alignAttr,H,ne),te.attr({x:te.alignAttr.x,y:te.alignAttr.y,rotation:ie.rotation,rotationOriginX:H.width/2,rotationOriginY:H.height/2}),Ae(!G&&ie.crop,!0)&&(W=oe(te.x)&&oe(te.y)&&I.isInsidePlot(te.x-ee+te.width,te.y)&&I.isInsidePlot(te.x+ee,te.y)),te[W?"show":"hide"]()}Ce(this,"afterSetOffset",{xOffset:re,width:Q})}adjustStackPosition({labelBox:re,verticalAlign:Q,textAlign:ne}){const H={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:re.width/2+re.width/2*H[ne],y:re.height/2*H[Q]}}getStackBox(re){var Q=this.axis;const ne=Q.chart,{boxTop:H,defaultX:ee,xOffset:G,width:V,boxBottom:$}=re;var te=Q.stacking.usePercentage?100:Ae(H,this.total,0);te=Q.toPixels(te);const ie=Ae(ee,(re=re.xAxis||ne.xAxis[0]).translate(this.x))+G;Q=Q.toPixels($||oe(Q.min)&&Q.logarithmic&&Q.logarithmic.lin2log(Q.min)||0),Q=Math.abs(te-Q);const P=this.isNegative;return ne.inverted?{x:(P?te:te-Q)-ne.plotLeft,y:re.height-ie-V,width:Q,height:V}:{x:ie+re.transB-ne.plotLeft,y:(P?te-Q:te)-ne.plotTop,width:V,height:Q}}}}),Te(me,"Core/Axis/Stacking/StackingAxis.js",[me["Core/Animation/AnimationUtilities.js"],me["Core/Axis/Axis.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Axis/Stacking/StackItem.js"],me["Core/Utilities.js"]],function(ve,be,Fe,ze,Ve){function we(){const S=this,D=S.inverted;S.yAxis.forEach(T=>{T.stacking&&T.stacking.stacks&&T.hasVisibleSeries&&(T.stacking.oldStacks=T.stacking.stacks)}),S.series.forEach(T=>{const B=T.xAxis&&T.xAxis.options||{};!T.options.stacking||!0!==T.visible&&!1!==S.options.chart.ignoreHiddenSeries||(T.stackKey=[T.type,W(T.options.stack,""),D?B.top:B.left,D?B.height:B.width].join())})}function Ce(){const S=this.stacking;if(S){var D=S.stacks;I(D,function(T,B){$(T),D[B]=null}),S&&S.stackTotalGroup&&S.stackTotalGroup.destroy()}}function oe(){"yAxis"!==this.coll||this.stacking||(this.stacking=new N(this))}function Ae(S,D,T,B){return!V(S)||S.x!==D||B&&S.stackKey!==B?S={x:D,index:0,key:B,stackKey:B}:S.index++,S.key=[T,D,S.index].join(),S}function Me(){const S=this,D=S.stackKey,T=S.yAxis.stacking.stacks,B=S.processedXData,K=S[S.options.stacking+"Stacker"];let j;K&&[D,"-"+D].forEach(E=>{let fe,q=B.length;for(;q--;){var De=B[q];j=S.getStackIndicator(j,De,S.index,E),(fe=(De=T[E]&&T[E][De])&&De.points[j.key])&&K.call(S,fe,De,q)}})}function z(S,D,T){S[0]=G(S[0]*(D=D.total?100/D.total:0)),S[1]=G(S[1]*D),this.stackedYData[T]=S[1]}function re(){const S=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?H.setStackedPoints.call(this,"group"):S&&I(S.stacks,(D,T)=>{"group"===T.slice(-5)&&(I(D,B=>B.destroy()),delete S.stacks[T])})}function Q(S){var D=this.chart;const T=S||this.options.stacking;if(T&&(!0===this.visible||!1===D.options.chart.ignoreHiddenSeries)){var B=this.processedXData,K=this.processedYData,j=[],E=K.length,q=this.options,fe=q.threshold,De=W(q.startFromThreshold&&fe,0);q=q.stack;var pe,de,Oe="-"+(S=S?`${this.type},${T}`:this.stackKey),ue=this.negStacks,A=(D="group"===T?D.yAxis[0]:this.yAxis).stacking.stacks,ae=D.stacking.oldStacks;for(D.stacking.stacksTouched+=1,de=0;de<E;de++){var Ne=B[de],R=K[de],Z=this.getStackIndicator(Z,Ne,this.index),X=Z.key,xe=(pe=ue&&R<(De?0:fe))?Oe:S;A[xe]||(A[xe]={}),A[xe][Ne]||(ae[xe]&&ae[xe][Ne]?(A[xe][Ne]=ae[xe][Ne],A[xe][Ne].total=null):A[xe][Ne]=new ze(D,D.options.stackLabels,!!pe,Ne,q)),xe=A[xe][Ne],null!==R?(xe.points[X]=xe.points[this.index]=[W(xe.cumulative,De)],V(xe.cumulative)||(xe.base=X),xe.touched=D.stacking.stacksTouched,0<Z.index&&!1===this.singleStacks&&(xe.points[X][0]=xe.points[this.index+","+Ne+",0"][0])):xe.points[X]=xe.points[this.index]=null,"percent"===T?(pe=pe?S:Oe,xe.total=ue&&A[pe]&&A[pe][Ne]?(pe=A[pe][Ne]).total=Math.max(pe.total,xe.total)+Math.abs(R)||0:G(xe.total+(Math.abs(R)||0))):"group"===T?(ie(R)&&(R=R[0]),null!==R&&(xe.total=(xe.total||0)+1)):xe.total=G(xe.total+(R||0)),xe.cumulative="group"===T?(xe.total||1)-1:G(W(xe.cumulative,De)+(R||0)),null!==R&&(xe.points[X].push(xe.cumulative),j[de]=xe.cumulative,xe.hasValidPoints=!0)}"percent"===T&&(D.stacking.usePercentage=!0),"group"!==T&&(this.stackedYData=j),D.stacking.oldStacks={}}}const{getDeferredAnimation:ne}=ve,{series:{prototype:H}}=Fe,{addEvent:ee,correctFloat:G,defined:V,destroyObjectProperties:$,fireEvent:te,isArray:ie,isNumber:P,objectEach:I,pick:W}=Ve;class N{constructor(D){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=D}buildStacks(){const D=this.axis,T=D.series,B=D.options.reversedStacks,K=T.length;let j,E;for(this.usePercentage=!1,E=K;E--;)j=T[B?E:K-E-1],j.setStackedPoints(),j.setGroupedPoints();for(E=0;E<K;E++)T[E].modifyStacks();te(D,"afterBuildStacks")}cleanStacks(){let D;this.oldStacks&&(D=this.stacks=this.oldStacks),I(D,function(T){I(T,function(B){B.cumulative=B.total})})}resetStacks(){I(this.stacks,D=>{I(D,(T,B)=>{P(T.touched)&&T.touched<this.stacksTouched?(T.destroy(),delete D[B]):(T.total=null,T.cumulative=null)})})}renderStackTotals(){var D=this.axis;const T=D.chart,B=T.renderer,K=this.stacks;D=ne(T,D.options.stackLabels&&D.options.stackLabels.animation||!1);const j=this.stackTotalGroup=this.stackTotalGroup||B.g("stack-labels").attr({zIndex:6,opacity:0}).add();j.translate(T.plotLeft,T.plotTop),I(K,function(E){I(E,function(q){q.render(j)})}),j.animate({opacity:1},D)}}var U;return function(S){const D=[];S.compose=function(T,B,K){Ve.pushUnique(D,T)&&(ee(T,"init",oe),ee(T,"destroy",Ce)),Ve.pushUnique(D,B)&&(B.prototype.getStacks=we),Ve.pushUnique(D,K)&&((T=K.prototype).getStackIndicator=Ae,T.modifyStacks=Me,T.percentStacker=z,T.setGroupedPoints=re,T.setStackedPoints=Q)}}(U||(U={})),U}),Te(me,"Series/Line/LineSeries.js",[me["Core/Series/Series.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Utilities.js"]],function(ve,be,Fe){const{defined:ze,merge:Ve}=Fe;class we extends ve{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){const oe=this,Ae=this.options,Me=(this.gappedPath||this.getGraphPath).call(this),z=this.chart.styledMode;let re=[["graph","highcharts-graph"]];z||re[0].push(Ae.lineColor||this.color||"#cccccc",Ae.dashStyle),re=oe.getZonesGraphs(re),re.forEach(function(Q,ne){var H=Q[0];let ee=oe[H];const G=ee?"animate":"attr";ee?(ee.endX=oe.preventGraphAnimation?null:Me.xMap,ee.animate({d:Me})):Me.length&&(oe[H]=ee=oe.chart.renderer.path(Me).addClass(Q[1]).attr({zIndex:1}).add(oe.group)),ee&&!z&&(H={stroke:Q[2],"stroke-width":Ae.lineWidth||0,fill:oe.fillGraph&&oe.color||"none"},Q[3]?H.dashstyle=Q[3]:"square"!==Ae.linecap&&(H["stroke-linecap"]=H["stroke-linejoin"]="round"),ee[G](H).shadow(2>ne&&Ae.shadow)),ee&&(ee.startX=Me.xMap,ee.isArea=Me.isArea)})}getGraphPath(oe,Ae,Me){const z=this,re=z.options,Q=[],ne=[];let H,ee=re.step;const G=(oe=oe||z.points).reversed;return G&&oe.reverse(),(ee={right:1,center:2}[ee]||ee&&3)&&G&&(ee=4-ee),(oe=this.getValidPoints(oe,!1,!(re.connectNulls&&!Ae&&!Me))).forEach(function(V,$){const te=V.plotX,ie=V.plotY,P=oe[$-1],I=V.isNull||"number"!=typeof ie;(V.leftCliff||P&&P.rightCliff)&&!Me&&(H=!0),I&&!ze(Ae)&&0<$?H=!re.connectNulls:I&&!Ae?H=!0:(0===$||H?$=[["M",V.plotX,V.plotY]]:z.getPointSpline?$=[z.getPointSpline(oe,V,$)]:ee?($=1===ee?[["L",P.plotX,ie]]:2===ee?[["L",(P.plotX+te)/2,P.plotY],["L",(P.plotX+te)/2,ie]]:[["L",te,P.plotY]]).push(["L",te,ie]):$=[["L",te,ie]],ne.push(V.x),ee&&(ne.push(V.x),2===ee&&ne.push(V.x)),Q.push.apply(Q,$),H=!1)}),Q.xMap=ne,z.graphPath=Q}getZonesGraphs(oe){return this.zones.forEach(function(Ae,Me){Me=["zone-graph-"+Me,"highcharts-graph highcharts-zone-graph-"+Me+" "+(Ae.className||"")],this.chart.styledMode||Me.push(Ae.color||this.color,Ae.dashStyle||this.options.dashStyle),oe.push(Me)},this),oe}}return we.defaultOptions=Ve(ve.defaultOptions,{legendSymbol:"lineMarker"}),be.registerSeriesType("line",we),we}),Te(me,"Series/Area/AreaSeries.js",[me["Core/Color/Color.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Utilities.js"]],function(ve,be,Fe){const{seriesTypes:{line:ze}}=be,{extend:Ve,merge:we,objectEach:Ce,pick:oe}=Fe;class Ae extends ze{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){this.areaPath=[],super.drawGraph.apply(this);const z=this,re=this.areaPath,Q=this.options,ne=[["area","highcharts-area",this.color,Q.fillColor]];this.zones.forEach(function(H,ee){ne.push(["zone-area-"+ee,"highcharts-area highcharts-zone-area-"+ee+" "+H.className,H.color||z.color,H.fillColor||Q.fillColor])}),ne.forEach(function(H){const ee=H[0],G={};let V=z[ee];const $=V?"animate":"attr";V?(V.endX=z.preventGraphAnimation?null:re.xMap,V.animate({d:re})):(G.zIndex=0,V=z[ee]=z.chart.renderer.path(re).addClass(H[1]).add(z.group),V.isArea=!0),z.chart.styledMode||(H[3]?G.fill=H[3]:(G.fill=H[2],G["fill-opacity"]=oe(Q.fillOpacity,.75))),V[$](G),V.startX=re.xMap,V.shiftUnit=Q.step?2:1})}getGraphPath(z){var re=ze.prototype.getGraphPath,Q=this.options;const ne=Q.stacking,H=this.yAxis,ee=[],G=[],V=this.index,$=H.stacking.stacks[this.stackKey],te=Q.threshold,ie=Math.round(H.getThreshold(Q.threshold));Q=oe(Q.connectNulls,"percent"===ne);var P=function(U,S,D){var T=z[U];U=ne&&$[T.x].points[V];const B=T[D+"Null"]||0;let K,j;D=T[D+"Cliff"]||0,T=!0,D||B?(K=(B?U[0]:U[1])+D,j=U[0]+D,T=!!B):!ne&&z[S]&&z[S].isNull&&(K=j=te),typeof K<"u"&&(G.push({plotX:I,plotY:null===K?ie:H.getThreshold(K),isNull:T,isCliff:!0}),ee.push({plotX:I,plotY:null===j?ie:H.getThreshold(j),doCurve:!1}))};let I;z=z||this.points,ne&&(z=this.getStackPoints(z));for(let U=0,S=z.length;U<S;++U){ne||(z[U].leftCliff=z[U].rightCliff=z[U].leftNull=z[U].rightNull=void 0);var W=z[U].isNull;I=oe(z[U].rectPlotX,z[U].plotX);var N=ne?oe(z[U].yBottom,ie):ie;(!W||Q)&&(Q||P(U,U-1,"left"),W&&!ne&&Q||(G.push(z[U]),ee.push({x:U,plotX:I,plotY:N})),Q||P(U,U+1,"right"))}return P=re.call(this,G,!0,!0),ee.reversed=!0,(N=(W=re.call(this,ee,!0,!0))[0])&&"M"===N[0]&&(W[0]=["L",N[1],N[2]]),(W=P.concat(W)).length&&W.push(["Z"]),re=re.call(this,G,!1,Q),W.xMap=P.xMap,this.areaPath=W,re}getStackPoints(z){const re=this,Q=[],ne=[],H=this.xAxis,ee=this.yAxis,G=ee.stacking.stacks[this.stackKey],V={},$=ee.series,te=$.length,ie=ee.options.reversedStacks?1:-1,P=$.indexOf(re);if(z=z||this.points,this.options.stacking){for(let W=0;W<z.length;W++)z[W].leftNull=z[W].rightNull=void 0,V[z[W].x]=z[W];Ce(G,function(W,N){null!==W.total&&ne.push(N)}),ne.sort(function(W,N){return W-N});const I=$.map(W=>W.visible);ne.forEach(function(W,N){let S,D,U=0;if(V[W]&&!V[W].isNull)Q.push(V[W]),[-1,1].forEach(function(T){const B=1===T?"rightNull":"leftNull",K=G[ne[N+T]];let j=0;if(K){let E=P;for(;0<=E&&E<te;){const q=$[E].index;S=K.points[q],S||(q===re.index?V[W][B]=!0:I[E]&&(D=G[W].points[q])&&(j-=D[1]-D[0])),E+=ie}}V[W][1===T?"rightCliff":"leftCliff"]=j});else{let T=P;for(;0<=T&&T<te;){if(S=G[W].points[$[T].index]){U=S[1];break}T+=ie}U=oe(U,0),U=ee.translate(U,0,1,0,1),Q.push({isNull:!0,plotX:H.translate(W,0,0,0,1),x:W,plotY:U,yBottom:U})}})}return Q}}return Ae.defaultOptions=we(ze.defaultOptions,{threshold:0,legendSymbol:"rectangle"}),Ve(Ae.prototype,{singleStacks:!1}),be.registerSeriesType("area",Ae),Ae}),Te(me,"Series/Spline/SplineSeries.js",[me["Core/Series/SeriesRegistry.js"],me["Core/Utilities.js"]],function(ve,be){const{line:Fe}=ve.seriesTypes,{merge:ze,pick:Ve}=be;class we extends Fe{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getPointSpline(oe,Ae,Me){const z=Ae.plotX||0,re=Ae.plotY||0,Q=oe[Me-1];let ne,H,ee;if(Me=oe[Me+1],Q&&!Q.isNull&&!1!==Q.doCurve&&!Ae.isCliff&&Me&&!Me.isNull&&!1!==Me.doCurve&&!Ae.isCliff){var G=Me.plotX||0;let V=0;ne=(1.5*z+(Q.plotX||0))/2.5,H=(1.5*re+(oe=Q.plotY||0))/2.5,ee=(1.5*re+(Me=Me.plotY||0))/2.5,(G=(1.5*z+G)/2.5)!==ne&&(V=(ee-H)*(G-z)/(G-ne)+re-ee),H+=V,ee+=V,H>oe&&H>re?(H=Math.max(oe,re),ee=2*re-H):H<oe&&H<re&&(H=Math.min(oe,re),ee=2*re-H),ee>Me&&ee>re?(ee=Math.max(Me,re),H=2*re-ee):ee<Me&&ee<re&&(ee=Math.min(Me,re),H=2*re-ee),Ae.rightContX=G,Ae.rightContY=ee}return Ae=["C",Ve(Q.rightContX,Q.plotX,0),Ve(Q.rightContY,Q.plotY,0),Ve(ne,z,0),Ve(H,re,0),z,re],Q.rightContX=Q.rightContY=void 0,Ae}}return we.defaultOptions=ze(Fe.defaultOptions),ve.registerSeriesType("spline",we),we}),Te(me,"Series/AreaSpline/AreaSplineSeries.js",[me["Series/Spline/SplineSeries.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Utilities.js"]],function(ve,be,Fe){const{area:ze,area:{prototype:Ve}}=be.seriesTypes,{extend:we,merge:Ce}=Fe;class oe extends ve{constructor(){super(...arguments),this.options=this.points=this.data=void 0}}return oe.defaultOptions=Ce(ve.defaultOptions,ze.defaultOptions),we(oe.prototype,{getGraphPath:Ve.getGraphPath,getStackPoints:Ve.getStackPoints,drawGraph:Ve.drawGraph}),be.registerSeriesType("areaspline",oe),oe}),Te(me,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),Te(me,"Series/Column/ColumnSeries.js",[me["Core/Animation/AnimationUtilities.js"],me["Core/Color/Color.js"],me["Series/Column/ColumnSeriesDefaults.js"],me["Core/Globals.js"],me["Core/Series/Series.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Utilities.js"]],function(ve,be,Fe,ze,Ve,we,Ce){const{animObject:oe}=ve,{parse:Ae}=be,{hasTouch:Me,noop:z}=ze,{clamp:re,defined:Q,extend:ne,fireEvent:H,isArray:ee,isNumber:G,merge:V,pick:$,objectEach:te}=Ce;class ie extends Ve{constructor(){super(...arguments),this.points=this.options=this.group=this.data=this.borderWidth=void 0}animate(I){const W=this,N=this.yAxis,U=N.pos,S=W.options,D=this.chart.inverted,T={},B=D?"translateX":"translateY";let K;I?(T.scaleY=.001,I=re(N.toPixels(S.threshold),U,U+N.len),D?T.translateX=I-N.len:T.translateY=I,W.clipBox&&W.setClip(),W.group.attr(T)):(K=Number(W.group.attr(B)),W.group.animate({scaleY:1},ne(oe(W.options.animation),{step:function(j,E){W.group&&(T[B]=K+E.pos*(U-K),W.group.attr(T))}})))}init(I,W){super.init.apply(this,arguments);const N=this;(I=N.chart).hasRendered&&I.series.forEach(function(U){U.type===N.type&&(U.isDirty=!0)})}getColumnMetrics(){const I=this;var W=I.options;const N=I.xAxis,U=I.yAxis;var S=N.options.reversedStacks;S=N.reversed&&!S||!N.reversed&&S;const D={};let T,B=0;!1===W.grouping?B=1:I.chart.series.forEach(function(q){const fe=q.yAxis,De=q.options;let Oe;q.type!==I.type||!q.visible&&I.chart.options.chart.ignoreHiddenSeries||U.len!==fe.len||U.pos!==fe.pos||(De.stacking&&"group"!==De.stacking?(T=q.stackKey,typeof D[T]>"u"&&(D[T]=B++),Oe=D[T]):!1!==De.grouping&&(Oe=B++),q.columnIndex=Oe)});const K=Math.min(Math.abs(N.transA)*(N.ordinal&&N.ordinal.slope||W.pointRange||N.closestPointRange||N.tickInterval||1),N.len),j=K*W.groupPadding,E=(K-2*j)/(B||1);return W=Math.min(W.maxPointWidth||N.len,$(W.pointWidth,E*(1-2*W.pointPadding))),I.columnMetrics={width:W,offset:(E-W)/2+(j+((I.columnIndex||0)+(S?1:0))*E-K/2)*(S?-1:1),paddedWidth:E,columnCount:B},I.columnMetrics}crispCol(I,W,N,U){var S=this.borderWidth,D=-(S%2?.5:0);return S=S%2?.5:1,this.options.crisp&&(N=Math.round(I+N)+D,N-=I=Math.round(I)+D),U=Math.round(W+U)+S,D=.5>=Math.abs(W)&&.5<U,U-=W=Math.round(W)+S,D&&U&&(--W,U+=1),{x:I,y:W,width:N,height:U}}adjustForMissingColumns(I,W,N,U){const S=this.options.stacking;if(!N.isNull&&1<U.columnCount){const D=this.yAxis.options.reversedStacks;let T=0,B=D?0:-U.columnCount;te(this.yAxis.stacking&&this.yAxis.stacking.stacks,K=>{if("number"==typeof N.x){const j=K[N.x.toString()];j&&(K=j.points[this.index],S?(K&&(T=B),j.hasValidPoints&&(D?B++:B--)):ee(K)&&(K=Object.keys(j.points).filter(E=>!E.match(",")&&j.points[E]&&1<j.points[E].length).map(parseFloat).sort((E,q)=>q-E),T=K.indexOf(this.index),B=K.length))}}),I=(N.plotX||0)+((B-1)*U.paddedWidth+W)/2-W-T*U.paddedWidth}return I}translate(){const I=this,W=I.chart,N=I.options;var U=I.dense=2>I.closestPointRange*I.xAxis.transA;U=I.borderWidth=$(N.borderWidth,U?0:1);const S=I.xAxis,D=I.yAxis,T=N.threshold,B=$(N.minPointLength,5),K=I.getColumnMetrics(),j=K.width,E=I.pointXOffset=K.offset,q=I.dataMin,fe=I.dataMax;let De=I.barW=Math.max(j,1+2*U),Oe=I.translatedThreshold=D.getThreshold(T);W.inverted&&(Oe-=.5),N.pointPadding&&(De=Math.ceil(De)),Ve.prototype.translate.apply(I),I.points.forEach(function(ue){const A=$(ue.yBottom,Oe);var ae=999+Math.abs(A),pe=ue.plotX||0;ae=re(ue.plotY,-ae,D.len+ae);let de=Math.min(ae,A),Ne=Math.max(ae,A)-de,R=j,Z=pe+E,X=De;B&&Math.abs(Ne)<B&&(Ne=B,pe=!D.reversed&&!ue.negative||D.reversed&&ue.negative,G(T)&&G(fe)&&ue.y===T&&fe<=T&&(D.min||0)<T&&(q!==fe||(D.max||0)<=T)&&(pe=!pe,ue.negative=!ue.negative),de=Math.abs(de-Oe)>B?A-B:Oe-(pe?B:0)),Q(ue.options.pointWidth)&&(R=X=Math.ceil(ue.options.pointWidth),Z-=Math.round((R-j)/2)),N.centerInCategory&&(Z=I.adjustForMissingColumns(Z,R,ue,K)),ue.barX=Z,ue.pointWidth=R,ue.tooltipPos=W.inverted?[re(D.len+D.pos-W.plotLeft-ae,D.pos-W.plotLeft,D.len+D.pos-W.plotLeft),S.len+S.pos-W.plotTop-Z-X/2,Ne]:[S.left-W.plotLeft+Z+X/2,re(ae+D.pos-W.plotTop,D.pos-W.plotTop,D.len+D.pos-W.plotTop),Ne],ue.shapeType=I.pointClass.prototype.shapeType||"roundedRect",ue.shapeArgs=I.crispCol(Z,ue.isNull?Oe:de,X,ue.isNull?0:Ne)}),H(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(I,W){const N=this.options;var U=this.pointAttrToOptions||{},S=U.stroke||"borderColor";const D=U["stroke-width"]||"borderWidth";let T,B=I&&I.color||this.color,K=I&&I[S]||N[S]||B;U=I&&I.options.dashStyle||N.dashStyle;let j=I&&I[D]||N[D]||this[D]||0,E=$(I&&I.opacity,N.opacity,1);return I&&this.zones.length&&(T=I.getZone(),B=I.options.color||T&&(T.color||I.nonZonedColor)||this.color,T&&(K=T.borderColor||K,U=T.dashStyle||U,j=T.borderWidth||j)),W&&I&&(W=(I=V(N.states[W],I.options.states&&I.options.states[W]||{})).brightness,B=I.color||typeof W<"u"&&Ae(B).brighten(I.brightness).get()||B,K=I[S]||K,j=I[D]||j,U=I.dashStyle||U,E=$(I.opacity,E)),S={fill:B,stroke:K,"stroke-width":j,opacity:E},U&&(S.dashstyle=U),S}drawPoints(I=this.points){const W=this,N=this.chart,U=W.options,S=N.renderer,D=U.animationLimit||250;let T;I.forEach(function(B){let K=B.graphic,j=!!K,E=K&&N.pointCount<D?"animate":"attr";G(B.plotY)&&null!==B.y?(T=B.shapeArgs,K&&B.hasNewShapeType()&&(K=K.destroy()),W.enabledDataSorting&&(B.startXPos=W.xAxis.reversed?-(T&&T.width||0):W.xAxis.width),K||(B.graphic=K=S[B.shapeType](T).add(B.group||W.group))&&W.enabledDataSorting&&N.hasRendered&&N.pointCount<D&&(K.attr({x:B.startXPos}),j=!0,E="animate"),K&&j&&K[E](V(T)),N.styledMode||K[E](W.pointAttribs(B,B.selected&&"select")).shadow(!1!==B.allowShadow&&U.shadow),K&&(K.addClass(B.getClassName(),!0),K.attr({visibility:B.visible?"inherit":"hidden"}))):K&&(B.graphic=K.destroy())})}drawTracker(I=this.points){const W=this,N=W.chart,U=N.pointer,S=function(T){const B=U.getPointFromEvent(T);typeof B<"u"&&W.options.enableMouseTracking&&(U.isDirectTouch=!0,B.onMouseOver(T))};let D;I.forEach(function(T){D=ee(T.dataLabels)?T.dataLabels:T.dataLabel?[T.dataLabel]:[],T.graphic&&(T.graphic.element.point=T),D.forEach(function(B){B.div?B.div.point=T:B.element.point=T})}),W._hasTracking||(W.trackerGroups.forEach(function(T){W[T]&&(W[T].addClass("highcharts-tracker").on("mouseover",S).on("mouseout",function(B){U.onTrackerMouseOut(B)}),Me&&W[T].on("touchstart",S),!N.styledMode&&W.options.cursor&&W[T].css({cursor:W.options.cursor}))}),W._hasTracking=!0),H(this,"afterDrawTracker")}remove(){const I=this,W=I.chart;W.hasRendered&&W.series.forEach(function(N){N.type===I.type&&(N.isDirty=!0)}),Ve.prototype.remove.apply(I,arguments)}}return ie.defaultOptions=V(Ve.defaultOptions,Fe),ne(ie.prototype,{cropShoulder:0,directTouch:!0,getSymbol:z,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),we.registerSeriesType("column",ie),ie}),Te(me,"Core/Series/DataLabel.js",[me["Core/Animation/AnimationUtilities.js"],me["Core/Templating.js"],me["Core/Utilities.js"]],function(ve,be,Fe){const{getDeferredAnimation:ze}=ve,{format:Ve}=be,{defined:we,extend:Ce,fireEvent:oe,isArray:Ae,isString:Me,merge:z,objectEach:re,pick:Q,splat:ne}=Fe;var H;return function(ee){function G(U,S,D,T,B){const K=this.chart;var j=this.isCartesian&&K.inverted;const E=this.enabledDataSorting;var q=U.plotX,fe=U.plotY;const De=D.rotation;var Oe=D.align;fe=we(q)&&we(fe)&&K.isInsidePlot(q,Math.round(fe),{inverted:j,paneCoordinates:!0,series:this});let ue="justify"===Q(D.overflow,E?"none":"justify");if(j=this.visible&&!1!==U.visible&&we(q)&&(U.series.forceDL||E&&!ue||fe||Q(D.inside,!!this.options.stacking)&&T&&K.isInsidePlot(q,j?T.x+1:T.y+T.height-1,{inverted:j,paneCoordinates:!0,series:this})),q=U.pos(),j&&q){De&&S.attr({align:Oe}),Oe=S.getBBox(!0);var A=[0,0],ae=K.renderer.fontMetrics(S).b;if(T=Ce({x:q[0],y:Math.round(q[1]),width:0,height:0},T),Ce(D,{width:Oe.width,height:Oe.height}),De?(ue=!1,A=K.renderer.rotCorr(ae,De),ae={x:T.x+(D.x||0)+T.width/2+A.x,y:T.y+(D.y||0)+{top:0,middle:.5,bottom:1}[D.verticalAlign]*T.height},A=[Oe.x-Number(S.attr("x")),Oe.y-Number(S.attr("y"))],E&&this.xAxis&&!ue&&this.setDataLabelStartPos(U,S,B,fe,ae),S[B?"attr":"animate"](ae)):(E&&this.xAxis&&!ue&&this.setDataLabelStartPos(U,S,B,fe,T),S.align(D,void 0,T),ae=S.alignAttr),ue&&0<=T.height)this.justifyDataLabel(S,D,ae,Oe,T,B);else if(Q(D.crop,!0)){let{x:pe,y:de}=ae;pe+=A[0],de+=A[1],j=K.isInsidePlot(pe,de,{paneCoordinates:!0,series:this})&&K.isInsidePlot(pe+Oe.width,de+Oe.height,{paneCoordinates:!0,series:this})}D.shape&&!De&&S[B?"attr":"animate"]({anchorX:q[0],anchorY:q[1]})}B&&E&&(S.placed=!1),j||E&&!ue?S.show():(S.hide(),S.placed=!1)}function $(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function te(U){const S=this.hasRendered||0,D=this.initDataLabelsGroup().attr({opacity:+S});return!S&&D&&(this.visible&&D.show(),this.options.animation?D.animate({opacity:1},U):D.attr({opacity:1})),D}function ie(U=this.points){var S,D;const T=this,B=T.chart,K=T.options,j=B.renderer,{backgroundColor:E,plotBackgroundColor:q}=B.options.chart,fe=B.options.plotOptions,De=j.getContrast(Me(q)&&q||Me(E)&&E||"#000000");let ue,A,Oe=K.dataLabels;var ae=ne(Oe)[0];ae=ae.defer?ze(B,ae.animation,T):{defer:0,duration:0},Oe=I(I(null===(S=fe?.series)||void 0===S?void 0:S.dataLabels,null===(D=fe?.[T.type])||void 0===D?void 0:D.dataLabels),Oe),oe(this,"drawDataLabels"),(Ae(Oe)||Oe.enabled||T._hasPointLabels)&&(A=this.initDataLabels(ae),U.forEach(de=>{var Ne;const R=de.dataLabels||[];for(ue=ne(I(Oe,de.dlOptions||(null===(Ne=de.options)||void 0===Ne?void 0:Ne.dataLabels))),ue.forEach((Z,X)=>{var xe,Ie=Z.enabled&&(!de.isNull||de.dataLabelOnNull)&&function V(U,S){var D=S.filter;return!D||(S=D.operator,U=U[D.property],D=D.value,">"===S&&U>D||"<"===S&&U<D||">="===S&&U>=D||"<="===S&&U<=D||"=="===S&&U==D||"==="===S&&U===D)}(de,Z);const Ee=de.connectors?de.connectors[X]:de.connector,Le=Z.style||{};let Ge={},qe=R[X],st=!qe;const _t=Q(Z.distance,de.labelDistance);if(Ie){var ge=Q(Z[de.formatPrefix+"Format"],Z.format),le=de.getLabelConfig();if(le=we(ge)?Ve(ge,le,B):(Z[de.formatPrefix+"Formatter"]||Z.formatter).call(le,Z),ge=Z.rotation,B.styledMode||(Le.color=Q(Z.color,Le.color,Me(T.color)?T.color:void 0,"#000000"),"contrast"===Le.color?(de.contrastColor=j.getContrast(de.color||T.color),Le.color=!we(_t)&&Z.inside||0>(_t||0)||K.stacking?de.contrastColor:De):delete de.contrastColor,K.cursor&&(Le.cursor=K.cursor)),Ge={r:Z.borderRadius||0,rotation:ge,padding:Z.padding,zIndex:1},!B.styledMode){const{backgroundColor:Ue,borderColor:Re}=Z;Ge.fill="auto"===Ue?de.color:Ue,Ge.stroke="auto"===Re?de.color:Re,Ge["stroke-width"]=Z.borderWidth}re(Ge,(Ue,Re)=>{typeof Ue>"u"&&delete Ge[Re]})}!qe||Ie&&we(le)&&!!qe.div==!!Z.useHTML&&(qe.rotation&&Z.rotation||qe.rotation===Z.rotation)||(qe=void 0,st=!0,Ee&&de.connector&&(de.connector=de.connector.destroy(),de.connectors&&(1===de.connectors.length?delete de.connectors:delete de.connectors[X]))),Ie&&we(le)&&(qe?Ge.text=le:(qe=ge?j.text(le,0,0,Z.useHTML).addClass("highcharts-data-label"):j.label(le,0,0,Z.shape,void 0,void 0,Z.useHTML,void 0,"data-label"))&&qe.addClass(" highcharts-data-label-color-"+de.colorIndex+" "+(Z.className||"")+(Z.useHTML?" highcharts-tracker":"")),qe&&(qe.options=Z,qe.attr(Ge),B.styledMode||qe.css(Le).shadow(Z.shadow),(Ie=Z[de.formatPrefix+"TextPath"]||Z.textPath)&&!Z.useHTML&&(qe.setTextPath((null===(xe=de.getDataLabelPath)||void 0===xe?void 0:xe.call(de,qe))||de.graphic,Ie),de.dataLabelPath&&!Ie.enabled&&(de.dataLabelPath=de.dataLabelPath.destroy())),qe.added||qe.add(A),T.alignDataLabel(de,qe,Z,void 0,st),qe.isActive=!0,R[X]&&R[X]!==qe&&R[X].destroy(),R[X]=qe))}),Ne=R.length;Ne--;)R[Ne].isActive?R[Ne].isActive=!1:(R[Ne].destroy(),R.splice(Ne,1));de.dataLabel=R[0],de.dataLabels=R})),oe(this,"afterDrawDataLabels")}function P(U,S,D,T,B,K){const j=this.chart,E=S.align,q=S.verticalAlign,fe=U.box?0:U.padding||0;let ue,A,{x:De=0,y:Oe=0}=S;return ue=(D.x||0)+fe,0>ue&&("right"===E&&0<=De?(S.align="left",S.inside=!0):De-=ue,A=!0),ue=(D.x||0)+T.width-fe,ue>j.plotWidth&&("left"===E&&0>=De?(S.align="right",S.inside=!0):De+=j.plotWidth-ue,A=!0),ue=D.y+fe,0>ue&&("bottom"===q&&0<=Oe?(S.verticalAlign="top",S.inside=!0):Oe-=ue,A=!0),ue=(D.y||0)+T.height-fe,ue>j.plotHeight&&("top"===q&&0>=Oe?(S.verticalAlign="bottom",S.inside=!0):Oe+=j.plotHeight-ue,A=!0),A&&(S.x=De,S.y=Oe,U.placed=!K,U.align(S,void 0,B)),A}function I(U,S){let T,D=[];if(Ae(U)&&!Ae(S))D=U.map(function(B){return z(B,S)});else if(Ae(S)&&!Ae(U))D=S.map(function(B){return z(U,B)});else if(Ae(U)||Ae(S)){if(Ae(U)&&Ae(S))for(T=Math.max(U.length,S.length);T--;)D[T]=z(U[T],S[T])}else D=z(U,S);return D}function W(U,S,D,T,B){const K=this.chart,j=K.inverted,E=this.xAxis,q=E.reversed,fe=j?S.height/2:S.width/2;U=(U=U.pointWidth)?U/2:0,S.startXPos=j?B.x:q?-fe-U:E.width-fe+U,S.startYPos=j?q?this.yAxis.height-fe+U:-fe-U:B.y,T?"hidden"===S.visibility&&(S.show(),S.attr({opacity:0}).animate({opacity:1})):S.attr({opacity:1}).animate({opacity:0},void 0,S.hide),K.hasRendered&&(D&&S.attr({x:S.startXPos,y:S.startYPos}),S.placed=!0)}const N=[];ee.compose=function(U){Fe.pushUnique(N,U)&&((U=U.prototype).initDataLabelsGroup=$,U.initDataLabels=te,U.alignDataLabel=G,U.drawDataLabels=ie,U.justifyDataLabel=P,U.setDataLabelStartPos=W)}}(H||(H={})),H}),Te(me,"Series/Column/ColumnDataLabel.js",[me["Core/Series/DataLabel.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Utilities.js"]],function(ve,be,Fe){const{series:ze}=be,{merge:Ve,pick:we}=Fe;var Ce;return function(oe){function Ae(z,re,Q,ne,H){let ee=this.chart.inverted;var G=z.series;let V=(G.xAxis?G.xAxis.len:this.chart.plotSizeX)||0;var $=z.dlBox||z.shapeArgs;let te=we(z.below,z.plotY>we(this.translatedThreshold,G=(G.yAxis?G.yAxis.len:this.chart.plotSizeY)||0)),ie=we(Q.inside,!!this.options.stacking);$&&(0>(ne=Ve($)).y&&(ne.height+=ne.y,ne.y=0),0<($=ne.y+ne.height-G)&&$<ne.height&&(ne.height-=$),ee&&(ne={x:G-ne.y-ne.height,y:V-ne.x-ne.width,width:ne.height,height:ne.width}),ie||(ee?(ne.x+=te?0:ne.width,ne.width=0):(ne.y+=te?ne.height:0,ne.height=0))),Q.align=we(Q.align,!ee||ie?"center":te?"right":"left"),Q.verticalAlign=we(Q.verticalAlign,ee||ie?"middle":te?"top":"bottom"),ze.prototype.alignDataLabel.call(this,z,re,Q,ne,H),Q.inside&&z.contrastColor&&re.css({color:z.contrastColor})}const Me=[];oe.compose=function(z){ve.compose(ze),Fe.pushUnique(Me,z)&&(z.prototype.alignDataLabel=Ae)}}(Ce||(Ce={})),Ce}),Te(me,"Series/Bar/BarSeries.js",[me["Series/Column/ColumnSeries.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Utilities.js"]],function(ve,be,Fe){const{extend:ze,merge:Ve}=Fe;class we extends ve{constructor(){super(...arguments),this.points=this.options=this.data=void 0}}return we.defaultOptions=Ve(ve.defaultOptions,{}),ze(we.prototype,{inverted:!0}),be.registerSeriesType("bar",we),we}),Te(me,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),Te(me,"Series/Scatter/ScatterSeries.js",[me["Series/Scatter/ScatterSeriesDefaults.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Utilities.js"]],function(ve,be,Fe){const{column:ze,line:Ve}=be.seriesTypes,{addEvent:we,extend:Ce,merge:oe}=Fe;class Ae extends Ve{constructor(){super(...arguments),this.points=this.options=this.data=void 0}applyJitter(){const z=this,re=this.options.jitter,Q=this.points.length;re&&this.points.forEach(function(ne,H){["x","y"].forEach(function(ee,G){let $,te,V="plot"+ee.toUpperCase();if(re[ee]&&!ne.isNull){var ie=z[ee+"Axis"];te=re[ee]*ie.transA,ie&&!ie.isLog&&($=Math.max(0,ne[V]-te),ie=Math.min(ie.len,ne[V]+te),G=1e4*Math.sin(H+G*Q),G-=Math.floor(G),ne[V]=$+(ie-$)*G,"x"===ee&&(ne.clientX=ne.plotX))}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return Ae.defaultOptions=oe(Ve.defaultOptions,ve),Ce(Ae.prototype,{drawTracker:ze.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),we(Ae,"afterTranslate",function(){this.applyJitter()}),be.registerSeriesType("scatter",Ae),Ae}),Te(me,"Series/CenteredUtilities.js",[me["Core/Globals.js"],me["Core/Series/Series.js"],me["Core/Utilities.js"]],function(ve,be,Fe){const{deg2rad:ze}=ve,{fireEvent:Ve,isNumber:we,pick:Ce,relativeLength:oe}=Fe;var Ae=(()=>{return(Me=Ae||(Ae={})).getCenter=function(){var z=this.options,re=this.chart;const Q=2*(z.slicedOffset||0),ne=re.plotWidth-2*Q,H=re.plotHeight-2*Q;var ee=z.center;const G=Math.min(ne,H),V=z.thickness;var $=z.size;let te=z.innerSize||0;for("string"==typeof $&&($=parseFloat($)),"string"==typeof te&&(te=parseFloat(te)),z=[Ce(ee[0],"50%"),Ce(ee[1],"50%"),Ce($&&0>$?void 0:z.size,"100%"),Ce(te&&0>te?void 0:z.innerSize||0,"0%")],!re.angular||this instanceof be||(z[3]=0),ee=0;4>ee;++ee)$=z[ee],re=2>ee||2===ee&&/%$/.test($),z[ee]=oe($,[ne,H,G,z[2]][ee])+(re?Q:0);return z[3]>z[2]&&(z[3]=z[2]),we(V)&&2*V<z[2]&&0<V&&(z[3]=z[2]-2*V),Ve(this,"afterGetCenter",{positions:z}),z},Me.getStartAndEndRadians=function(z,re){return z=we(z)?z:0,re=we(re)&&re>z&&360>re-z?re:z+360,{start:ze*(z+-90),end:ze*(re+-90)}},Ae;var Me})();return Ae}),Te(me,"Series/Pie/PiePoint.js",[me["Core/Animation/AnimationUtilities.js"],me["Core/Series/Point.js"],me["Core/Utilities.js"]],function(ve,be,Fe){const{setAnimation:ze}=ve,{addEvent:Ve,defined:we,extend:Ce,isNumber:oe,pick:Ae,relativeLength:Me}=Fe;class z extends be{constructor(){super(...arguments),this.series=this.options=this.labelDistance=void 0}getConnectorPath(){const Q=this.labelPosition,ne=this.series.options.dataLabels,H=this.connectorShapes;let ee=ne.connectorShape;return H[ee]&&(ee=H[ee]),ee.call(this,{x:Q.computed.x,y:Q.computed.y,alignment:Q.alignment},Q.connectorPosition,ne)}getTranslate(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}}haloPath(Q){const ne=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(ne.x,ne.y,ne.r+Q,ne.r+Q,{innerR:ne.r-1,start:ne.start,end:ne.end,borderRadius:ne.borderRadius})}init(){super.init.apply(this,arguments),this.name=Ae(this.name,"Slice");const Q=ne=>{this.slice("select"===ne.type)};return Ve(this,"select",Q),Ve(this,"unselect",Q),this}isValid(){return oe(this.y)&&0<=this.y}setVisible(Q,ne){const H=this.series,ee=H.chart,G=H.options.ignoreHiddenPoint;ne=Ae(ne,G),Q!==this.visible&&(this.visible=this.options.visible=Q=typeof Q>"u"?!this.visible:Q,H.options.data[H.data.indexOf(this)]=this.options,["graphic","dataLabel","connector"].forEach(V=>{this[V]&&this[V][Q?"show":"hide"](Q)}),this.legendItem&&ee.legend.colorizeItem(this,Q),Q||"hover"!==this.state||this.setState(""),G&&(H.isDirty=!0),ne&&ee.redraw())}slice(Q,ne,H){const ee=this.series;ze(H,ee.chart),Ae(ne,!0),this.sliced=this.options.sliced=we(Q)?Q:!this.sliced,ee.options.data[ee.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return Ce(z.prototype,{connectorShapes:{fixedOffset:function(re,Q,ne){const H=Q.breakAt;return Q=Q.touchingSliceAt,[["M",re.x,re.y],ne.softConnector?["C",re.x+("left"===re.alignment?-5:5),re.y,2*H.x-Q.x,2*H.y-Q.y,H.x,H.y]:["L",H.x,H.y],["L",Q.x,Q.y]]},straight:function(re,Q){return[["M",re.x,re.y],["L",(Q=Q.touchingSliceAt).x,Q.y]]},crookedLine:function(re,Q,ne){const{breakAt:H,touchingSliceAt:ee}=Q;({series:Q}=this);const[G,V,$]=Q.center,te=$/2,ie=Q.chart.plotWidth,P=Q.chart.plotLeft;Q="left"===re.alignment;const{x:I,y:W}=re;return ne.crookDistance?(re=Me(ne.crookDistance,1),re=Q?G+te+(ie+P-G-te)*(1-re):P+(G-te)*re):re=G+(V-W)*Math.tan((this.angle||0)-Math.PI/2),ne=[["M",I,W]],(Q?re<=I&&re>=H.x:re>=I&&re<=H.x)&&ne.push(["L",re,W]),ne.push(["L",H.x,H.y],["L",ee.x,ee.y]),ne}}}),z}),Te(me,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),Te(me,"Series/Pie/PieSeries.js",[me["Series/CenteredUtilities.js"],me["Series/Column/ColumnSeries.js"],me["Core/Globals.js"],me["Series/Pie/PiePoint.js"],me["Series/Pie/PieSeriesDefaults.js"],me["Core/Series/Series.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Renderer/SVG/Symbols.js"],me["Core/Utilities.js"]],function(ve,be,Fe,ze,Ve,we,Ce,oe,Ae){const{getStartAndEndRadians:Me}=ve;({noop:Fe}=Fe);const{clamp:z,extend:re,fireEvent:Q,merge:ne,pick:H,relativeLength:ee}=Ae;class G extends we{constructor(){super(...arguments),this.points=this.options=this.maxLabelDistance=this.data=this.center=void 0}animate($){const te=this,P=te.startAngleRad;$||te.points.forEach(function(I){const W=I.graphic,N=I.shapeArgs;W&&N&&(W.attr({r:H(I.startR,te.center&&te.center[3]/2),start:P,end:P}),W.animate({r:N.r,start:N.start,end:N.end},te.options.animation))})}drawEmpty(){const $=this.startAngleRad,te=this.endAngleRad,ie=this.options;let P,I;0===this.total&&this.center?(P=this.center[0],I=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(P,I,this.center[1]/2,0,$,te).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:oe.arc(P,I,this.center[2]/2,0,{start:$,end:te,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":ie.borderWidth,fill:ie.fillColor||"none",stroke:ie.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){const $=this.chart.renderer;this.points.forEach(function(te){te.graphic&&te.hasNewShapeType()&&(te.graphic=te.graphic.destroy()),te.graphic||(te.graphic=$[te.shapeType](te.shapeArgs).add(te.series.group),te.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX($,te,ie){const P=this.center,I=this.radii?this.radii[ie.index]||0:P[2]/2;return $=Math.asin(z(($-P[1])/(I+ie.labelDistance),-1,1)),P[0]+(te?-1:1)*Math.cos($)*(I+ie.labelDistance)+(0<ie.labelDistance?(te?-1:1)*this.options.dataLabels.padding:0)}hasData(){return!!this.processedXData.length}redrawPoints(){const $=this,te=$.chart;let ie,P,I,W;this.drawEmpty(),$.group&&!te.styledMode&&$.group.shadow($.options.shadow),$.points.forEach(function(N){const U={};P=N.graphic,!N.isNull&&P?(W=N.shapeArgs,ie=N.getTranslate(),te.styledMode||(I=$.pointAttribs(N,N.selected&&"select")),N.delayedRendering?(P.setRadialReference($.center).attr(W).attr(ie),te.styledMode||P.attr(I).attr({"stroke-linejoin":"round"}),N.delayedRendering=!1):(P.setRadialReference($.center),te.styledMode||ne(!0,U,I),ne(!0,U,W,ie),P.animate(U)),P.attr({visibility:N.visible?"inherit":"hidden"}),P.addClass(N.getClassName(),!0)):P&&(N.graphic=P.destroy())})}sortByAngle($,te){$.sort(function(ie,P){return typeof ie.angle<"u"&&(P.angle-ie.angle)*te})}translate($){Q(this,"translate"),this.generatePoints();var te=this.options;const ie=te.slicedOffset,P=ie+(te.borderWidth||0);var I=Me(te.startAngle,te.endAngle);const W=this.startAngleRad=I.start;I=(this.endAngleRad=I.end)-W;const N=this.points,U=te.dataLabels.distance;te=te.ignoreHiddenPoint;const S=N.length;let D,T,B,K=0;for($||(this.center=$=this.getCenter()),T=0;T<S;T++){B=N[T];var j=W+K*I;!B.isValid()||te&&!B.visible||(K+=B.percentage/100);var E=W+K*I,q={x:$[0],y:$[1],r:$[2]/2,innerR:$[3]/2,start:Math.round(1e3*j)/1e3,end:Math.round(1e3*E)/1e3};B.shapeType="arc",B.shapeArgs=q,B.labelDistance=H(B.options.dataLabels&&B.options.dataLabels.distance,U),B.labelDistance=ee(B.labelDistance,q.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,B.labelDistance),(E=(E+j)/2)>1.5*Math.PI?E-=2*Math.PI:E<-Math.PI/2&&(E+=2*Math.PI),B.slicedTranslation={translateX:Math.round(Math.cos(E)*ie),translateY:Math.round(Math.sin(E)*ie)},q=Math.cos(E)*$[2]/2,D=Math.sin(E)*$[2]/2,B.tooltipPos=[$[0]+.7*q,$[1]+.7*D],B.half=E<-Math.PI/2||E>Math.PI/2?1:0,B.angle=E,j=Math.min(P,B.labelDistance/5),B.labelPosition={natural:{x:$[0]+q+Math.cos(E)*B.labelDistance,y:$[1]+D+Math.sin(E)*B.labelDistance},computed:{},alignment:0>B.labelDistance?"center":B.half?"right":"left",connectorPosition:{breakAt:{x:$[0]+q+Math.cos(E)*j,y:$[1]+D+Math.sin(E)*j},touchingSliceAt:{x:$[0]+q,y:$[1]+D}}}}Q(this,"afterTranslate")}updateTotals(){const $=this.points,te=$.length,ie=this.options.ignoreHiddenPoint;let P,I,W=0;for(P=0;P<te;P++)I=$[P],!I.isValid()||ie&&!I.visible||(W+=I.y);for(this.total=W,P=0;P<te;P++)I=$[P],I.percentage=0<W&&(I.visible||!ie)?I.y/W*100:0,I.total=W}}return G.defaultOptions=ne(we.defaultOptions,Ve),re(G.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:be.prototype.drawTracker,getCenter:ve.getCenter,getSymbol:Fe,isCartesian:!1,noSharedTooltip:!0,pointAttribs:be.prototype.pointAttribs,pointClass:ze,requireSorting:!1,searchPoint:Fe,trackerGroups:["group","dataLabelsGroup"]}),Ce.registerSeriesType("pie",G),G}),Te(me,"Series/Pie/PieDataLabel.js",[me["Core/Series/DataLabel.js"],me["Core/Globals.js"],me["Core/Renderer/RendererUtilities.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Utilities.js"]],function(ve,be,Fe,ze,Ve){const{noop:we}=be,{distribute:Ce}=Fe,{series:oe}=ze,{arrayMax:Ae,clamp:Me,defined:z,merge:re,pick:Q,relativeLength:ne}=Ve;var H;return function(ee){function G(){const P=this,I=P.data,W=P.chart,N=P.options.dataLabels||{},U=N.connectorPadding,S=W.plotWidth,D=W.plotHeight,T=W.plotLeft,B=Math.round(W.chartWidth/3),K=P.center,j=K[2]/2,E=K[1],q=[[],[]],fe=[0,0,0,0],De=P.dataLabelPositioners;let Oe,ue,A,ae,pe,de,Ne,R,Z,X,xe,Ie;P.visible&&(N.enabled||P._hasPointLabels)&&(I.forEach(function(Ee){Ee.dataLabel&&Ee.visible&&Ee.dataLabel.shortened&&(Ee.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Ee.dataLabel.shortened=!1)}),oe.prototype.drawDataLabels.apply(P),I.forEach(function(Ee){Ee.dataLabel&&(Ee.visible?(q[Ee.half].push(Ee),Ee.dataLabel._pos=null,!z(N.style.width)&&!z(Ee.options.dataLabels&&Ee.options.dataLabels.style&&Ee.options.dataLabels.style.width)&&Ee.dataLabel.getBBox().width>B&&(Ee.dataLabel.css({width:Math.round(.7*B)+"px"}),Ee.dataLabel.shortened=!0)):(Ee.dataLabel=Ee.dataLabel.destroy(),Ee.dataLabels&&1===Ee.dataLabels.length&&delete Ee.dataLabels))}),q.forEach((Ee,Le)=>{const Ge=Ee.length,qe=[];let st,_t=0;if(Ge){if(P.sortByAngle(Ee,Le-.5),0<P.maxLabelDistance){var ge=Math.max(0,E-j-P.maxLabelDistance);st=Math.min(E+j+P.maxLabelDistance,W.plotHeight),Ee.forEach(function(le){0<le.labelDistance&&le.dataLabel&&(le.top=Math.max(0,E-j-le.labelDistance),le.bottom=Math.min(E+j+le.labelDistance,W.plotHeight),_t=le.dataLabel.getBBox().height||21,le.distributeBox={target:le.labelPosition.natural.y-le.top+_t/2,size:_t,rank:le.y},qe.push(le.distributeBox))}),Ce(qe,ge=st+_t-ge,ge/5)}for(xe=0;xe<Ge;xe++){if(Oe=Ee[xe],de=Oe.labelPosition,ae=Oe.dataLabel,X=!1===Oe.visible?"hidden":"inherit",Z=ge=de.natural.y,qe&&z(Oe.distributeBox)&&(typeof Oe.distributeBox.pos>"u"?X="hidden":(Ne=Oe.distributeBox.size,Z=De.radialDistributionY(Oe))),delete Oe.positionIndex,N.justify)R=De.justify(Oe,j,K);else switch(N.alignTo){case"connectors":R=De.alignToConnectors(Ee,Le,S,T);break;case"plotEdges":R=De.alignToPlotEdges(ae,Le,S,T);break;default:R=De.radialDistributionX(P,Oe,Z,ge)}ae._attr={visibility:X,align:de.alignment},Ie=Oe.options.dataLabels||{},ae._pos={x:R+Q(Ie.x,N.x)+({left:U,right:-U}[de.alignment]||0),y:Z+Q(Ie.y,N.y)-ae.getBBox().height/2},de&&(de.computed.x=R,de.computed.y=Z),Q(N.crop,!0)&&(pe=ae.getBBox().width,ge=null,R-pe<U&&1===Le?(ge=Math.round(pe-R+U),fe[3]=Math.max(ge,fe[3])):R+pe>S-U&&0===Le&&(ge=Math.round(R+pe-S+U),fe[1]=Math.max(ge,fe[1])),0>Z-Ne/2?fe[0]=Math.max(Math.round(Ne/2-Z),fe[0]):Z+Ne/2>D&&(fe[2]=Math.max(Math.round(Z+Ne/2-D),fe[2])),ae.sideOverflow=ge)}}}),0===Ae(fe)||this.verifyDataLabelOverflow(fe))&&(this.placeDataLabels(),this.points.forEach(function(Ee){if(Ie=re(N,Ee.options.dataLabels),ue=Q(Ie.connectorWidth,1)){let Le;A=Ee.connector,(ae=Ee.dataLabel)&&ae._pos&&Ee.visible&&0<Ee.labelDistance?(X=ae._attr.visibility,(Le=!A)&&(Ee.connector=A=W.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Ee.colorIndex+(Ee.className?" "+Ee.className:"")).add(P.dataLabelsGroup),W.styledMode||A.attr({"stroke-width":ue,stroke:Ie.connectorColor||Ee.color||"#666666"})),A[Le?"attr":"animate"]({d:Ee.getConnectorPath()}),A.attr("visibility",X)):A&&(Ee.connector=A.destroy())}}))}function V(){this.points.forEach(function(P){let W,I=P.dataLabel;I&&P.visible&&((W=I._pos)?(I.sideOverflow&&(I._attr.width=Math.max(I.getBBox().width-I.sideOverflow,0),I.css({width:I._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),I.shortened=!0),I.attr(I._attr),I[I.moved?"animate":"attr"](W),I.moved=!0):I&&I.attr({y:-9999})),delete P.distributeBox},this)}function $(P){let S,I=this.center,W=this.options,N=W.center,U=W.minSize||80,D=null!==W.size;return D||(null!==N[0]?S=Math.max(I[2]-Math.max(P[1],P[3]),U):(S=Math.max(I[2]-P[1]-P[3],U),I[0]+=(P[3]-P[1])/2),null!==N[1]?S=Me(S,U,I[2]-Math.max(P[0],P[2])):(S=Me(S,U,I[2]-P[0]-P[2]),I[1]+=(P[0]-P[2])/2),S<I[2]?(I[2]=S,I[3]=Math.min(W.thickness?Math.max(0,S-2*W.thickness):Math.max(0,ne(W.innerSize||0,S)),S),this.translate(I),this.drawDataLabels&&this.drawDataLabels()):D=!0),D}const te=[],ie={radialDistributionY:function(P){return P.top+P.distributeBox.pos},radialDistributionX:function(P,I,W,N){return P.getX(W<I.top+2||W>I.bottom-2?N:W,I.half,I)},justify:function(P,I,W){return W[0]+(P.half?-1:1)*(I+P.labelDistance)},alignToPlotEdges:function(P,I,W,N){return P=P.getBBox().width,I?P+N:W-P-N},alignToConnectors:function(P,I,W,N){let S,U=0;return P.forEach(function(D){S=D.dataLabel.getBBox().width,S>U&&(U=S)}),I?U+N:W-U-N}};ee.compose=function(P){ve.compose(oe),Ve.pushUnique(te,P)&&((P=P.prototype).dataLabelPositioners=ie,P.alignDataLabel=we,P.drawDataLabels=G,P.placeDataLabels=V,P.verifyDataLabelOverflow=$)}}(H||(H={})),H}),Te(me,"Extensions/OverlappingDataLabels.js",[me["Core/Chart/Chart.js"],me["Core/Utilities.js"]],function(ve,be){function Fe(Me,z){let re,Q=!1;return Me&&(re=Me.newOpacity,Me.oldOpacity!==re&&(Me.alignAttr&&Me.placed?(Me[re?"removeClass":"addClass"]("highcharts-data-label-hidden"),Q=!0,Me.alignAttr.opacity=re,Me[Me.isOld?"animate":"attr"](Me.alignAttr,null,function(){z.styledMode||Me.css({pointerEvents:re?"auto":"none"})}),Ve(z,"afterHideOverlappingLabel")):Me.attr({opacity:re})),Me.isOld=!0),Q}const{addEvent:ze,fireEvent:Ve,isArray:we,isNumber:Ce,objectEach:oe,pick:Ae}=be;ze(ve,"render",function(){let Me=this,z=[];(this.labelCollectors||[]).forEach(function(re){z=z.concat(re())}),(this.yAxis||[]).forEach(function(re){re.stacking&&re.options.stackLabels&&!re.options.stackLabels.allowOverlap&&oe(re.stacking.stacks,function(Q){oe(Q,function(ne){ne.label&&z.push(ne.label)})})}),(this.series||[]).forEach(function(re){var Q=re.options.dataLabels;re.visible&&(!1!==Q.enabled||re._hasPointLabels)&&((Q=ne=>ne.forEach(H=>{H.visible&&(we(H.dataLabels)?H.dataLabels:H.dataLabel?[H.dataLabel]:[]).forEach(function(ee){const G=ee.options;ee.labelrank=Ae(G.labelrank,H.labelrank,H.shapeArgs&&H.shapeArgs.height),G.allowOverlap?(ee.oldOpacity=ee.opacity,ee.newOpacity=1,Fe(ee,Me)):z.push(ee)})}))(re.nodes||[]),Q(re.points))}),this.hideOverlappingLabels(z)}),ve.prototype.hideOverlappingLabels=function(Me){let z=this,re=Me.length,Q=z.renderer;var ne;let H,ee,G,V,$=!1;var te=function(ie){let P,I;var W;let S,D,N=ie.box?0:ie.padding||0,U=W=0;if(ie&&(!ie.alignAttr||ie.placed))return P=ie.alignAttr||{x:ie.attr("x"),y:ie.attr("y")},I=ie.parentGroup,ie.width||(W=ie.getBBox(),ie.width=W.width,ie.height=W.height,W=Q.fontMetrics(ie.element).h),S=ie.width-2*N,(D={left:"0",center:"0.5",right:"1"}[ie.alignValue])?U=+D*S:Ce(ie.x)&&Math.round(ie.x)!==ie.translateX&&(U=ie.x-ie.translateX),{x:P.x+(I.translateX||0)+N-(U||0),y:P.y+(I.translateY||0)+N-W,width:ie.width-2*N,height:ie.height-2*N}};for(H=0;H<re;H++)(ne=Me[H])&&(ne.oldOpacity=ne.opacity,ne.newOpacity=1,ne.absoluteBox=te(ne));for(Me.sort(function(ie,P){return(P.labelrank||0)-(ie.labelrank||0)}),H=0;H<re;H++)for(G=(te=Me[H])&&te.absoluteBox,ne=H+1;ne<re;++ne)V=(ee=Me[ne])&&ee.absoluteBox,!G||!V||te===ee||0===te.newOpacity||0===ee.newOpacity||"hidden"===te.visibility||"hidden"===ee.visibility||V.x>=G.x+G.width||V.x+V.width<=G.x||V.y>=G.y+G.height||V.y+V.height<=G.y||((te.labelrank<ee.labelrank?te:ee).newOpacity=0);Me.forEach(function(ie){Fe(ie,z)&&($=!0)}),$&&Ve(z,"afterHideAllOverlappingLabels")}}),Te(me,"Extensions/BorderRadius.js",[me["Core/Defaults.js"],me["Core/Series/Series.js"],me["Core/Series/SeriesRegistry.js"],me["Core/Renderer/SVG/SVGElement.js"],me["Core/Renderer/SVG/SVGRenderer.js"],me["Core/Utilities.js"]],function(ve,be,Fe,ze,Ve,we){const{defaultOptions:Ce}=ve;({seriesTypes:ve}=Fe);const{addEvent:oe,extend:Ae,isObject:Me,merge:z,relativeLength:re}=we,Q={radius:0,scope:"stack",where:void 0},ne=(H,ee)=>(Me(H)||(H={radius:H||0}),z(Q,ee,H));if(-1===ze.symbolCustomAttribs.indexOf("borderRadius")){ze.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY");const H=Ve.prototype.symbols.arc;Ve.prototype.symbols.arc=function(G,V,$,te,ie={}){G=H(G,V,$,te,ie);const{innerR:P=0,r:I=$,start:W=0,end:N=0}=ie;if(ie.open||!ie.borderRadius)return G;for($=N-W,V=Math.sin($/2),ie=Math.max(Math.min(re(ie.borderRadius||0,I-P),(I-P)/2,I*V/(1+V)),0),$=Math.min(ie,$/Math.PI*2*P),V=G.length-1;V--;){let j,E,q;var U=V,S=1<V?$:ie,D=(te=G)[U],T=te[U+1];if("Z"===T[0]&&(T=te[0]),"M"!==D[0]&&"L"!==D[0]||"A"!==T[0]?"A"!==D[0]||"M"!==T[0]&&"L"!==T[0]||(q=T,E=D):(q=D,E=T,j=!0),q&&E&&E.params){D=E[1];var B=E[5];T=E.params;const{start:fe,end:De,cx:Oe,cy:ue}=T;var K=B?D-S:D+S;const A=K?Math.asin(S/K):0;B=B?A:-A,K*=Math.cos(A),j?(T.start=fe+B,q[1]=Oe+K*Math.cos(fe),q[2]=ue+K*Math.sin(fe),te.splice(U+1,0,["A",S,S,0,0,1,Oe+D*Math.cos(T.start),ue+D*Math.sin(T.start)])):(T.end=De-B,E[6]=Oe+D*Math.cos(T.end),E[7]=ue+D*Math.sin(T.end),te.splice(U+1,0,["A",S,S,0,0,1,Oe+K*Math.cos(De),ue+K*Math.sin(De)])),E[4]=Math.abs(T.end-T.start)<Math.PI?0:1}}return G};const ee=Ve.prototype.symbols.roundedRect;Ve.prototype.symbols.roundedRect=function(G,V,$,te,ie={}){const P=ee(G,V,$,te,ie),{r:I=0,brBoxHeight:W=te,brBoxY:N=V}=ie;var U=V-N,S=N+W-(V+te);ie=-.1<U-I?0:I;const D=-.1<S-I?0:I;var T=Math.max(ie&&U,0);const B=Math.max(D&&S,0);S=[G+ie,V],U=[G+$-ie,V];const K=[G+$,V+ie],j=[G+$,V+te-D],E=[G+$-D,V+te],q=[G+D,V+te],fe=[G,V+te-D],De=[G,V+ie];if(T){const Oe=Math.sqrt(Math.pow(ie,2)-Math.pow(ie-T,2));S[0]-=Oe,U[0]+=Oe,K[1]=De[1]=V+ie-T}return te<ie-T&&(T=Math.sqrt(Math.pow(ie,2)-Math.pow(ie-T-te,2)),K[0]=j[0]=G+$-ie+T,E[0]=Math.min(K[0],E[0]),q[0]=Math.max(j[0],q[0]),fe[0]=De[0]=G+ie-T,K[1]=De[1]=V+te),B&&(T=Math.sqrt(Math.pow(D,2)-Math.pow(D-B,2)),E[0]+=T,q[0]-=T,j[1]=fe[1]=V+te-D+B),te<D-B&&(te=Math.sqrt(Math.pow(D,2)-Math.pow(D-B-te,2)),K[0]=j[0]=G+$-D+te,U[0]=Math.min(K[0],U[0]),S[0]=Math.max(j[0],S[0]),fe[0]=De[0]=G+D-te,j[1]=fe[1]=V),P.length=0,P.push(["M",...S],["L",...U],["A",ie,ie,0,0,1,...K],["L",...j],["A",D,D,0,0,1,...E],["L",...q],["A",D,D,0,0,1,...fe],["L",...De],["A",ie,ie,0,0,1,...S],["Z"]),P},oe(ve.pie,"afterTranslate",function(){const G=ne(this.options.borderRadius);for(const V of this.points){const $=V.shapeArgs;$&&($.borderRadius=re(G.radius,($.r||0)-($.innerR||0)))}}),oe(be,"afterColumnTranslate",function(){var G,V;if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){const{options:P,yAxis:I}=this,W="percent"===P.stacking;var $=null===(V=null===(G=Ce.plotOptions)||void 0===G?void 0:G[this.type])||void 0===V?void 0:V.borderRadius;G=ne(P.borderRadius,Me($)?$:{}),V=I.options.reversed;for(const N of this.points)if(({shapeArgs:$}=N),"roundedRect"===N.shapeType&&$){const{width:U=0,height:S=0,y:D=0}=$;var te=D,ie=S;"stack"===G.scope&&N.stackTotal&&(te=I.translate(W?100:N.stackTotal,!1,!0,!1,!0),ie=I.translate(P.threshold||0,!1,!0,!1,!0),te=(ie=this.crispCol(0,Math.min(te,ie),0,Math.abs(te-ie))).y,ie=ie.height);const T=(N.negative?-1:1)*(V?-1:1)==-1;let B=G.where;!B&&this.is("waterfall")&&Math.abs((N.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(B="all"),B||(B="end");const K=Math.min(re(G.radius,U),U/2,"all"===B?S/2:1/0)||0;"end"===B&&(T&&(te-=K),ie+=K),Ae($,{brBoxHeight:ie,brBoxY:te,r:K})}}},{order:9})}return{optionsToObject:ne}}),Te(me,"Core/Responsive.js",[me["Core/Utilities.js"]],function(ve){const{diffObjects:be,extend:Fe,find:ze,merge:Ve,pick:we,uniqueKey:Ce}=ve;var oe;return function(Ae){function Me(Q,ne){const H=Q.condition;(H.callback||function(){return this.chartWidth<=we(H.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=we(H.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=we(H.minWidth,0)&&this.chartHeight>=we(H.minHeight,0)}).call(this)&&ne.push(Q._id)}function z(Q,ne){const H=this.options.responsive;var ee=this.currentResponsive;let G=[];!ne&&H&&H.rules&&H.rules.forEach(V=>{typeof V._id>"u"&&(V._id=Ce()),this.matchResponsiveRule(V,G)},this),(ne=Ve(...G.map(V=>ze((H||{}).rules||[],$=>$._id===V)).map(V=>V&&V.chartOptions))).isResponsiveOptions=!0,G=G.toString()||void 0,G!==(ee&&ee.ruleIds)&&(ee&&this.update(ee.undoOptions,Q,!0),G?((ee=be(ne,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:G,mergedOptions:ne,undoOptions:ee},this.update(ne,Q,!0)):this.currentResponsive=void 0)}const re=[];Ae.compose=function(Q){return ve.pushUnique(re,Q)&&Fe(Q.prototype,{matchResponsiveRule:Me,setResponsive:z}),Q}}(oe||(oe={})),oe}),Te(me,"masters/highcharts.src.js",[me["Core/Globals.js"],me["Core/Utilities.js"],me["Core/Defaults.js"],me["Core/Animation/Fx.js"],me["Core/Animation/AnimationUtilities.js"],me["Core/Renderer/HTML/AST.js"],me["Core/Templating.js"],me["Core/Renderer/RendererUtilities.js"],me["Core/Renderer/SVG/SVGElement.js"],me["Core/Renderer/SVG/SVGRenderer.js"],me["Core/Renderer/HTML/HTMLElement.js"],me["Core/Renderer/HTML/HTMLRenderer.js"],me["Core/Axis/Axis.js"],me["Core/Axis/DateTimeAxis.js"],me["Core/Axis/LogarithmicAxis.js"],me["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],me["Core/Axis/Tick.js"],me["Core/Tooltip.js"],me["Core/Series/Point.js"],me["Core/Pointer.js"],me["Core/Legend/Legend.js"],me["Core/Chart/Chart.js"],me["Core/Axis/Stacking/StackingAxis.js"],me["Core/Axis/Stacking/StackItem.js"],me["Core/Series/Series.js"],me["Core/Series/SeriesRegistry.js"],me["Series/Column/ColumnSeries.js"],me["Series/Column/ColumnDataLabel.js"],me["Series/Pie/PieSeries.js"],me["Series/Pie/PieDataLabel.js"],me["Core/Series/DataLabel.js"],me["Core/Responsive.js"],me["Core/Color/Color.js"],me["Core/Time.js"]],function(ve,be,Fe,ze,Ve,we,Ce,oe,Ae,Me,z,re,Q,ne,H,ee,G,V,$,te,ie,P,I,W,N,U,S,D,T,B,K,j,E,q){return ve.animate=Ve.animate,ve.animObject=Ve.animObject,ve.getDeferredAnimation=Ve.getDeferredAnimation,ve.setAnimation=Ve.setAnimation,ve.stop=Ve.stop,ve.timers=ze.timers,ve.AST=we,ve.Axis=Q,ve.Chart=P,ve.chart=P.chart,ve.Fx=ze,ve.Legend=ie,ve.PlotLineOrBand=ee,ve.Point=$,ve.Pointer=te,ve.Series=N,ve.StackItem=W,ve.SVGElement=Ae,ve.SVGRenderer=Me,ve.Templating=Ce,ve.Tick=G,ve.Time=q,ve.Tooltip=V,ve.Color=E,ve.color=E.parse,re.compose(Me),z.compose(Ae),te.compose(P),ie.compose(P),ve.defaultOptions=Fe.defaultOptions,ve.getOptions=Fe.getOptions,ve.time=Fe.defaultTime,ve.setOptions=Fe.setOptions,ve.dateFormat=Ce.dateFormat,ve.format=Ce.format,ve.numberFormat=Ce.numberFormat,ve.addEvent=be.addEvent,ve.arrayMax=be.arrayMax,ve.arrayMin=be.arrayMin,ve.attr=be.attr,ve.clearTimeout=be.clearTimeout,ve.correctFloat=be.correctFloat,ve.createElement=be.createElement,ve.css=be.css,ve.defined=be.defined,ve.destroyObjectProperties=be.destroyObjectProperties,ve.discardElement=be.discardElement,ve.distribute=oe.distribute,ve.erase=be.erase,ve.error=be.error,ve.extend=be.extend,ve.extendClass=be.extendClass,ve.find=be.find,ve.fireEvent=be.fireEvent,ve.getMagnitude=be.getMagnitude,ve.getStyle=be.getStyle,ve.inArray=be.inArray,ve.isArray=be.isArray,ve.isClass=be.isClass,ve.isDOMElement=be.isDOMElement,ve.isFunction=be.isFunction,ve.isNumber=be.isNumber,ve.isObject=be.isObject,ve.isString=be.isString,ve.keys=be.keys,ve.merge=be.merge,ve.normalizeTickInterval=be.normalizeTickInterval,ve.objectEach=be.objectEach,ve.offset=be.offset,ve.pad=be.pad,ve.pick=be.pick,ve.pInt=be.pInt,ve.relativeLength=be.relativeLength,ve.removeEvent=be.removeEvent,ve.seriesType=U.seriesType,ve.splat=be.splat,ve.stableSort=be.stableSort,ve.syncTimeout=be.syncTimeout,ve.timeUnits=be.timeUnits,ve.uniqueKey=be.uniqueKey,ve.useSerialIds=be.useSerialIds,ve.wrap=be.wrap,D.compose(S),K.compose(N),ne.compose(Q),H.compose(Q),B.compose(T),ee.compose(Q),j.compose(P),I.compose(Q,P,N),V.compose(te),ve}),me["masters/highcharts.src.js"]._modules=me,me["masters/highcharts.src.js"]},Jt.exports?(Te.default=Te,Jt.exports=it.document?Te(it):Te):void 0!==(o=function(){return Te(it)}.call(wt,He,wt,Jt))&&(Jt.exports=o)},9751:(Jt,wt,He)=>{He.d(wt,{y:()=>ze});var o=He(930),it=He(727),Te=He(8822),me=He(9635),ve=He(2416),be=He(576),Fe=He(2806);let ze=(()=>{class oe{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const z=new oe;return z.source=this,z.operator=Me,z}subscribe(Me,z,re){const Q=function Ce(oe){return oe&&oe instanceof o.Lv||function we(oe){return oe&&(0,be.m)(oe.next)&&(0,be.m)(oe.error)&&(0,be.m)(oe.complete)}(oe)&&(0,it.Nn)(oe)}(Me)?Me:new o.Hp(Me,z,re);return(0,Fe.x)(()=>{const{operator:ne,source:H}=this;Q.add(ne?ne.call(Q,H):H?this._subscribe(Q):this._trySubscribe(Q))}),Q}_trySubscribe(Me){try{return this._subscribe(Me)}catch(z){Me.error(z)}}forEach(Me,z){return new(z=Ve(z))((re,Q)=>{const ne=new o.Hp({next:H=>{try{Me(H)}catch(ee){Q(ee),ne.unsubscribe()}},error:Q,complete:re});this.subscribe(ne)})}_subscribe(Me){var z;return null===(z=this.source)||void 0===z?void 0:z.subscribe(Me)}[Te.L](){return this}pipe(...Me){return(0,me.U)(Me)(this)}toPromise(Me){return new(Me=Ve(Me))((z,re)=>{let Q;this.subscribe(ne=>Q=ne,ne=>re(ne),()=>z(Q))})}}return oe.create=Ae=>new oe(Ae),oe})();function Ve(oe){var Ae;return null!==(Ae=oe??ve.v.Promise)&&void 0!==Ae?Ae:Promise}},7579:(Jt,wt,He)=>{He.d(wt,{x:()=>Fe});var o=He(9751),it=He(727);const me=(0,He(3888).d)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=He(8737),be=He(2806);let Fe=(()=>{class Ve extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ce){const oe=new ze(this,this);return oe.operator=Ce,oe}_throwIfClosed(){if(this.closed)throw new me}next(Ce){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const oe of this.currentObservers)oe.next(Ce)}})}error(Ce){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ce;const{observers:oe}=this;for(;oe.length;)oe.shift().error(Ce)}})}complete(){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ce}=this;for(;Ce.length;)Ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ce;return(null===(Ce=this.observers)||void 0===Ce?void 0:Ce.length)>0}_trySubscribe(Ce){return this._throwIfClosed(),super._trySubscribe(Ce)}_subscribe(Ce){return this._throwIfClosed(),this._checkFinalizedStatuses(Ce),this._innerSubscribe(Ce)}_innerSubscribe(Ce){const{hasError:oe,isStopped:Ae,observers:Me}=this;return oe||Ae?it.Lc:(this.currentObservers=null,Me.push(Ce),new it.w0(()=>{this.currentObservers=null,(0,ve.P)(Me,Ce)}))}_checkFinalizedStatuses(Ce){const{hasError:oe,thrownError:Ae,isStopped:Me}=this;oe?Ce.error(Ae):Me&&Ce.complete()}asObservable(){const Ce=new o.y;return Ce.source=this,Ce}}return Ve.create=(we,Ce)=>new ze(we,Ce),Ve})();class ze extends Fe{constructor(we,Ce){super(),this.destination=we,this.source=Ce}next(we){var Ce,oe;null===(oe=null===(Ce=this.destination)||void 0===Ce?void 0:Ce.next)||void 0===oe||oe.call(Ce,we)}error(we){var Ce,oe;null===(oe=null===(Ce=this.destination)||void 0===Ce?void 0:Ce.error)||void 0===oe||oe.call(Ce,we)}complete(){var we,Ce;null===(Ce=null===(we=this.destination)||void 0===we?void 0:we.complete)||void 0===Ce||Ce.call(we)}_subscribe(we){var Ce,oe;return null!==(oe=null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(we))&&void 0!==oe?oe:it.Lc}}},930:(Jt,wt,He)=>{He.d(wt,{Hp:()=>re,Lv:()=>oe});var o=He(576),it=He(727),Te=He(2416),me=He(7849),ve=He(5032);const be=Ve("C",void 0,void 0);function Ve(G,V,$){return{kind:G,value:V,error:$}}var we=He(9068),Ce=He(2806);class oe extends it.w0{constructor(V){super(),this.isStopped=!1,V?(this.destination=V,(0,it.Nn)(V)&&V.add(this)):this.destination=ee}static create(V,$,te){return new re(V,$,te)}next(V){this.isStopped?H(function ze(G){return Ve("N",G,void 0)}(V),this):this._next(V)}error(V){this.isStopped?H(function Fe(G){return Ve("E",void 0,G)}(V),this):(this.isStopped=!0,this._error(V))}complete(){this.isStopped?H(be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(V){this.destination.next(V)}_error(V){try{this.destination.error(V)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ae=Function.prototype.bind;function Me(G,V){return Ae.call(G,V)}class z{constructor(V){this.partialObserver=V}next(V){const{partialObserver:$}=this;if($.next)try{$.next(V)}catch(te){Q(te)}}error(V){const{partialObserver:$}=this;if($.error)try{$.error(V)}catch(te){Q(te)}else Q(V)}complete(){const{partialObserver:V}=this;if(V.complete)try{V.complete()}catch($){Q($)}}}class re extends oe{constructor(V,$,te){let ie;if(super(),(0,o.m)(V)||!V)ie={next:V??void 0,error:$??void 0,complete:te??void 0};else{let P;this&&Te.v.useDeprecatedNextContext?(P=Object.create(V),P.unsubscribe=()=>this.unsubscribe(),ie={next:V.next&&Me(V.next,P),error:V.error&&Me(V.error,P),complete:V.complete&&Me(V.complete,P)}):ie=V}this.destination=new z(ie)}}function Q(G){Te.v.useDeprecatedSynchronousErrorHandling?(0,Ce.O)(G):(0,me.h)(G)}function H(G,V){const{onStoppedNotification:$}=Te.v;$&&we.z.setTimeout(()=>$(G,V))}const ee={closed:!0,next:ve.Z,error:function ne(G){throw G},complete:ve.Z}},727:(Jt,wt,He)=>{He.d(wt,{Lc:()=>be,w0:()=>ve,Nn:()=>Fe});var o=He(576);const Te=(0,He(3888).d)(Ve=>function(Ce){Ve(this),this.message=Ce?`${Ce.length} errors occurred during unsubscription:\n${Ce.map((oe,Ae)=>`${Ae+1}) ${oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ce});var me=He(8737);class ve{constructor(we){this.initialTeardown=we,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let we;if(!this.closed){this.closed=!0;const{_parentage:Ce}=this;if(Ce)if(this._parentage=null,Array.isArray(Ce))for(const Me of Ce)Me.remove(this);else Ce.remove(this);const{initialTeardown:oe}=this;if((0,o.m)(oe))try{oe()}catch(Me){we=Me instanceof Te?Me.errors:[Me]}const{_finalizers:Ae}=this;if(Ae){this._finalizers=null;for(const Me of Ae)try{ze(Me)}catch(z){we=we??[],z instanceof Te?we=[...we,...z.errors]:we.push(z)}}if(we)throw new Te(we)}}add(we){var Ce;if(we&&we!==this)if(this.closed)ze(we);else{if(we instanceof ve){if(we.closed||we._hasParent(this))return;we._addParent(this)}(this._finalizers=null!==(Ce=this._finalizers)&&void 0!==Ce?Ce:[]).push(we)}}_hasParent(we){const{_parentage:Ce}=this;return Ce===we||Array.isArray(Ce)&&Ce.includes(we)}_addParent(we){const{_parentage:Ce}=this;this._parentage=Array.isArray(Ce)?(Ce.push(we),Ce):Ce?[Ce,we]:we}_removeParent(we){const{_parentage:Ce}=this;Ce===we?this._parentage=null:Array.isArray(Ce)&&(0,me.P)(Ce,we)}remove(we){const{_finalizers:Ce}=this;Ce&&(0,me.P)(Ce,we),we instanceof ve&&we._removeParent(this)}}ve.EMPTY=(()=>{const Ve=new ve;return Ve.closed=!0,Ve})();const be=ve.EMPTY;function Fe(Ve){return Ve instanceof ve||Ve&&"closed"in Ve&&(0,o.m)(Ve.remove)&&(0,o.m)(Ve.add)&&(0,o.m)(Ve.unsubscribe)}function ze(Ve){(0,o.m)(Ve)?Ve():Ve.unsubscribe()}},2416:(Jt,wt,He)=>{He.d(wt,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Jt,wt,He)=>{He.d(wt,{E:()=>it});const it=new(He(9751).y)(ve=>ve.complete())},8996:(Jt,wt,He)=>{He.d(wt,{D:()=>V});var o=He(8421),it=He(5363),Te=He(9468),be=He(9751),ze=He(2202),Ve=He(576),we=He(9672);function oe($,te){if(!$)throw new Error("Iterable cannot be null");return new be.y(ie=>{(0,we.f)(ie,te,()=>{const P=$[Symbol.asyncIterator]();(0,we.f)(ie,te,()=>{P.next().then(I=>{I.done?ie.complete():ie.next(I.value)})},0,!0)})})}var Ae=He(3670),Me=He(8239),z=He(1144),re=He(6495),Q=He(2206),ne=He(4532),H=He(3260);function V($,te){return te?function G($,te){if(null!=$){if((0,Ae.c)($))return function me($,te){return(0,o.Xf)($).pipe((0,Te.R)(te),(0,it.Q)(te))}($,te);if((0,z.z)($))return function Fe($,te){return new be.y(ie=>{let P=0;return te.schedule(function(){P===$.length?ie.complete():(ie.next($[P++]),ie.closed||this.schedule())})})}($,te);if((0,Me.t)($))return function ve($,te){return(0,o.Xf)($).pipe((0,Te.R)(te),(0,it.Q)(te))}($,te);if((0,Q.D)($))return oe($,te);if((0,re.T)($))return function Ce($,te){return new be.y(ie=>{let P;return(0,we.f)(ie,te,()=>{P=$[ze.h](),(0,we.f)(ie,te,()=>{let I,W;try{({value:I,done:W}=P.next())}catch(N){return void ie.error(N)}W?ie.complete():ie.next(I)},0,!0)}),()=>(0,Ve.m)(P?.return)&&P.return()})}($,te);if((0,H.L)($))return function ee($,te){return oe((0,H.Q)($),te)}($,te)}throw(0,ne.z)($)}($,te):(0,o.Xf)($)}},8421:(Jt,wt,He)=>{He.d(wt,{Xf:()=>Ae});var o=He(7582),it=He(1144),Te=He(8239),me=He(9751),ve=He(3670),be=He(2206),Fe=He(4532),ze=He(6495),Ve=He(3260),we=He(576),Ce=He(7849),oe=He(8822);function Ae(G){if(G instanceof me.y)return G;if(null!=G){if((0,ve.c)(G))return function Me(G){return new me.y(V=>{const $=G[oe.L]();if((0,we.m)($.subscribe))return $.subscribe(V);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(G);if((0,it.z)(G))return function z(G){return new me.y(V=>{for(let $=0;$<G.length&&!V.closed;$++)V.next(G[$]);V.complete()})}(G);if((0,Te.t)(G))return function re(G){return new me.y(V=>{G.then($=>{V.closed||(V.next($),V.complete())},$=>V.error($)).then(null,Ce.h)})}(G);if((0,be.D)(G))return ne(G);if((0,ze.T)(G))return function Q(G){return new me.y(V=>{for(const $ of G)if(V.next($),V.closed)return;V.complete()})}(G);if((0,Ve.L)(G))return function H(G){return ne((0,Ve.Q)(G))}(G)}throw(0,Fe.z)(G)}function ne(G){return new me.y(V=>{(function ee(G,V){var $,te,ie,P;return(0,o.mG)(this,void 0,void 0,function*(){try{for($=(0,o.KL)(G);!(te=yield $.next()).done;)if(V.next(te.value),V.closed)return}catch(I){ie={error:I}}finally{try{te&&!te.done&&(P=$.return)&&(yield P.call($))}finally{if(ie)throw ie.error}}V.complete()})})(G,V).catch($=>V.error($))})}},6451:(Jt,wt,He)=>{He.d(wt,{T:()=>be});var o=He(8189),it=He(8421),Te=He(515),me=He(3269),ve=He(8996);function be(...Fe){const ze=(0,me.yG)(Fe),Ve=(0,me._6)(Fe,1/0),we=Fe;return we.length?1===we.length?(0,it.Xf)(we[0]):(0,o.J)(Ve)((0,ve.D)(we,ze)):Te.E}},5403:(Jt,wt,He)=>{He.d(wt,{x:()=>it});var o=He(930);function it(me,ve,be,Fe,ze){return new Te(me,ve,be,Fe,ze)}class Te extends o.Lv{constructor(ve,be,Fe,ze,Ve,we){super(ve),this.onFinalize=Ve,this.shouldUnsubscribe=we,this._next=be?function(Ce){try{be(Ce)}catch(oe){ve.error(oe)}}:super._next,this._error=ze?function(Ce){try{ze(Ce)}catch(oe){ve.error(oe)}finally{this.unsubscribe()}}:super._error,this._complete=Fe?function(){try{Fe()}catch(Ce){ve.error(Ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:be}=this;super.unsubscribe(),!be&&(null===(ve=this.onFinalize)||void 0===ve||ve.call(this))}}}},4004:(Jt,wt,He)=>{He.d(wt,{U:()=>Te});var o=He(4482),it=He(5403);function Te(me,ve){return(0,o.e)((be,Fe)=>{let ze=0;be.subscribe((0,it.x)(Fe,Ve=>{Fe.next(me.call(ve,Ve,ze++))}))})}},8189:(Jt,wt,He)=>{He.d(wt,{J:()=>Te});var o=He(5577),it=He(4671);function Te(me=1/0){return(0,o.z)(it.y,me)}},5577:(Jt,wt,He)=>{He.d(wt,{z:()=>ze});var o=He(4004),it=He(8421),Te=He(4482),me=He(9672),ve=He(5403),Fe=He(576);function ze(Ve,we,Ce=1/0){return(0,Fe.m)(we)?ze((oe,Ae)=>(0,o.U)((Me,z)=>we(oe,Me,Ae,z))((0,it.Xf)(Ve(oe,Ae))),Ce):("number"==typeof we&&(Ce=we),(0,Te.e)((oe,Ae)=>function be(Ve,we,Ce,oe,Ae,Me,z,re){const Q=[];let ne=0,H=0,ee=!1;const G=()=>{ee&&!Q.length&&!ne&&we.complete()},V=te=>ne<oe?$(te):Q.push(te),$=te=>{Me&&we.next(te),ne++;let ie=!1;(0,it.Xf)(Ce(te,H++)).subscribe((0,ve.x)(we,P=>{Ae?.(P),Me?V(P):we.next(P)},()=>{ie=!0},void 0,()=>{if(ie)try{for(ne--;Q.length&&ne<oe;){const P=Q.shift();z?(0,me.f)(we,z,()=>$(P)):$(P)}G()}catch(P){we.error(P)}}))};return Ve.subscribe((0,ve.x)(we,V,()=>{ee=!0,G()})),()=>{re?.()}}(oe,Ae,Ve,Ce)))}},5363:(Jt,wt,He)=>{He.d(wt,{Q:()=>me});var o=He(9672),it=He(4482),Te=He(5403);function me(ve,be=0){return(0,it.e)((Fe,ze)=>{Fe.subscribe((0,Te.x)(ze,Ve=>(0,o.f)(ze,ve,()=>ze.next(Ve),be),()=>(0,o.f)(ze,ve,()=>ze.complete(),be),Ve=>(0,o.f)(ze,ve,()=>ze.error(Ve),be)))})}},3099:(Jt,wt,He)=>{He.d(wt,{B:()=>ve});var o=He(8421),it=He(7579),Te=He(930),me=He(4482);function ve(Fe={}){const{connector:ze=(()=>new it.x),resetOnError:Ve=!0,resetOnComplete:we=!0,resetOnRefCountZero:Ce=!0}=Fe;return oe=>{let Ae,Me,z,re=0,Q=!1,ne=!1;const H=()=>{Me?.unsubscribe(),Me=void 0},ee=()=>{H(),Ae=z=void 0,Q=ne=!1},G=()=>{const V=Ae;ee(),V?.unsubscribe()};return(0,me.e)((V,$)=>{re++,!ne&&!Q&&H();const te=z=z??ze();$.add(()=>{re--,0===re&&!ne&&!Q&&(Me=be(G,Ce))}),te.subscribe($),!Ae&&re>0&&(Ae=new Te.Hp({next:ie=>te.next(ie),error:ie=>{ne=!0,H(),Me=be(ee,Ve,ie),te.error(ie)},complete:()=>{Q=!0,H(),Me=be(ee,we),te.complete()}}),(0,o.Xf)(V).subscribe(Ae))})(oe)}}function be(Fe,ze,...Ve){if(!0===ze)return void Fe();if(!1===ze)return;const we=new Te.Hp({next:()=>{we.unsubscribe(),Fe()}});return ze(...Ve).subscribe(we)}},9468:(Jt,wt,He)=>{He.d(wt,{R:()=>it});var o=He(4482);function it(Te,me=0){return(0,o.e)((ve,be)=>{be.add(Te.schedule(()=>ve.subscribe(be),me))})}},8505:(Jt,wt,He)=>{He.d(wt,{b:()=>ve});var o=He(576),it=He(4482),Te=He(5403),me=He(4671);function ve(be,Fe,ze){const Ve=(0,o.m)(be)||Fe||ze?{next:be,error:Fe,complete:ze}:be;return Ve?(0,it.e)((we,Ce)=>{var oe;null===(oe=Ve.subscribe)||void 0===oe||oe.call(Ve);let Ae=!0;we.subscribe((0,Te.x)(Ce,Me=>{var z;null===(z=Ve.next)||void 0===z||z.call(Ve,Me),Ce.next(Me)},()=>{var Me;Ae=!1,null===(Me=Ve.complete)||void 0===Me||Me.call(Ve),Ce.complete()},Me=>{var z;Ae=!1,null===(z=Ve.error)||void 0===z||z.call(Ve,Me),Ce.error(Me)},()=>{var Me,z;Ae&&(null===(Me=Ve.unsubscribe)||void 0===Me||Me.call(Ve)),null===(z=Ve.finalize)||void 0===z||z.call(Ve)}))}):me.y}},4408:(Jt,wt,He)=>{He.d(wt,{o:()=>ve});var o=He(727);class it extends o.w0{constructor(Fe,ze){super()}schedule(Fe,ze=0){return this}}const Te={setInterval(be,Fe,...ze){const{delegate:Ve}=Te;return Ve?.setInterval?Ve.setInterval(be,Fe,...ze):setInterval(be,Fe,...ze)},clearInterval(be){const{delegate:Fe}=Te;return(Fe?.clearInterval||clearInterval)(be)},delegate:void 0};var me=He(8737);class ve extends it{constructor(Fe,ze){super(Fe,ze),this.scheduler=Fe,this.work=ze,this.pending=!1}schedule(Fe,ze=0){var Ve;if(this.closed)return this;this.state=Fe;const we=this.id,Ce=this.scheduler;return null!=we&&(this.id=this.recycleAsyncId(Ce,we,ze)),this.pending=!0,this.delay=ze,this.id=null!==(Ve=this.id)&&void 0!==Ve?Ve:this.requestAsyncId(Ce,this.id,ze),this}requestAsyncId(Fe,ze,Ve=0){return Te.setInterval(Fe.flush.bind(Fe,this),Ve)}recycleAsyncId(Fe,ze,Ve=0){if(null!=Ve&&this.delay===Ve&&!1===this.pending)return ze;null!=ze&&Te.clearInterval(ze)}execute(Fe,ze){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(Fe,ze);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Fe,ze){let we,Ve=!1;try{this.work(Fe)}catch(Ce){Ve=!0,we=Ce||new Error("Scheduled action threw falsy error")}if(Ve)return this.unsubscribe(),we}unsubscribe(){if(!this.closed){const{id:Fe,scheduler:ze}=this,{actions:Ve}=ze;this.work=this.state=this.scheduler=null,this.pending=!1,(0,me.P)(Ve,this),null!=Fe&&(this.id=this.recycleAsyncId(ze,Fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Jt,wt,He)=>{He.d(wt,{v:()=>Te});var o=He(6063);class it{constructor(ve,be=it.now){this.schedulerActionCtor=ve,this.now=be}schedule(ve,be=0,Fe){return new this.schedulerActionCtor(this,ve).schedule(Fe,be)}}it.now=o.l.now;class Te extends it{constructor(ve,be=it.now){super(ve,be),this.actions=[],this._active=!1}flush(ve){const{actions:be}=this;if(this._active)return void be.push(ve);let Fe;this._active=!0;do{if(Fe=ve.execute(ve.state,ve.delay))break}while(ve=be.shift());if(this._active=!1,Fe){for(;ve=be.shift();)ve.unsubscribe();throw Fe}}}},4986:(Jt,wt,He)=>{He.d(wt,{P:()=>me,z:()=>Te});var o=He(4408);const Te=new(He(7565).v)(o.o),me=Te},6063:(Jt,wt,He)=>{He.d(wt,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},9068:(Jt,wt,He)=>{He.d(wt,{z:()=>o});const o={setTimeout(it,Te,...me){const{delegate:ve}=o;return ve?.setTimeout?ve.setTimeout(it,Te,...me):setTimeout(it,Te,...me)},clearTimeout(it){const{delegate:Te}=o;return(Te?.clearTimeout||clearTimeout)(it)},delegate:void 0}},2202:(Jt,wt,He)=>{He.d(wt,{h:()=>it});const it=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Jt,wt,He)=>{He.d(wt,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Jt,wt,He)=>{He.d(wt,{_6:()=>be,jO:()=>me,yG:()=>ve});var o=He(576),it=He(3532);function Te(Fe){return Fe[Fe.length-1]}function me(Fe){return(0,o.m)(Te(Fe))?Fe.pop():void 0}function ve(Fe){return(0,it.K)(Te(Fe))?Fe.pop():void 0}function be(Fe,ze){return"number"==typeof Te(Fe)?Fe.pop():ze}},8737:(Jt,wt,He)=>{function o(it,Te){if(it){const me=it.indexOf(Te);0<=me&&it.splice(me,1)}}He.d(wt,{P:()=>o})},3888:(Jt,wt,He)=>{function o(it){const me=it(ve=>{Error.call(ve),ve.stack=(new Error).stack});return me.prototype=Object.create(Error.prototype),me.prototype.constructor=me,me}He.d(wt,{d:()=>o})},2806:(Jt,wt,He)=>{He.d(wt,{O:()=>me,x:()=>Te});var o=He(2416);let it=null;function Te(ve){if(o.v.useDeprecatedSynchronousErrorHandling){const be=!it;if(be&&(it={errorThrown:!1,error:null}),ve(),be){const{errorThrown:Fe,error:ze}=it;if(it=null,Fe)throw ze}}else ve()}function me(ve){o.v.useDeprecatedSynchronousErrorHandling&&it&&(it.errorThrown=!0,it.error=ve)}},9672:(Jt,wt,He)=>{function o(it,Te,me,ve=0,be=!1){const Fe=Te.schedule(function(){me(),be?it.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(it.add(Fe),!be)return Fe}He.d(wt,{f:()=>o})},4671:(Jt,wt,He)=>{function o(it){return it}He.d(wt,{y:()=>o})},1144:(Jt,wt,He)=>{He.d(wt,{z:()=>o});const o=it=>it&&"number"==typeof it.length&&"function"!=typeof it},2206:(Jt,wt,He)=>{He.d(wt,{D:()=>it});var o=He(576);function it(Te){return Symbol.asyncIterator&&(0,o.m)(Te?.[Symbol.asyncIterator])}},576:(Jt,wt,He)=>{function o(it){return"function"==typeof it}He.d(wt,{m:()=>o})},3670:(Jt,wt,He)=>{He.d(wt,{c:()=>Te});var o=He(8822),it=He(576);function Te(me){return(0,it.m)(me[o.L])}},6495:(Jt,wt,He)=>{He.d(wt,{T:()=>Te});var o=He(2202),it=He(576);function Te(me){return(0,it.m)(me?.[o.h])}},8239:(Jt,wt,He)=>{He.d(wt,{t:()=>it});var o=He(576);function it(Te){return(0,o.m)(Te?.then)}},3260:(Jt,wt,He)=>{He.d(wt,{L:()=>me,Q:()=>Te});var o=He(7582),it=He(576);function Te(ve){return(0,o.FC)(this,arguments,function*(){const Fe=ve.getReader();try{for(;;){const{value:ze,done:Ve}=yield(0,o.qq)(Fe.read());if(Ve)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(ze)}}finally{Fe.releaseLock()}})}function me(ve){return(0,it.m)(ve?.getReader)}},3532:(Jt,wt,He)=>{He.d(wt,{K:()=>it});var o=He(576);function it(Te){return Te&&(0,o.m)(Te.schedule)}},4482:(Jt,wt,He)=>{He.d(wt,{A:()=>it,e:()=>Te});var o=He(576);function it(me){return(0,o.m)(me?.lift)}function Te(me){return ve=>{if(it(ve))return ve.lift(function(be){try{return me(be,this)}catch(Fe){this.error(Fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Jt,wt,He)=>{function o(){}He.d(wt,{Z:()=>o})},9635:(Jt,wt,He)=>{He.d(wt,{U:()=>Te,z:()=>it});var o=He(4671);function it(...me){return Te(me)}function Te(me){return 0===me.length?o.y:1===me.length?me[0]:function(be){return me.reduce((Fe,ze)=>ze(Fe),be)}}},7849:(Jt,wt,He)=>{He.d(wt,{h:()=>Te});var o=He(2416),it=He(9068);function Te(me){it.z.setTimeout(()=>{const{onUnhandledError:ve}=o.v;if(!ve)throw me;ve(me)})}},4532:(Jt,wt,He)=>{function o(it){return new TypeError(`You provided ${null!==it&&"object"==typeof it?"an invalid object":`'${it}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}He.d(wt,{z:()=>o})},4650:(Jt,wt,He)=>{He.d(wt,{$8M:()=>fu,$Z:()=>W0,AFp:()=>_M,ALo:()=>WE,AaK:()=>ze,BQk:()=>Vg,CHM:()=>eu,CRH:()=>eM,CZH:()=>ub,CqO:()=>vw,D6c:()=>IL,DdM:()=>HE,EJc:()=>ef,EiD:()=>zu,EpF:()=>gw,F$t:()=>pr,F4k:()=>yw,FYo:()=>fl,FiY:()=>ba,G48:()=>vL,Gf:()=>Jv,GfV:()=>bg,GkF:()=>ov,Gpc:()=>Ce,Gre:()=>Ug,Hsn:()=>lv,Ikx:()=>Hw,JOm:()=>ws,JVY:()=>ju,KtG:()=>Td,L6k:()=>fh,LAX:()=>Cy,LFG:()=>Ei,LSH:()=>Yi,Lbi:()=>f1,Lck:()=>dC,MAs:()=>pw,MMx:()=>Vv,NdJ:()=>bw,O4$:()=>Fd,OlP:()=>ci,Oqu:()=>pv,PXZ:()=>gL,Q6J:()=>mw,QGY:()=>_w,QP$:()=>_n,QbO:()=>p1,Qsj:()=>ta,R0b:()=>mo,RDi:()=>dp,Rgc:()=>Xh,SBq:()=>hl,Sil:()=>CM,Suo:()=>eb,TTD:()=>ms,TgZ:()=>Pp,Udp:()=>dv,VKq:()=>vC,WFA:()=>ww,X6Q:()=>w1,XFs:()=>Le,Xpm:()=>zn,Xts:()=>Jo,Y36:()=>xp,YKP:()=>LE,YNc:()=>iv,Yjl:()=>et,Yz7:()=>Oe,Z0I:()=>pe,ZZ4:()=>ix,_Bn:()=>FE,_UZ:()=>Ph,_Vd:()=>oo,_c5:()=>N1,_uU:()=>Ac,aQg:()=>rx,c2e:()=>Cl,cJS:()=>A,cg1:()=>jw,d8E:()=>Dv,dDg:()=>DM,dqk:()=>nt,eBb:()=>gg,eFA:()=>EM,ekj:()=>Lp,eoX:()=>em,f3M:()=>xu,g9A:()=>bM,h0i:()=>cd,hGG:()=>B1,hij:()=>mv,iGM:()=>Qv,ifc:()=>Qe,ip1:()=>UC,jDz:()=>Hv,kL8:()=>od,kcU:()=>ru,lG2:()=>$e,lcZ:()=>Yv,lqb:()=>Gu,lri:()=>g_,mCW:()=>x,n5z:()=>Ci,n_E:()=>Yp,oAB:()=>ns,oxw:()=>Cw,pB0:()=>w0,q3G:()=>Ii,q4F:()=>yp,qLn:()=>wg,qOj:()=>hw,qZA:()=>nd,qzn:()=>Kn,rWj:()=>__,s9C:()=>cv,sBO:()=>wL,sIi:()=>Oa,s_b:()=>Zp,soG:()=>GC,tb:()=>zC,tp0:()=>vs,uIk:()=>Qy,vHH:()=>z,vpe:()=>wl,wAp:()=>wn,xp6:()=>QI,ynx:()=>Fh,z2F:()=>w_,z3N:()=>Tr,zSh:()=>Ay,zs3:()=>pl});var o=He(7579),it=He(727),Te=He(9751),me=He(6451),ve=He(3099);function be(l){for(let c in l)if(l[c]===be)return c;throw Error("Could not find renamed property on target object.")}function Fe(l,c){for(const d in c)c.hasOwnProperty(d)&&!l.hasOwnProperty(d)&&(l[d]=c[d])}function ze(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(ze).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const c=l.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function Ve(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}const we=be({__forward_ref__:be});function Ce(l){return l.__forward_ref__=Ce,l.toString=function(){return ze(this())},l}function oe(l){return Ae(l)?l():l}function Ae(l){return"function"==typeof l&&l.hasOwnProperty(we)&&l.__forward_ref__===Ce}class z extends Error{constructor(c,d){super(function re(l,c){return`NG0${Math.abs(l)}${c?": "+c.trim():""}`}(c,d)),this.code=c}}function Q(l){return"string"==typeof l?l:null==l?"":String(l)}function V(l,c){throw new z(-201,!1)}function j(l,c){null==l&&function E(l,c,d,f){throw new Error(`ASSERTION ERROR: ${l}`+(null==f?"":` [Expected=> ${d} ${f} ${c} <=Actual]`))}(c,l,null,"!=")}function Oe(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function A(l){return{providers:l.providers||[],imports:l.imports||[]}}function ae(l){return de(l,X)||de(l,Ie)}function pe(l){return null!==ae(l)}function de(l,c){return l.hasOwnProperty(c)?l[c]:null}function Z(l){return l&&(l.hasOwnProperty(xe)||l.hasOwnProperty(Ee))?l[xe]:null}const X=be({\u0275prov:be}),xe=be({\u0275inj:be}),Ie=be({ngInjectableDef:be}),Ee=be({ngInjectorDef:be});var Le=(()=>((Le=Le||{})[Le.Default=0]="Default",Le[Le.Host=1]="Host",Le[Le.Self=2]="Self",Le[Le.SkipSelf=4]="SkipSelf",Le[Le.Optional=8]="Optional",Le))();let Ge;function st(l){const c=Ge;return Ge=l,c}function _t(l,c,d){const f=ae(l);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:d&Le.Optional?null:void 0!==c?c:void V(ze(l))}function le(l){return{toString:l}.toString()}var Ue=(()=>((Ue=Ue||{})[Ue.OnPush=0]="OnPush",Ue[Ue.Default=1]="Default",Ue))(),Qe=(()=>{return(l=Qe||(Qe={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",Qe;var l})();const nt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ct={},pt=[],on=be({\u0275cmp:be}),Ft=be({\u0275dir:be}),Xt=be({\u0275pipe:be}),$t=be({\u0275mod:be}),Tn=be({\u0275fac:be}),vn=be({__NG_ELEMENT_ID__:be});let ai=0;function zn(l){return le(()=>{const d=!0===l.standalone,f={},m={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===Ue.OnPush,directiveDefs:null,pipeDefs:null,standalone:d,dependencies:d&&l.dependencies||null,getStandaloneInjector:null,selectors:l.selectors||pt,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||Qe.Emulated,id:"c"+ai++,styles:l.styles||pt,_:null,setInput:null,schemas:l.schemas||null,tView:null},y=l.dependencies,C=l.features;return m.inputs=Ze(l.inputs,f),m.outputs=Ze(l.outputs),C&&C.forEach(k=>k(m)),m.directiveDefs=y?()=>("function"==typeof y?y():y).map(Pi).filter(Bn):null,m.pipeDefs=y?()=>("function"==typeof y?y():y).map(Wt).filter(Bn):null,m})}function Pi(l){return mt(l)||ot(l)}function Bn(l){return null!==l}function ns(l){return le(()=>({type:l.type,bootstrap:l.bootstrap||pt,declarations:l.declarations||pt,imports:l.imports||pt,exports:l.exports||pt,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function Ze(l,c){if(null==l)return Ct;const d={};for(const f in l)if(l.hasOwnProperty(f)){let m=l[f],y=m;Array.isArray(m)&&(y=m[1],m=m[0]),d[m]=f,c&&(c[m]=y)}return d}const $e=zn;function et(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function mt(l){return l[on]||null}function ot(l){return l[Ft]||null}function Wt(l){return l[Xt]||null}function _n(l){const c=mt(l)||ot(l)||Wt(l);return null!==c&&c.standalone}function Sn(l,c){const d=l[$t]||null;if(!d&&!0===c)throw new Error(`Type ${ze(l)} does not have '\u0275mod' property.`);return d}function lr(l){return Array.isArray(l)&&"object"==typeof l[1]}function zr(l){return Array.isArray(l)&&!0===l[1]}function $o(l){return 0!=(8&l.flags)}function $a(l){return 2==(2&l.flags)}function Xs(l){return 1==(1&l.flags)}function Ps(l){return null!==l.template}function Wa(l){return 0!=(256&l[2])}function Co(l,c){return l.hasOwnProperty(Tn)?l[Tn]:null}class Im{constructor(c,d,f){this.previousValue=c,this.currentValue=d,this.firstChange=f}isFirstChange(){return this.firstChange}}function ms(){return Nf}function Nf(l){return l.type.prototype.ngOnChanges&&(l.setInput=Ed),Pl}function Pl(){const l=km(this),c=l?.current;if(c){const d=l.previous;if(d===Ct)l.previous=c;else for(let f in c)d[f]=c[f];l.current=null,this.ngOnChanges(c)}}function Ed(l,c,d,f){const m=km(l)||function rs(l,c){return l[Yc]=c}(l,{previous:Ct,current:null}),y=m.current||(m.current={}),C=m.previous,k=this.declaredInputs[d],L=C[k];y[k]=new Im(L&&L.currentValue,c,C===Ct),l[f]=c}ms.ngInherit=!0;const Yc="__ngSimpleChanges__";function km(l){return l[Yc]||null}function Hi(l){for(;Array.isArray(l);)l=l[0];return l}function gs(l,c){return Hi(c[l])}function Gr(l,c){return Hi(c[l.index])}function Qc(l,c){return l.data[c]}function Ya(l,c){return l[c]}function ji(l,c){const d=c[l];return lr(d)?d:d[0]}function la(l){return 64==(64&l[2])}function ss(l,c){return null==c?null:l[c]}function Wo(l){l[18]=0}function xr(l,c){l[5]+=c;let d=l,f=l[3];for(;null!==f&&(1===c&&1===d[5]||-1===c&&0===d[5]);)f[5]+=c,d=f,f=f[3]}const yn={lFrame:Pd(null),bindingsEnabled:!0};function Uf(){return yn.bindingsEnabled}function Dt(){return yn.lFrame.lView}function Fn(){return yn.lFrame.tView}function eu(l){return yn.lFrame.contextLView=l,l[8]}function Td(l){return yn.lFrame.contextLView=null,l}function Fi(){let l=tu();for(;null!==l&&64===l.type;)l=l.parent;return l}function tu(){return yn.lFrame.currentTNode}function os(l,c){const d=yn.lFrame;d.currentTNode=l,d.isParent=c}function qa(){return yn.lFrame.isParent}function Id(){yn.lFrame.isParent=!1}function Fr(){const l=yn.lFrame;let c=l.bindingRootIndex;return-1===c&&(c=l.bindingRootIndex=l.tView.bindingStartIndex),c}function Do(){return yn.lFrame.bindingIndex++}function ls(l){const c=yn.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,d}function ly(l,c){const d=yn.lFrame;d.bindingIndex=d.bindingRootIndex=l,Rd(c)}function Rd(l){yn.lFrame.currentDirectiveIndex=l}function Ll(l){const c=yn.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}function nu(){return yn.lFrame.currentQueryIndex}function Lr(l){yn.lFrame.currentQueryIndex=l}function Od(l){const c=l[1];return 2===c.type?c.declTNode:1===c.type?l[6]:null}function Nl(l,c,d){if(d&Le.SkipSelf){let m=c,y=l;for(;!(m=m.parent,null!==m||d&Le.Host||(m=Od(y),null===m||(y=y[15],10&m.type))););if(null===m)return!1;c=m,l=y}const f=yn.lFrame=da();return f.currentTNode=c,f.lView=l,!0}function Bl(l){const c=da(),d=l[1];yn.lFrame=c,c.currentTNode=d.firstChild,c.lView=l,c.tView=d,c.contextLView=l,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function da(){const l=yn.lFrame,c=null===l?null:l.child;return null===c?Pd(l):c}function Pd(l){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function Vl(){const l=yn.lFrame;return yn.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const Gf=Vl;function Ka(){const l=Vl();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function ii(){return yn.lFrame.selectedIndex}function So(l){yn.lFrame.selectedIndex=l}function wi(){const l=yn.lFrame;return Qc(l.tView,l.selectedIndex)}function Fd(){yn.lFrame.currentNamespace="svg"}function ru(){!function Wf(){yn.lFrame.currentNamespace=null}()}function ha(l,c){for(let d=c.directiveStart,f=c.directiveEnd;d<f;d++){const y=l.data[d].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:k,ngAfterViewInit:L,ngAfterViewChecked:se,ngOnDestroy:Se}=y;C&&(l.contentHooks||(l.contentHooks=[])).push(-d,C),k&&((l.contentHooks||(l.contentHooks=[])).push(d,k),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(d,k)),L&&(l.viewHooks||(l.viewHooks=[])).push(-d,L),se&&((l.viewHooks||(l.viewHooks=[])).push(d,se),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(d,se)),null!=Se&&(l.destroyHooks||(l.destroyHooks=[])).push(d,Se)}}function Hl(l,c,d){jl(l,c,3,d)}function Xa(l,c,d,f){(3&l[2])===d&&jl(l,c,d,f)}function Yf(l,c){let d=l[2];(3&d)===c&&(d&=2047,d+=1,l[2]=d)}function jl(l,c,d,f){const y=f??-1,C=c.length-1;let k=0;for(let L=void 0!==f?65535&l[18]:0;L<C;L++)if("number"==typeof c[L+1]){if(k=c[L],null!=f&&k>=f)break}else c[L]<0&&(l[18]+=65536),(k<y||-1==y)&&(Lm(l,d,c,L),l[18]=(4294901760&l[18])+L+2),L++}function Lm(l,c,d,f){const m=d[f]<0,y=d[f+1],k=l[m?-d[f]:d[f]];if(m){if(l[2]>>11<l[18]>>16&&(3&l[2])===c){l[2]+=2048;try{y.call(k)}finally{}}}else try{y.call(k)}finally{}}class Ul{constructor(c,d,f){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=f}}function lu(l,c,d){let f=0;for(;f<d.length;){const m=d[f];if("number"==typeof m){if(0!==m)break;f++;const y=d[f++],C=d[f++],k=d[f++];l.setAttribute(c,C,k,y)}else{const y=m,C=d[++f];Vm(y)?l.setProperty(c,y,C):l.setAttribute(c,y,C),f++}}return f}function cu(l){return 3===l||4===l||6===l}function Vm(l){return 64===l.charCodeAt(0)}function Qa(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else{let d=-1;for(let f=0;f<c.length;f++){const m=c[f];"number"==typeof m?d=m:0===d||Zf(l,d,m,null,-1===d||2===d?c[++f]:null)}}return l}function Zf(l,c,d,f,m){let y=0,C=l.length;if(-1===c)C=-1;else for(;y<l.length;){const k=l[y++];if("number"==typeof k){if(k===c){C=-1;break}if(k>c){C=y-1;break}}}for(;y<l.length;){const k=l[y];if("number"==typeof k)break;if(k===d){if(null===f)return void(null!==m&&(l[y+1]=m));if(f===l[y+1])return void(l[y+2]=m)}y++,null!==f&&y++,null!==m&&y++}-1!==C&&(l.splice(C,0,c),y=C+1),l.splice(y++,0,d),null!==f&&l.splice(y++,0,f),null!==m&&l.splice(y++,0,m)}function Vd(l){return-1!==l}function zl(l){return 32767&l}function Qs(l,c){let d=function Hm(l){return l>>16}(l),f=c;for(;d>0;)f=f[15],d--;return f}let Gl=!0;function Mo(l){const c=Gl;return Gl=l,c}let $l=0;const _s={};function Ja(l,c){const d=pa(l,c);if(-1!==d)return d;const f=c[1];f.firstCreatePass&&(l.injectorIndex=c.length,jd(f.data,l),jd(c,null),jd(f.blueprint,null));const m=ma(l,c),y=l.injectorIndex;if(Vd(m)){const C=zl(m),k=Qs(m,c),L=k[1].data;for(let se=0;se<8;se++)c[y+se]=k[C+se]|L[C+se]}return c[y+8]=m,y}function jd(l,c){l.push(0,0,0,0,0,0,0,0,c)}function pa(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function ma(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let d=0,f=null,m=c;for(;null!==m;){if(f=zm(m),null===f)return-1;if(d++,m=m[15],-1!==f.injectorIndex)return f.injectorIndex|d<<16}return-1}function Wl(l,c,d){!function Hd(l,c,d){let f;"string"==typeof d?f=d.charCodeAt(0)||0:d.hasOwnProperty(vn)&&(f=d[vn]),null==f&&(f=d[vn]=$l++);const m=255&f;c.data[l+(m>>5)]|=1<<m}(l,c,d)}function du(l,c,d){if(d&Le.Optional||void 0!==l)return l;V()}function jm(l,c,d,f){if(d&Le.Optional&&void 0===f&&(f=null),0==(d&(Le.Self|Le.Host))){const m=l[9],y=st(void 0);try{return m?m.get(c,f,d&Le.Optional):_t(c,f,d&Le.Optional)}finally{st(y)}}return du(f,0,d)}function el(l,c,d,f=Le.Default,m){if(null!==l){if(1024&c[2]){const C=function ql(l,c,d,f,m){let y=l,C=c;for(;null!==y&&null!==C&&1024&C[2]&&!(256&C[2]);){const k=tl(y,C,d,f|Le.Self,_s);if(k!==_s)return k;let L=y.parent;if(!L){const se=C[21];if(se){const Se=se.get(d,_s,f);if(Se!==_s)return Se}L=zm(C),C=C[15]}y=L}return m}(l,c,d,f,_s);if(C!==_s)return C}const y=tl(l,c,d,f,_s);if(y!==_s)return y}return jm(c,d,f,m)}function tl(l,c,d,f,m){const y=function _a(l){if("string"==typeof l)return l.charCodeAt(0)||0;const c=l.hasOwnProperty(vn)?l[vn]:void 0;return"number"==typeof c?c>=0?255&c:dy:c}(d);if("function"==typeof y){if(!Nl(c,l,f))return f&Le.Host?du(m,0,f):jm(c,d,f,m);try{const C=y(f);if(null!=C||f&Le.Optional)return C;V()}finally{Gf()}}else if("number"==typeof y){let C=null,k=pa(l,c),L=-1,se=f&Le.Host?c[16][6]:null;for((-1===k||f&Le.SkipSelf)&&(L=-1===k?ma(l,c):c[k+8],-1!==L&&hu(f,!1)?(C=c[1],k=zl(L),c=Qs(L,c)):k=-1);-1!==k;){const Se=c[1];if(Um(y,k,Se.data)){const Be=uy(k,c,d,C,f,se);if(Be!==_s)return Be}L=c[k+8],-1!==L&&hu(f,c[1].data[k+8]===se)&&Um(y,k,c)?(C=Se,k=zl(L),c=Qs(L,c)):k=-1}}return m}function uy(l,c,d,f,m,y){const C=c[1],k=C.data[l+8],Se=eo(k,C,d,null==f?$a(k)&&Gl:f!=C&&0!=(3&k.type),m&Le.Host&&y===k);return null!==Se?Yl(c,C,Se,k):_s}function eo(l,c,d,f,m){const y=l.providerIndexes,C=c.data,k=1048575&y,L=l.directiveStart,Se=y>>20,Xe=m?k+Se:l.directiveEnd;for(let at=f?k:k+Se;at<Xe;at++){const bt=C[at];if(at<L&&d===bt||at>=L&&bt.type===d)return at}if(m){const at=C[L];if(at&&Ps(at)&&at.type===d)return L}return null}function Yl(l,c,d,f){let m=l[d];const y=c.data;if(function ou(l){return l instanceof Ul}(m)){const C=m;C.resolving&&function H(l,c){const d=c?`. Dependency path: ${c.join(" > ")} > ${l}`:"";throw new z(-200,`Circular dependency in DI detected for ${l}${d}`)}(function ne(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():Q(l)}(y[d]));const k=Mo(C.canSeeViewProviders);C.resolving=!0;const L=C.injectImpl?st(C.injectImpl):null;Nl(l,f,Le.Default);try{m=l[d]=C.factory(void 0,y,l,f),c.firstCreatePass&&d>=f.directiveStart&&function Ld(l,c,d){const{ngOnChanges:f,ngOnInit:m,ngDoCheck:y}=c.type.prototype;if(f){const C=Nf(c);(d.preOrderHooks||(d.preOrderHooks=[])).push(l,C),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,C)}m&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-l,m),y&&((d.preOrderHooks||(d.preOrderHooks=[])).push(l,y),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,y))}(d,y[d],c)}finally{null!==L&&st(L),Mo(k),C.resolving=!1,Gf()}}return m}function Um(l,c,d){return!!(d[c+(l>>5)]&1<<l)}function hu(l,c){return!(l&Le.Self||l&Le.Host&&c)}class to{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,f){return el(this._tNode,this._lView,c,f,d)}}function dy(){return new to(Fi(),Dt())}function Ci(l){return le(()=>{const c=l.prototype.constructor,d=c[Tn]||Ud(c),f=Object.prototype;let m=Object.getPrototypeOf(l.prototype).constructor;for(;m&&m!==f;){const y=m[Tn]||Ud(m);if(y&&y!==d)return y;m=Object.getPrototypeOf(m)}return y=>new y})}function Ud(l){return Ae(l)?()=>{const c=Ud(oe(l));return c&&c()}:Co(l)}function zm(l){const c=l[1],d=c.type;return 2===d?c.declTNode:1===d?l[6]:null}function fu(l){return function ga(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;const d=l.attrs;if(d){const f=d.length;let m=0;for(;m<f;){const y=d[m];if(cu(y))break;if(0===y)m+=2;else if("number"==typeof y)for(m++;m<f&&"string"==typeof d[m];)m++;else{if(y===c)return d[m+1];m+=2}}}return null}(Fi(),l)}const Ni="__parameters__";function To(l,c,d){return le(()=>{const f=function nl(l){return function(...d){if(l){const f=l(...d);for(const m in f)this[m]=f[m]}}}(c);function m(...y){if(this instanceof m)return f.apply(this,y),this;const C=new m(...y);return k.annotation=C,k;function k(L,se,Se){const Be=L.hasOwnProperty(Ni)?L[Ni]:Object.defineProperty(L,Ni,{value:[]})[Ni];for(;Be.length<=Se;)Be.push(null);return(Be[Se]=Be[Se]||[]).push(C),L}}return d&&(m.prototype=Object.create(d.prototype)),m.prototype.ngMetadataName=l,m.annotationCls=m,m})}class ci{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=Oe({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Wi(l,c){void 0===c&&(c=l);for(let d=0;d<l.length;d++){let f=l[d];Array.isArray(f)?(c===l&&(c=l.slice(0,d)),Wi(f,c)):c!==l&&c.push(f)}return c}function Vs(l,c){l.forEach(d=>Array.isArray(d)?Vs(d,c):c(d))}function Gd(l,c,d){c>=l.length?l.push(d):l.splice(c,0,d)}function $d(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function il(l,c){const d=[];for(let f=0;f<l;f++)d.push(c);return d}function cs(l,c,d){let f=Xl(l,c);return f>=0?l[1|f]=d:(f=~f,function hy(l,c,d,f){let m=l.length;if(m==c)l.push(d,f);else if(1===m)l.push(f,l[0]),l[0]=d;else{for(m--,l.push(l[m-1],l[m]);m>c;)l[m]=l[m-2],m--;l[c]=d,l[c+1]=f}}(l,f,c,d)),f}function vu(l,c){const d=Xl(l,c);if(d>=0)return l[1|d]}function Xl(l,c){return function Km(l,c,d){let f=0,m=l.length>>d;for(;m!==f;){const y=f+(m-f>>1),C=l[y<<d];if(c===C)return y<<d;C>c?m=y:f=y+1}return~(m<<d)}(l,c,1)}const Hn={},$r="__NG_DI_FLAG__",Bt="ngTempTokenPath",rl=/\n/gm,Io="__source";let _i;function Yn(l){const c=_i;return _i=l,c}function Si(l,c=Le.Default){if(void 0===_i)throw new z(-203,!1);return null===_i?_t(l,void 0,c):_i.get(l,c&Le.Optional?null:void 0,c)}function Ei(l,c=Le.Default){return(function qe(){return Ge}()||Si)(oe(l),c)}function xu(l,c=Le.Default){return"number"!=typeof c&&(c=0|(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)),Ei(l,c)}function sl(l){const c=[];for(let d=0;d<l.length;d++){const f=oe(l[d]);if(Array.isArray(f)){if(0===f.length)throw new z(900,!1);let m,y=Le.Default;for(let C=0;C<f.length;C++){const k=f[C],L=ol(k);"number"==typeof L?-1===L?m=k.token:y|=L:m=k}c.push(Ei(m,y))}else c.push(Ei(f))}return c}function Hs(l,c){return l[$r]=c,l.prototype[$r]=c,l}function ol(l){return l[$r]}const ba=Hs(To("Optional"),8),vs=Hs(To("SkipSelf"),4);var ws=(()=>((ws=ws||{})[ws.Important=1]="Important",ws[ws.DashCase=2]="DashCase",ws))();const je=new Map;let Ke=0;const Ai="__ngContext__";function Ti(l,c){lr(c)?(l[Ai]=c[20],function yt(l){je.set(l[20],l)}(c)):l[Ai]=c}function ku(l,c){return undefined(l,c)}function oc(l){const c=l[3];return zr(c)?c[3]:c}function ng(l){return cl(l[13])}function ig(l){return cl(l[4])}function cl(l){for(;null!==l&&!zr(l);)l=l[4];return l}function Ru(l,c,d,f,m){if(null!=f){let y,C=!1;zr(f)?y=f:lr(f)&&(C=!0,f=f[0]);const k=Hi(f);0===l&&null!==d?null==m?cp(c,d,k):Ea(c,d,k,m||null,!0):1===l&&null!==d?Ea(c,d,k,m||null,!0):2===l?function cc(l,c,d){const f=rh(l,c);f&&function vy(l,c,d,f){l.removeChild(c,d,f)}(l,f,c,d)}(c,k,C):3===l&&c.destroyNode(k),null!=y&&function dc(l,c,d,f,m){const y=d[7];y!==Hi(d)&&Ru(c,l,f,y,m);for(let k=10;k<d.length;k++){const L=d[k];uc(L[1],L,l,c,f,y)}}(c,l,y,d,m)}}function sp(l,c,d){return l.createElement(c,d)}function Fu(l,c){const d=l[9],f=d.indexOf(c),m=c[3];512&c[2]&&(c[2]&=-513,xr(m,-1)),d.splice(f,1)}function ap(l,c){if(l.length<=10)return;const d=10+c,f=l[d];if(f){const m=f[17];null!==m&&m!==l&&Fu(m,f),c>0&&(l[d-1][4]=f[4]);const y=$d(l,10+c);!function v0(l,c){uc(l,c,c[11],2,null,null),c[0]=null,c[6]=null}(f[1],f);const C=y[19];null!==C&&C.detachView(y[1]),f[3]=null,f[4]=null,f[2]&=-65}return f}function og(l,c){if(!(128&c[2])){const d=c[11];d.destroyNode&&uc(l,c,d,3,null,null),function sg(l){let c=l[13];if(!c)return lp(l[1],l);for(;c;){let d=null;if(lr(c))d=c[13];else{const f=c[10];f&&(d=f)}if(!d){for(;c&&!c[4]&&c!==l;)lr(c)&&lp(c[1],c),c=c[3];null===c&&(c=l),lr(c)&&lp(c[1],c),d=c&&c[4]}c=d}}(c)}}function lp(l,c){if(!(128&c[2])){c[2]&=-65,c[2]|=128,function ag(l,c){let d;if(null!=l&&null!=(d=l.destroyHooks))for(let f=0;f<d.length;f+=2){const m=c[d[f]];if(!(m instanceof Ul)){const y=d[f+1];if(Array.isArray(y))for(let C=0;C<y.length;C+=2){const k=m[y[C]],L=y[C+1];try{L.call(k)}finally{}}else try{y.call(m)}finally{}}}}(l,c),function ih(l,c){const d=l.cleanup,f=c[7];let m=-1;if(null!==d)for(let y=0;y<d.length-1;y+=2)if("string"==typeof d[y]){const C=d[y+1],k="function"==typeof C?C(c):Hi(c[C]),L=f[m=d[y+2]],se=d[y+3];"boolean"==typeof se?k.removeEventListener(d[y],L,se):se>=0?f[m=se]():f[m=-se].unsubscribe(),y+=2}else{const C=f[m=d[y+1]];d[y].call(C)}if(null!==f){for(let y=m+1;y<f.length;y++)(0,f[y])();c[7]=null}}(l,c),1===c[1].type&&c[11].destroy();const d=c[17];if(null!==d&&zr(c[3])){d!==c[3]&&Fu(d,c);const f=c[19];null!==f&&f.detachView(l)}!function jt(l){je.delete(l[20])}(c)}}function yy(l,c,d){return function ac(l,c,d){let f=c;for(;null!==f&&40&f.type;)f=(c=f).parent;if(null===f)return d[0];if(2&f.flags){const m=l.data[f.directiveStart].encapsulation;if(m===Qe.None||m===Qe.Emulated)return null}return Gr(f,d)}(l,c.parent,d)}function Ea(l,c,d,f,m){l.insertBefore(c,d,f,m)}function cp(l,c,d){l.appendChild(c,d)}function ul(l,c,d,f,m){null!==f?Ea(l,c,d,f,m):cp(l,c,d)}function rh(l,c){return l.parentNode(c)}function lg(l,c,d){return cg(l,c,d)}let Ma,Vu,cg=function Nr(l,c,d){return 40&l.type?Gr(l,d):null};function ah(l,c,d,f){const m=yy(l,f,c),y=c[11],k=lg(f.parent||c[6],f,c);if(null!=m)if(Array.isArray(d))for(let L=0;L<d.length;L++)ul(y,m,d[L],k,!1);else ul(y,m,d,k,!1)}function Ko(l,c){if(null!==c){const d=c.type;if(3&d)return Gr(c,l);if(4&d)return lh(-1,l[c.index]);if(8&d){const f=c.child;if(null!==f)return Ko(l,f);{const m=l[c.index];return zr(m)?lh(-1,m):Hi(m)}}if(32&d)return ku(c,l)()||Hi(l[c.index]);{const f=ug(l,c);return null!==f?Array.isArray(f)?f[0]:Ko(oc(l[16]),f):Ko(l,c.next)}}return null}function ug(l,c){return null!==c?l[16][6].projection[c.projection]:null}function lh(l,c){const d=10+l+1;if(d<c.length){const f=c[d],m=f[1].firstChild;if(null!==m)return Ko(f,m)}return c[7]}function ch(l,c,d,f,m,y,C){for(;null!=d;){const k=f[d.index],L=d.type;if(C&&0===c&&(k&&Ti(Hi(k),f),d.flags|=4),64!=(64&d.flags))if(8&L)ch(l,c,d.child,f,m,y,!1),Ru(c,l,m,k,y);else if(32&L){const se=ku(d,f);let Se;for(;Se=se();)Ru(c,l,m,Se,y);Ru(c,l,m,k,y)}else 16&L?Nu(l,c,f,d,m,y):Ru(c,l,m,k,y);d=C?d.projectionNext:d.next}}function uc(l,c,d,f,m,y){ch(d,f,l.firstChild,c,m,y,!1)}function Nu(l,c,d,f,m,y){const C=d[16],L=C[6].projection[f.projection];if(Array.isArray(L))for(let se=0;se<L.length;se++)Ru(c,l,m,L[se],y);else ch(l,c,L,C[3],m,y,!0)}function hg(l,c,d){l.setAttribute(c,"style",d)}function uh(l,c,d){""===d?l.removeAttribute(c,"class"):l.setAttribute(c,"class",d)}function hr(l){return function dh(){if(void 0===Ma&&(Ma=null,nt.trustedTypes))try{Ma=nt.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return Ma}()?.createHTML(l)||l}function dp(l){Vu=l}class dl{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class wy extends dl{getTypeName(){return"HTML"}}class fr extends dl{getTypeName(){return"Style"}}class Oo extends dl{getTypeName(){return"Script"}}class Hu extends dl{getTypeName(){return"URL"}}class hp extends dl{getTypeName(){return"ResourceURL"}}function Tr(l){return l instanceof dl?l.changingThisBreaksApplicationSecurity:l}function Kn(l,c){const d=function hh(l){return l instanceof dl&&l.getTypeName()||null}(l);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===c}function ju(l){return new wy(l)}function fh(l){return new fr(l)}function gg(l){return new Oo(l)}function Cy(l){return new Hu(l)}function w0(l){return new hp(l)}class C0{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(hr(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch{return null}}}class b{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const f=this.inertDocument.createElement("body");d.appendChild(f)}}getInertBodyElement(c){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=hr(c),d;const f=this.inertDocument.createElement("body");return f.innerHTML=hr(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(c){const d=c.attributes;for(let m=d.length-1;0<m;m--){const C=d.item(m).name;("xmlns:ns1"===C||0===C.indexOf("ns1:"))&&c.removeAttribute(C)}let f=c.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const _=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function x(l){return(l=String(l)).match(_)?l:"unsafe:"+l}function J(l){const c={};for(const d of l.split(","))c[d]=!0;return c}function ye(...l){const c={};for(const d of l)for(const f in d)d.hasOwnProperty(f)&&(c[f]=!0);return c}const Ye=J("area,br,col,hr,img,wbr"),rt=J("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Et=J("rp,rt"),xi=ye(Ye,ye(rt,J("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ye(Et,J("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ye(Et,rt)),us=J("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mh=ye(us,J("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),J("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Sy=J("script,style,template");class Ey{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,f=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?f=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,f&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let m=this.checkClobberedElement(d,d.nextSibling);if(m){d=m;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!xi.hasOwnProperty(d))return this.sanitizedSomething=!0,!Sy.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const f=c.attributes;for(let m=0;m<f.length;m++){const y=f.item(m),C=y.name,k=C.toLowerCase();if(!mh.hasOwnProperty(k)){this.sanitizedSomething=!0;continue}let L=y.value;us[k]&&(L=x(L)),this.buf.push(" ",C,'="',Uu(L),'"')}return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();xi.hasOwnProperty(d)&&!Ye.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(Uu(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const _g=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,My=/([^\#-~ |!])/g;function Uu(l){return l.replace(/&/g,"&amp;").replace(_g,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(My,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Qo;function zu(l,c){let d=null;try{Qo=Qo||function xy(l){const c=new b(l);return function g(){try{return!!(new window.DOMParser).parseFromString(hr(""),"text/html")}catch{return!1}}()?new C0(c):c}(l);let f=c?String(c):"";d=Qo.getInertBodyElement(f);let m=5,y=f;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,f=y,y=d.innerHTML,d=Qo.getInertBodyElement(f)}while(f!==y);return hr((new Ey).sanitizeChildren(gh(d)||d))}finally{if(d){const f=gh(d)||d;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function gh(l){return"content"in l&&function fp(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var Ii=(()=>((Ii=Ii||{})[Ii.NONE=0]="NONE",Ii[Ii.HTML=1]="HTML",Ii[Ii.STYLE=2]="STYLE",Ii[Ii.SCRIPT=3]="SCRIPT",Ii[Ii.URL=4]="URL",Ii[Ii.RESOURCE_URL=5]="RESOURCE_URL",Ii))();function Yi(l){const c=function pp(){const l=Dt();return l&&l[12]}();return c?c.sanitize(Ii.URL,l)||"":Kn(l,"URL")?Tr(l):x(Q(l))}const Jo=new ci("ENVIRONMENT_INITIALIZER"),S0=new ci("INJECTOR",-1),YD=new ci("INJECTOR_DEF_TYPES");class E0{get(c,d=Hn){if(d===Hn){const f=new Error(`NullInjectorError: No provider for ${ze(c)}!`);throw f.name="NullInjectorError",f}return d}}function M0(...l){return{\u0275providers:mp(0,l)}}function mp(l,...c){const d=[],f=new Set;let m;return Vs(c,y=>{const C=y;vg(C,d,[],f)&&(m||(m=[]),m.push(C))}),void 0!==m&&A0(m,d),d}function A0(l,c){for(let d=0;d<l.length;d++){const{providers:m}=l[d];Vs(m,y=>{c.push(y)})}}function vg(l,c,d,f){if(!(l=oe(l)))return!1;let m=null,y=Z(l);const C=!y&&mt(l);if(y||C){if(C&&!C.standalone)return!1;m=l}else{const L=l.ngModule;if(y=Z(L),!y)return!1;m=L}const k=f.has(m);if(C){if(k)return!1;if(f.add(m),C.dependencies){const L="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const se of L)vg(se,c,d,f)}}else{if(!y)return!1;{if(null!=y.imports&&!k){let se;f.add(m);try{Vs(y.imports,Se=>{vg(Se,c,d,f)&&(se||(se=[]),se.push(Se))})}finally{}void 0!==se&&A0(se,c)}if(!k){const se=Co(m)||(()=>new m);c.push({provide:m,useFactory:se,deps:pt},{provide:YD,useValue:m,multi:!0},{provide:Jo,useValue:()=>Ei(m),multi:!0})}const L=y.providers;null==L||k||Vs(L,Se=>{c.push(Se)})}}return m!==l&&void 0!==l.providers}const qD=be({provide:String,useValue:be});function gp(l){return null!==l&&"object"==typeof l&&qD in l}function Aa(l){return"function"==typeof l}const Ay=new ci("Set Injector scope."),_p={},k0={};let Ty;function _h(){return void 0===Ty&&(Ty=new E0),Ty}class Gu{}class R0 extends Gu{constructor(c,d,f,m){super(),this.parent=d,this.source=f,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$u(c,C=>this.processProvider(C)),this.records.set(S0,yh(void 0,this)),m.has("environment")&&this.records.set(Gu,yh(void 0,this));const y=this.records.get(Ay);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(YD.multi,pt,Le.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const d=Yn(this),f=st(void 0);try{return c()}finally{Yn(d),st(f)}}get(c,d=Hn,f=Le.Default){this.assertNotDestroyed();const m=Yn(this),y=st(void 0);try{if(!(f&Le.SkipSelf)){let k=this.records.get(c);if(void 0===k){const L=function JD(l){return"function"==typeof l||"object"==typeof l&&l instanceof ci}(c)&&ae(c);k=L&&this.injectableDefInScope(L)?yh(pc(c),_p):null,this.records.set(c,k)}if(null!=k)return this.hydrate(c,k)}return(f&Le.Self?_h():this.parent).get(c,d=f&Le.Optional&&d===Hn?null:d)}catch(C){if("NullInjectorError"===C.name){if((C[Bt]=C[Bt]||[]).unshift(ze(c)),m)throw C;return function qd(l,c,d,f){const m=l[Bt];throw c[Io]&&m.unshift(c[Io]),l.message=function $n(l,c,d,f=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.slice(2):l;let m=ze(c);if(Array.isArray(c))m=c.map(ze).join(" -> ");else if("object"==typeof c){let y=[];for(let C in c)if(c.hasOwnProperty(C)){let k=c[C];y.push(C+":"+("string"==typeof k?JSON.stringify(k):ze(k)))}m=`{${y.join(", ")}}`}return`${d}${f?"("+f+")":""}[${m}]: ${l.replace(rl,"\n  ")}`}("\n"+l.message,m,d,f),l.ngTokenPath=m,l[Bt]=null,l}(C,c,"R3InjectorError",this.source)}throw C}finally{st(y),Yn(m)}}resolveInjectorInitializers(){const c=Yn(this),d=st(void 0);try{const f=this.get(Jo.multi,pt,Le.Self);for(const m of f)m()}finally{Yn(c),st(d)}}toString(){const c=[],d=this.records;for(const f of d.keys())c.push(ze(f));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(c){let d=Aa(c=oe(c))?c:oe(c&&c.provide);const f=function QD(l){return gp(l)?yh(void 0,l.useValue):yh(O0(l),_p)}(c);if(Aa(c)||!0!==c.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=yh(void 0,_p,!0),m.factory=()=>sl(m.multi),this.records.set(d,m)),d=c,m.multi.push(c)}this.records.set(d,f)}hydrate(c,d){return d.value===_p&&(d.value=k0,d.value=d.factory()),"object"==typeof d.value&&d.value&&function Po(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(c){if(!c.providedIn)return!1;const d=oe(c.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function pc(l){const c=ae(l),d=null!==c?c.factory:Co(l);if(null!==d)return d;if(l instanceof ci)throw new z(204,!1);if(l instanceof Function)return function XD(l){const c=l.length;if(c>0)throw il(c,"?"),new z(204,!1);const d=function Ne(l){const c=l&&(l[X]||l[Ie]);if(c){const d=function R(l){if(l.hasOwnProperty("name"))return l.name;const c=(""+l).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),c}return null}(l);return null!==d?()=>d.factory(l):()=>new l}(l);throw new z(204,!1)}function O0(l,c,d){let f;if(Aa(l)){const m=oe(l);return Co(m)||pc(m)}if(gp(l))f=()=>oe(l.useValue);else if(function I0(l){return!(!l||!l.useFactory)}(l))f=()=>l.useFactory(...sl(l.deps||[]));else if(function ZD(l){return!(!l||!l.useExisting)}(l))f=()=>Ei(oe(l.useExisting));else{const m=oe(l&&(l.useClass||l.provide));if(!function Iy(l){return!!l.deps}(l))return Co(m)||pc(m);f=()=>new m(...sl(l.deps))}return f}function yh(l,c,d=!1){return{factory:l,value:c,multi:d?[]:void 0}}function eS(l){return!!l.\u0275providers}function $u(l,c){for(const d of l)Array.isArray(d)?$u(d,c):eS(d)?$u(d.\u0275providers,c):c(d)}class ea{}class F0{resolveComponentFactory(c){throw function P0(l){const c=Error(`No component factory found for ${ze(l)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=l,c}(c)}}let oo=(()=>{class l{}return l.NULL=new F0,l})();function tS(){return Wu(Fi(),Dt())}function Wu(l,c){return new hl(Gr(l,c))}let hl=(()=>{class l{constructor(d){this.nativeElement=d}}return l.__NG_ELEMENT_ID__=tS,l})();function L0(l){return l instanceof hl?l.nativeElement:l}class fl{}let ta=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function ds(){const l=Dt(),d=ji(Fi().index,l);return(lr(d)?d:l)[11]}(),l})(),ky=(()=>{class l{}return l.\u0275prov=Oe({token:l,providedIn:"root",factory:()=>null}),l})();class bg{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const yp=new bg("14.3.0"),vp={};function N0(l){return l.ngOriginalError}class wg{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c);this._console.error("ERROR",c),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&N0(c);for(;d&&N0(d);)d=N0(d);return d||null}}function ao(l){return l instanceof Function?l():l}function Pt(l,c,d){let f=l.length;for(;;){const m=l.indexOf(c,d);if(-1===m)return m;if(0===m||l.charCodeAt(m-1)<=32){const y=c.length;if(m+y===f||l.charCodeAt(m+y)<=32)return m}d=m+1}}const Fo="ng-template";function V0(l,c,d){let f=0;for(;f<l.length;){let m=l[f++];if(d&&"class"===m){if(m=l[f],-1!==Pt(m.toLowerCase(),c,0))return!0}else if(1===m){for(;f<l.length&&"string"==typeof(m=l[f++]);)if(m.toLowerCase()===c)return!0;return!1}}return!1}function rn(l){return 4===l.type&&l.value!==Fo}function hn(l,c,d){return c===(4!==l.type||d?l.value:Fo)}function YI(l,c,d){let f=4;const m=l.attrs||[],y=function rS(l){for(let c=0;c<l.length;c++)if(cu(l[c]))return c;return l.length}(m);let C=!1;for(let k=0;k<c.length;k++){const L=c[k];if("number"!=typeof L){if(!C)if(4&f){if(f=2|1&f,""!==L&&!hn(l,L,d)||""===L&&1===c.length){if(Ut(f))return!1;C=!0}}else{const se=8&f?L:c[++k];if(8&f&&null!==l.attrs){if(!V0(l.attrs,se,d)){if(Ut(f))return!1;C=!0}continue}const Be=gt(8&f?"class":L,m,rn(l),d);if(-1===Be){if(Ut(f))return!1;C=!0;continue}if(""!==se){let Xe;Xe=Be>y?"":m[Be+1].toLowerCase();const at=8&f?Xe:null;if(at&&-1!==Pt(at,se,0)||2&f&&se!==Xe){if(Ut(f))return!1;C=!0}}}}else{if(!C&&!Ut(f)&&!Ut(L))return!1;if(C&&Ut(L))continue;C=!1,f=L|1&f}}return Ut(f)||C}function Ut(l){return 0==(1&l)}function gt(l,c,d,f){if(null===c)return-1;let m=0;if(f||!d){let y=!1;for(;m<c.length;){const C=c[m];if(C===l)return m;if(3===C||6===C)y=!0;else{if(1===C||2===C){let k=c[++m];for(;"string"==typeof k;)k=c[++m];continue}if(4===C)break;if(0===C){m+=4;continue}}m+=y?1:2}return-1}return function qI(l,c){let d=l.indexOf(4);if(d>-1)for(d++;d<l.length;){const f=l[d];if("number"==typeof f)return-1;if(f===c)return d;d++}return-1}(c,l)}function St(l,c,d=!1){for(let f=0;f<c.length;f++)if(YI(l,c[f],d))return!0;return!1}function ZI(l,c){e:for(let d=0;d<c.length;d++){const f=c[d];if(l.length===f.length){for(let m=0;m<l.length;m++)if(l[m]!==f[m])continue e;return!0}}return!1}function sS(l,c){return l?":not("+c.trim()+")":c}function KI(l){let c=l[0],d=1,f=2,m="",y=!1;for(;d<l.length;){let C=l[d];if("string"==typeof C)if(2&f){const k=l[++d];m+="["+C+(k.length>0?'="'+k+'"':"")+"]"}else 8&f?m+="."+C:4&f&&(m+=" "+C);else""!==m&&!Ut(C)&&(c+=sS(y,m),m=""),f=C,y=y||!Ut(f);d++}return""!==m&&(c+=sS(y,m)),c}const Rn={};function QI(l){aS(Fn(),Dt(),ii()+l,!1)}function aS(l,c,d,f){if(!f)if(3==(3&c[2])){const y=l.preOrderCheckHooks;null!==y&&Hl(c,y,d)}else{const y=l.preOrderHooks;null!==y&&Xa(c,y,0,d)}So(d)}function tr(l,c=null,d=null,f){const m=Zt(l,c,d,f);return m.resolveInjectorInitializers(),m}function Zt(l,c=null,d=null,f,m=new Set){const y=[d||pt,M0(l)];return f=f||("object"==typeof l?void 0:ze(l)),new R0(y,c||_h(),f||null,m)}let pl=(()=>{class l{static create(d,f){if(Array.isArray(d))return tr({name:""},f,d,"");{const m=d.name??"";return tr({name:m},d.parent,d.providers,m)}}}return l.THROW_IF_NOT_FOUND=Hn,l.NULL=new E0,l.\u0275prov=Oe({token:l,providedIn:"any",factory:()=>Ei(S0)}),l.__NG_ELEMENT_ID__=-1,l})();function xp(l,c=Le.Default){const d=Dt();return null===d?Ei(l,c):el(Fi(),d,oe(l),c)}function W0(){throw new Error("invalid")}function Sg(l,c){return l<<17|c<<2}function co(l){return l>>17&32767}function q0(l){return 2|l}function gc(l){return(131068&l)>>2}function Z0(l,c){return-131069&l|c<<2}function K0(l){return 1|l}function vc(l,c){const d=l.contentQueries;if(null!==d)for(let f=0;f<d.length;f+=2){const m=d[f],y=d[f+1];if(-1!==y){const C=l.data[y];Lr(m),C.contentQueries(2,c[y],y)}}}function Ep(l,c,d,f,m,y,C,k,L,se,Se){const Be=c.blueprint.slice();return Be[0]=m,Be[2]=76|f,(null!==Se||l&&1024&l[2])&&(Be[2]|=1024),Wo(Be),Be[3]=Be[15]=l,Be[8]=d,Be[10]=C||l&&l[10],Be[11]=k||l&&l[11],Be[12]=L||l&&l[12]||null,Be[9]=se||l&&l[9]||null,Be[6]=y,Be[20]=function tt(){return Ke++}(),Be[21]=Se,Be[16]=2==c.type?l[16]:Be,Be}function bc(l,c,d,f,m){let y=l.data[c];if(null===y)y=function wc(l,c,d,f,m){const y=tu(),C=qa(),L=l.data[c]=function Ui(l,c,d,f,m,y){return{type:d,index:f,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?y:y&&y.parent,d,c,f,m);return null===l.firstChild&&(l.firstChild=L),null!==y&&(C?null==y.child&&null!==L.parent&&(y.child=L):null===y.next&&(y.next=L)),L}(l,c,d,f,m),function zf(){return yn.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=d,y.value=f,y.attrs=m;const C=function ca(){const l=yn.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}();y.injectorIndex=null===C?-1:C.injectorIndex}return os(y,!0),y}function Ku(l,c,d,f){if(0===d)return-1;const m=c.length;for(let y=0;y<d;y++)c.push(f),l.blueprint.push(f),l.data.push(null);return m}function Sh(l,c,d){Bl(c);try{const f=l.viewQuery;null!==f&&Mp(1,f,d);const m=l.template;null!==m&&tw(l,c,m,1,d),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&vc(l,c),l.staticViewQueries&&Mp(2,l.viewQuery,d);const y=l.components;null!==y&&function Sp(l,c){for(let d=0;d<c.length;d++)RS(l,c[d])}(c,y)}catch(f){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),f}finally{c[2]&=-5,Ka()}}function Tg(l,c,d,f){const m=c[2];if(128!=(128&m)){Bl(c);try{Wo(c),function Ns(l){return yn.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==d&&tw(l,c,d,2,f);const C=3==(3&m);if(C){const se=l.preOrderCheckHooks;null!==se&&Hl(c,se,null)}else{const se=l.preOrderHooks;null!==se&&Xa(c,se,0,null),Yf(c,0)}if(function $y(l){for(let c=ng(l);null!==c;c=ig(c)){if(!c[2])continue;const d=c[9];for(let f=0;f<d.length;f++){const m=d[f],y=m[3];0==(512&m[2])&&xr(y,1),m[2]|=512}}}(c),function kg(l){for(let c=ng(l);null!==c;c=ig(c))for(let d=10;d<c.length;d++){const f=c[d],m=f[1];la(f)&&Tg(m,f,m.template,f[8])}}(c),null!==l.contentQueries&&vc(l,c),C){const se=l.contentCheckHooks;null!==se&&Hl(c,se)}else{const se=l.contentHooks;null!==se&&Xa(c,se,1),Yf(c,1)}!function Ag(l,c){const d=l.hostBindingOpCodes;if(null!==d)try{for(let f=0;f<d.length;f++){const m=d[f];if(m<0)So(~m);else{const y=m,C=d[++f],k=d[++f];ly(C,y),k(2,c[y])}}}finally{So(-1)}}(l,c);const k=l.components;null!==k&&function CS(l,c){for(let d=0;d<c.length;d++)Wy(l,c[d])}(c,k);const L=l.viewQuery;if(null!==L&&Mp(2,L,f),C){const se=l.viewCheckHooks;null!==se&&Hl(c,se)}else{const se=l.viewHooks;null!==se&&Xa(c,se,2),Yf(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),c[2]&=-41,512&c[2]&&(c[2]&=-513,xr(c[3],-1))}finally{Ka()}}}function tw(l,c,d,f,m){const y=ii(),C=2&f;try{So(-1),C&&c.length>22&&aS(l,c,22,!1),d(f,m)}finally{So(y)}}function Ig(l,c,d){if($o(c)){const m=c.directiveEnd;for(let y=c.directiveStart;y<m;y++){const C=l.data[y];C.contentQueries&&C.contentQueries(1,d[y],y)}}}function Eh(l,c,d){!Uf()||(function AS(l,c,d,f){const m=d.directiveStart,y=d.directiveEnd;l.firstCreatePass||Ja(d,c),Ti(f,c);const C=d.initialInputs;for(let k=m;k<y;k++){const L=l.data[k],se=Ps(L);se&&uk(c,d,L);const Se=Yl(c,l,k,d);Ti(Se,c),null!==C&&dk(0,k-m,Se,L,0,C),se&&(ji(d.index,c)[8]=Se)}}(l,c,d,Gr(d,c)),128==(128&d.flags)&&function ow(l,c,d){const f=d.directiveStart,m=d.directiveEnd,y=d.index,C=function Za(){return yn.lFrame.currentDirectiveIndex}();try{So(y);for(let k=f;k<m;k++){const L=l.data[k],se=c[k];Rd(k),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&aw(L,se)}}finally{So(-1),Rd(C)}}(l,c,d))}function zy(l,c,d=Gr){const f=c.localNames;if(null!==f){let m=c.index+1;for(let y=0;y<f.length;y+=2){const C=f[y+1],k=-1===C?d(c,l):l[C];l[m++]=k}}}function xS(l){const c=l.tView;return null===c||c.incompleteFirstPass?l.tView=nw(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function nw(l,c,d,f,m,y,C,k,L,se){const Se=22+f,Be=Se+m,Xe=function DS(l,c){const d=[];for(let f=0;f<c;f++)d.push(f<l?null:Rn);return d}(Se,Be),at="function"==typeof se?se():se;return Xe[1]={type:l,blueprint:Xe,template:d,queries:null,viewQuery:k,declTNode:c,data:Xe.slice().fill(null,Se),bindingStartIndex:Se,expandoStartIndex:Be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:L,consts:at,incompleteFirstPass:!1}}function iw(l,c,d,f){const m=ed(c);null===d?m.push(f):(m.push(d),l.firstCreatePass&&Ds(l).push(f,m.length-1))}function Cc(l,c,d){for(let f in l)if(l.hasOwnProperty(f)){const m=l[f];(d=null===d?{}:d).hasOwnProperty(f)?d[f].push(c,m):d[f]=[c,m]}return d}function rw(l,c){const f=c.directiveEnd,m=l.data,y=c.attrs,C=[];let k=null,L=null;for(let se=c.directiveStart;se<f;se++){const Se=m[se],Be=Se.inputs,Xe=null===y||rn(c)?null:hk(Be,y);C.push(Xe),k=Cc(Be,se,k),L=Cc(Se.outputs,se,L)}null!==k&&(k.hasOwnProperty("class")&&(c.flags|=16),k.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=C,c.inputs=k,c.outputs=L}function Kr(l,c,d,f,m,y,C,k){const L=Gr(c,d);let Se,se=c.inputs;!k&&null!=se&&(Se=se[f])?(Mh(l,d,Se,f,m),$a(c)&&ES(d,c.index)):3&c.type&&(f=function SS(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(f),m=null!=C?C(m,c.value||"",f):m,y.setProperty(L,f,m))}function ES(l,c){const d=ji(c,l);16&d[2]||(d[2]|=32)}function Xu(l,c,d,f){let m=!1;if(Uf()){const y=function TS(l,c,d){const f=l.directiveRegistry;let m=null;if(f)for(let y=0;y<f.length;y++){const C=f[y];St(d,C.selectors,!1)&&(m||(m=[]),Wl(Ja(d,c),l,C.type),Ps(C)?(lw(l,d),m.unshift(C)):m.push(C))}return m}(l,c,d),C=null===f?null:{"":-1};if(null!==y){m=!0,IS(d,l.data.length,y.length);for(let Se=0;Se<y.length;Se++){const Be=y[Se];Be.providersResolver&&Be.providersResolver(Be)}let k=!1,L=!1,se=Ku(l,c,y.length,null);for(let Se=0;Se<y.length;Se++){const Be=y[Se];d.mergedAttrs=Qa(d.mergedAttrs,Be.hostAttrs),cw(l,d,c,se,Be),ck(se,Be,C),null!==Be.contentQueries&&(d.flags|=8),(null!==Be.hostBindings||null!==Be.hostAttrs||0!==Be.hostVars)&&(d.flags|=128);const Xe=Be.type.prototype;!k&&(Xe.ngOnChanges||Xe.ngOnInit||Xe.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(d.index),k=!0),!L&&(Xe.ngOnChanges||Xe.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(d.index),L=!0),se++}rw(l,d)}C&&function lk(l,c,d){if(c){const f=l.localNames=[];for(let m=0;m<c.length;m+=2){const y=d[c[m+1]];if(null==y)throw new z(-301,!1);f.push(c[m],y)}}}(d,f,C)}return d.mergedAttrs=Qa(d.mergedAttrs,d.attrs),m}function Gy(l,c,d,f,m,y){const C=y.hostBindings;if(C){let k=l.hostBindingOpCodes;null===k&&(k=l.hostBindingOpCodes=[]);const L=~c.index;(function sw(l){let c=l.length;for(;c>0;){const d=l[--c];if("number"==typeof d&&d<0)return d}return 0})(k)!=L&&k.push(L),k.push(f,m,C)}}function aw(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function lw(l,c){c.flags|=2,(l.components||(l.components=[])).push(c.index)}function ck(l,c,d){if(d){if(c.exportAs)for(let f=0;f<c.exportAs.length;f++)d[c.exportAs[f]]=l;Ps(c)&&(d[""]=l)}}function IS(l,c,d){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+d,l.providerIndexes=c}function cw(l,c,d,f,m){l.data[f]=m;const y=m.factory||(m.factory=Co(m.type)),C=new Ul(y,Ps(m),xp);l.blueprint[f]=C,d[f]=C,Gy(l,c,0,f,Ku(l,d,m.hostVars,Rn),m)}function uk(l,c,d){const f=Gr(c,l),m=xS(d),y=l[10],C=Rg(l,Ep(l,m,null,d.onPush?32:16,f,c,y,y.createRenderer(f,d),null,null,null));l[c.index]=C}function Ra(l,c,d,f,m,y){const C=Gr(l,c);!function uw(l,c,d,f,m,y,C){if(null==y)l.removeAttribute(c,m,d);else{const k=null==C?Q(y):C(y,f||"",m);l.setAttribute(c,m,k,d)}}(c[11],C,y,l.value,d,f,m)}function dk(l,c,d,f,m,y){const C=y[c];if(null!==C){const k=f.setInput;for(let L=0;L<C.length;){const se=C[L++],Se=C[L++],Be=C[L++];null!==k?f.setInput(d,Be,se,Se):d[Se]=Be}}}function hk(l,c){let d=null,f=0;for(;f<c.length;){const m=c[f];if(0!==m)if(5!==m){if("number"==typeof m)break;l.hasOwnProperty(m)&&(null===d&&(d=[]),d.push(m,l[m],c[f+1])),f+=2}else f+=2;else f+=4}return d}function Qu(l,c,d,f){return new Array(l,!0,!1,c,null,0,f,d,null,null)}function Wy(l,c){const d=ji(c,l);if(la(d)){const f=d[1];48&d[2]?Tg(f,d,f.template,d[8]):d[5]>0&&Yy(d)}}function Yy(l){for(let f=ng(l);null!==f;f=ig(f))for(let m=10;m<f.length;m++){const y=f[m];if(la(y))if(512&y[2]){const C=y[1];Tg(C,y,C.template,y[8])}else y[5]>0&&Yy(y)}const d=l[1].components;if(null!==d)for(let f=0;f<d.length;f++){const m=ji(d[f],l);la(m)&&m[5]>0&&Yy(m)}}function RS(l,c){const d=ji(c,l),f=d[1];(function xc(l,c){for(let d=c.length;d<l.blueprint.length;d++)c.push(l.blueprint[d])})(f,d),Sh(f,d,d[8])}function Rg(l,c){return l[13]?l[14][4]=c:l[13]=c,l[14]=c,c}function Ju(l){for(;l;){l[2]|=32;const c=oc(l);if(Wa(l)&&!c)return l;l=c}return null}function Og(l,c,d,f=!0){const m=c[10];m.begin&&m.begin();try{Tg(l,c,l.template,d)}catch(C){throw f&&Pg(c,C),C}finally{m.end&&m.end()}}function Mp(l,c,d){Lr(0),c(l,d)}function ed(l){return l[7]||(l[7]=[])}function Ds(l){return l.cleanup||(l.cleanup=[])}function qy(l,c,d){return(null===l||Ps(l))&&(d=function xo(l){for(;Array.isArray(l);){if("object"==typeof l[1])return l;l=l[0]}return null}(d[c.index])),d[11]}function Pg(l,c){const d=l[9],f=d?d.get(wg,null):null;f&&f.handleError(c)}function Mh(l,c,d,f,m){for(let y=0;y<d.length;){const C=d[y++],k=d[y++],L=c[C],se=l.data[C];null!==se.setInput?se.setInput(L,m,f,k):L[k]=m}}function Ap(l,c,d){let f=d?l.styles:null,m=d?l.classes:null,y=0;if(null!==c)for(let C=0;C<c.length;C++){const k=c[C];"number"==typeof k?y=k:1==y?m=Ve(m,k):2==y&&(f=Ve(f,k+": "+c[++C]+";"))}d?l.styles=f:l.stylesWithoutHost=f,d?l.classes=m:l.classesWithoutHost=m}function td(l,c,d,f,m=!1){for(;null!==d;){const y=c[d.index];if(null!==y&&f.push(Hi(y)),zr(y))for(let k=10;k<y.length;k++){const L=y[k],se=L[1].firstChild;null!==se&&td(L[1],L,se,f)}const C=d.type;if(8&C)td(l,c,d.child,f);else if(32&C){const k=ku(d,c);let L;for(;L=k();)f.push(L)}else if(16&C){const k=ug(c,d);if(Array.isArray(k))f.push(...k);else{const L=oc(c[16]);td(L[1],L,k,f,!0)}}d=m?d.projectionNext:d.next}return f}class Tp{constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,d=c[1];return td(d,c,d.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(zr(c)){const d=c[8],f=d?d.indexOf(this):-1;f>-1&&(ap(c,f),$d(d,f))}this._attachedToViewContainer=!1}og(this._lView[1],this._lView)}onDestroy(c){iw(this._lView[1],this._lView,null,c)}markForCheck(){Ju(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Og(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rg(l,c){uc(l,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=c}}class FS extends Tp{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;Og(c[1],c,c[8],!1)}checkNoChanges(){}get context(){return null}}class dw extends oo{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=mt(c);return new Ip(d,this.ngModule)}}function yl(l){const c=[];for(let d in l)l.hasOwnProperty(d)&&c.push({propName:l[d],templateName:d});return c}class uo{constructor(c,d){this.injector=c,this.parentInjector=d}get(c,d,f){const m=this.injector.get(c,vp,f);return m!==vp||d===vp?m:this.parentInjector.get(c,d,f)}}class Ip extends ea{constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=function XI(l){return l.map(KI).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return yl(this.componentDef.inputs)}get outputs(){return yl(this.componentDef.outputs)}create(c,d,f,m){let y=(m=m||this.ngModule)instanceof Gu?m:m?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const C=y?new uo(c,y):c,k=C.get(fl,null);if(null===k)throw new z(407,!1);const L=C.get(ky,null),se=k.createRenderer(null,this.componentDef),Se=this.componentDef.selectors[0][0]||"div",Be=f?function hs(l,c,d){return l.selectRootElement(c,d===Qe.ShadowDom)}(se,f,this.componentDef.encapsulation):sp(se,Se,function fk(l){const c=l.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(Se)),Xe=this.componentDef.onPush?288:272,at=nw(0,null,null,1,0,null,null,null,null,null),bt=Ep(null,at,null,Xe,null,null,k,se,L,C,null);let Lt,Yt;Bl(bt);try{const sn=function Lg(l,c,d,f,m,y){const C=d[1];d[22]=l;const L=bc(C,22,2,"#host",null),se=L.mergedAttrs=c.hostAttrs;null!==se&&(Ap(L,se,!0),null!==l&&(lu(m,l,se),null!==L.classes&&uh(m,l,L.classes),null!==L.styles&&hg(m,l,L.styles)));const Se=f.createRenderer(l,c),Be=Ep(d,xS(c),null,c.onPush?32:16,d[22],L,f,Se,y||null,null,null);return C.firstCreatePass&&(Wl(Ja(L,d),C,c.type),lw(C,L),IS(L,d.length,1)),Rg(d,Be),d[22]=Be}(Be,this.componentDef,bt,k,se);if(Be)if(f)lu(se,Be,["ng-version",yp.full]);else{const{attrs:bn,classes:Mt}=function oS(l){const c=[],d=[];let f=1,m=2;for(;f<l.length;){let y=l[f];if("string"==typeof y)2===m?""!==y&&c.push(y,l[++f]):8===m&&d.push(y);else{if(!Ut(m))break;m=y}f++}return{attrs:c,classes:d}}(this.componentDef.selectors[0]);bn&&lu(se,Be,bn),Mt&&Mt.length>0&&uh(se,Be,Mt.join(" "))}if(Yt=Qc(at,22),void 0!==d){const bn=Yt.projection=[];for(let Mt=0;Mt<this.ngContentSelectors.length;Mt++){const Dn=d[Mt];bn.push(null!=Dn?Array.from(Dn):null)}}Lt=function gk(l,c,d,f){const m=d[1],y=function vi(l,c,d){const f=Fi();l.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),cw(l,f,c,Ku(l,c,1,null),d),rw(l,f));const m=Yl(c,l,f.directiveStart,f);Ti(m,c);const y=Gr(f,c);return y&&Ti(y,c),m}(m,d,c);if(l[8]=d[8]=y,null!==f)for(const k of f)k(y,c);if(c.contentQueries){const k=Fi();c.contentQueries(1,y,k.directiveStart)}const C=Fi();return!m.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(So(C.index),Gy(d[1],C,0,C.directiveStart,C.directiveEnd,c),aw(c,y)),y}(sn,this.componentDef,bt,[_k]),Sh(at,bt,null)}finally{Ka()}return new vl(this.componentType,Lt,Wu(Yt,bt),bt,Yt)}}class vl extends class jI{}{constructor(c,d,f,m,y){super(),this.location=f,this._rootLView=m,this._tNode=y,this.instance=d,this.hostView=this.changeDetectorRef=new FS(m),this.componentType=c}setInput(c,d){const f=this._tNode.inputs;let m;if(null!==f&&(m=f[c])){const y=this._rootLView;Mh(y[1],y,m,c,d),ES(y,this._tNode.index)}}get injector(){return new to(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function _k(){const l=Fi();ha(Dt()[1],l)}function hw(l){let c=function Ln(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),d=!0;const f=[l];for(;c;){let m;if(Ps(l))m=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new z(903,!1);m=c.\u0275dir}if(m){if(d){f.push(m);const C=l;C.inputs=Zy(l.inputs),C.declaredInputs=Zy(l.declaredInputs),C.outputs=Zy(l.outputs);const k=m.hostBindings;k&&Ky(l,k);const L=m.viewQuery,se=m.contentQueries;if(L&&LS(l,L),se&&NS(l,se),Fe(l.inputs,m.inputs),Fe(l.declaredInputs,m.declaredInputs),Fe(l.outputs,m.outputs),Ps(m)&&m.data.animation){const Se=l.data;Se.animation=(Se.animation||[]).concat(m.data.animation)}}const y=m.features;if(y)for(let C=0;C<y.length;C++){const k=y[C];k&&k.ngInherit&&k(l),k===hw&&(d=!1)}}c=Object.getPrototypeOf(c)}!function fw(l){let c=0,d=null;for(let f=l.length-1;f>=0;f--){const m=l[f];m.hostVars=c+=m.hostVars,m.hostAttrs=Qa(m.hostAttrs,d=Qa(d,m.hostAttrs))}}(f)}function Zy(l){return l===Ct?{}:l===pt?[]:l}function LS(l,c){const d=l.viewQuery;l.viewQuery=d?(f,m)=>{c(f,m),d(f,m)}:c}function NS(l,c){const d=l.contentQueries;l.contentQueries=d?(f,m,y)=>{c(f,m,y),d(f,m,y)}:c}function Ky(l,c){const d=l.hostBindings;l.hostBindings=d?(f,m)=>{c(f,m),d(f,m)}:c}let Dc=null;function No(){if(!Dc){const l=nt.Symbol;if(l&&l.iterator)Dc=l.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<c.length;++d){const f=c[d];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(Dc=f)}}}return Dc}function Oa(l){return!!Xy(l)&&(Array.isArray(l)||!(l instanceof Map)&&No()in l)}function Xy(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function ho(l,c,d){return l[c]=d}function Ss(l,c,d){return!Object.is(l[c],d)&&(l[c]=d,!0)}function Qy(l,c,d,f){const m=Dt();return Ss(m,Do(),c)&&(Fn(),Ra(wi(),m,l,c,d,f)),Qy}function bl(l,c,d,f){return Ss(l,Do(),d)?c+Q(d)+f:Rn}function iv(l,c,d,f,m,y,C,k){const L=Dt(),se=Fn(),Se=l+22,Be=se.firstCreatePass?function GS(l,c,d,f,m,y,C,k,L){const se=c.consts,Se=bc(c,l,4,C||null,ss(se,k));Xu(c,d,Se,ss(se,L)),ha(c,Se);const Be=Se.tViews=nw(2,Se,f,m,y,c.directiveRegistry,c.pipeRegistry,null,c.schemas,se);return null!==c.queries&&(c.queries.template(c,Se),Be.queries=c.queries.embeddedTView(Se)),Se}(Se,se,L,c,d,f,m,y,C):se.data[Se];os(Be,!1);const Xe=L[11].createComment("");ah(se,L,Xe,Be),Ti(Xe,L),Rg(L,L[Se]=Qu(Xe,L,Xe,Be)),Xs(Be)&&Eh(se,L,Be),null!=C&&zy(L,Be,k)}function pw(l){return Ya(function Li(){return yn.lFrame.contextLView}(),22+l)}function mw(l,c,d){const f=Dt();return Ss(f,Do(),c)&&Kr(Fn(),wi(),f,l,c,f[11],d,!1),mw}function sv(l,c,d,f,m){const C=m?"class":"style";Mh(l,d,c.inputs[C],C,f)}function Pp(l,c,d,f){const m=Dt(),y=Fn(),C=22+l,k=m[11],L=m[C]=sp(k,c,function su(){return yn.lFrame.currentNamespace}()),se=y.firstCreatePass?function $S(l,c,d,f,m,y,C){const k=c.consts,se=bc(c,l,2,m,ss(k,y));return Xu(c,d,se,ss(k,C)),null!==se.attrs&&Ap(se,se.attrs,!1),null!==se.mergedAttrs&&Ap(se,se.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,se),se}(C,y,m,0,c,d,f):y.data[C];os(se,!0);const Se=se.mergedAttrs;null!==Se&&lu(k,L,Se);const Be=se.classes;null!==Be&&uh(k,L,Be);const Xe=se.styles;return null!==Xe&&hg(k,L,Xe),64!=(64&se.flags)&&ah(y,m,L,se),0===function Fl(){return yn.lFrame.elementDepthCount}()&&Ti(L,m),function Hf(){yn.lFrame.elementDepthCount++}(),Xs(se)&&(Eh(y,m,se),Ig(y,se,m)),null!==f&&zy(m,se),Pp}function nd(){let l=Fi();qa()?Id():(l=l.parent,os(l,!1));const c=l;!function jf(){yn.lFrame.elementDepthCount--}();const d=Fn();return d.firstCreatePass&&(ha(d,l),$o(l)&&d.queries.elementEnd(l)),null!=c.classesWithoutHost&&function qf(l){return 0!=(16&l.flags)}(c)&&sv(d,c,Dt(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Bm(l){return 0!=(32&l.flags)}(c)&&sv(d,c,Dt(),c.stylesWithoutHost,!1),nd}function Ph(l,c,d,f){return Pp(l,c,d,f),nd(),Ph}function Fh(l,c,d){const f=Dt(),m=Fn(),y=l+22,C=m.firstCreatePass?function Bg(l,c,d,f,m){const y=c.consts,C=ss(y,f),k=bc(c,l,8,"ng-container",C);return null!==C&&Ap(k,C,!0),Xu(c,d,k,ss(y,m)),null!==c.queries&&c.queries.elementStart(c,k),k}(y,m,f,c,d):m.data[y];os(C,!0);const k=f[y]=f[11].createComment("");return ah(m,f,k,C),Ti(k,f),Xs(C)&&(Eh(m,f,C),Ig(m,C,f)),null!=d&&zy(f,C),Fh}function Vg(){let l=Fi();const c=Fn();return qa()?Id():(l=l.parent,os(l,!1)),c.firstCreatePass&&(ha(c,l),$o(l)&&c.queries.elementEnd(l)),Vg}function ov(l,c,d){return Fh(l,c,d),Vg(),ov}function gw(){return Dt()}function _w(l){return!!l&&"function"==typeof l.then}function yw(l){return!!l&&"function"==typeof l.subscribe}const vw=yw;function bw(l,c,d,f){const m=Dt(),y=Fn(),C=Fi();return WS(y,m,m[11],C,l,c,0,f),bw}function ww(l,c){const d=Fi(),f=Dt(),m=Fn();return WS(m,f,qy(Ll(m.data),d,f),d,l,c),ww}function WS(l,c,d,f,m,y,C,k){const L=Xs(f),Se=l.firstCreatePass&&Ds(l),Be=c[8],Xe=ed(c);let at=!0;if(3&f.type||k){const Yt=Gr(f,c),sn=k?k(Yt):Yt,bn=Xe.length,Mt=k?Ot=>k(Hi(Ot[f.index])):f.index;let Dn=null;if(!k&&L&&(Dn=function wk(l,c,d,f){const m=l.cleanup;if(null!=m)for(let y=0;y<m.length-1;y+=2){const C=m[y];if(C===d&&m[y+1]===f){const k=c[7],L=m[y+2];return k.length>L?k[L]:null}"string"==typeof C&&(y+=2)}return null}(l,c,m,f.index)),null!==Dn)(Dn.__ngLastListenerFn__||Dn).__ngNextListenerFn__=y,Dn.__ngLastListenerFn__=y,at=!1;else{y=Lh(f,c,Be,y,!1);const Ot=d.listen(sn,m,y);Xe.push(y,Ot),Se&&Se.push(m,Mt,bn,bn+1)}}else y=Lh(f,c,Be,y,!1);const bt=f.outputs;let Lt;if(at&&null!==bt&&(Lt=bt[m])){const Yt=Lt.length;if(Yt)for(let sn=0;sn<Yt;sn+=2){const Xn=c[Lt[sn]][Lt[sn+1]].subscribe(y),xl=Xe.length;Xe.push(y,Xn),Se&&Se.push(m,f.index,xl,-(xl+1))}}}function av(l,c,d,f){try{return!1!==d(f)}catch(m){return Pg(l,m),!1}}function Lh(l,c,d,f,m){return function y(C){if(C===Function)return f;Ju(2&l.flags?ji(l.index,c):c);let L=av(c,0,f,C),se=y.__ngNextListenerFn__;for(;se;)L=av(c,0,se,C)&&L,se=se.__ngNextListenerFn__;return m&&!1===L&&(C.preventDefault(),C.returnValue=!1),L}}function Cw(l=1){return function iu(l){return(yn.lFrame.contextLView=function cy(l,c){for(;l>0;)c=c[15],l--;return c}(l,yn.lFrame.contextLView))[8]}(l)}function Ck(l,c){let d=null;const f=function Br(l){const c=l.attrs;if(null!=c){const d=c.indexOf(5);if(0==(1&d))return c[d+1]}return null}(l);for(let m=0;m<c.length;m++){const y=c[m];if("*"!==y){if(null===f?St(l,y,!0):ZI(f,y))return m}else d=m}return d}function pr(l){const c=Dt()[16][6];if(!c.projection){const f=c.projection=il(l?l.length:1,null),m=f.slice();let y=c.child;for(;null!==y;){const C=l?Ck(y,l):0;null!==C&&(m[C]?m[C].projectionNext=y:f[C]=y,m[C]=y),y=y.next}}}function lv(l,c=0,d){const f=Dt(),m=Fn(),y=bc(m,22+l,16,null,d||null);null===y.projection&&(y.projection=c),Id(),64!=(64&y.flags)&&function dg(l,c,d){Nu(c[11],0,c,d,yy(l,d,c),lg(d.parent||c[6],d,c))}(m,f,y)}function cv(l,c,d){return Nh(l,"",c,"",d),cv}function Nh(l,c,d,f,m){const y=Dt(),C=bl(y,c,d,f);return C!==Rn&&Kr(Fn(),wi(),y,l,C,y[11],m,!1),Nh}function qS(l,c,d,f,m){const y=l[d+1],C=null===c;let k=f?co(y):gc(y),L=!1;for(;0!==k&&(!1===L||C);){const Se=l[k+1];ZS(l[k],c)&&(L=!0,l[k+1]=f?K0(Se):q0(Se)),k=f?co(Se):gc(Se)}L&&(l[d+1]=f?q0(y):K0(y))}function ZS(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&Xl(l,c)>=0}const yr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Aw(l){return l.substring(yr.key,yr.keyEnd)}function XS(l,c){const d=yr.textEnd;return d===c?-1:(c=yr.keyEnd=function JS(l,c,d){for(;c<d&&l.charCodeAt(c)>32;)c++;return c}(l,yr.key=c,d),La(l,c,d))}function La(l,c,d){for(;c<d&&l.charCodeAt(c)<=32;)c++;return c}function dv(l,c,d){return ia(l,c,d,!1),dv}function Lp(l,c){return ia(l,c,null,!0),Lp}function po(l,c){for(let d=function KS(l){return function Sc(l){yr.key=0,yr.keyEnd=0,yr.value=0,yr.valueEnd=0,yr.textEnd=l.length}(l),XS(l,La(l,0,yr.textEnd))}(c);d>=0;d=XS(c,d))cs(l,Aw(c),!0)}function ia(l,c,d,f){const m=Dt(),y=Fn(),C=ls(2);y.firstUpdatePass&&kw(y,l,C,f),c!==Rn&&Ss(m,C,c)&&sE(y,y.data[ii()],m,m[11],l,m[C+1]=function jg(l,c){return null==l||("string"==typeof c?l+=c:"object"==typeof l&&(l=ze(Tr(l)))),l}(c,d),f,C)}function hv(l,c){return c>=l.expandoStartIndex}function kw(l,c,d,f){const m=l.data;if(null===m[d+1]){const y=m[ii()],C=hv(l,d);id(y,f)&&null===c&&!C&&(c=!1),c=function eE(l,c,d,f){const m=Ll(l);let y=f?c.residualClasses:c.residualStyles;if(null===m)0===(f?c.classBindings:c.styleBindings)&&(d=Mc(d=Np(null,l,c,d,f),c.attrs,f),y=null);else{const C=c.directiveStylingLast;if(-1===C||l[C]!==m)if(d=Np(m,l,c,d,f),null===y){let L=function Ek(l,c,d){const f=d?c.classBindings:c.styleBindings;if(0!==gc(f))return l[co(f)]}(l,c,f);void 0!==L&&Array.isArray(L)&&(L=Np(null,l,c,L[1],f),L=Mc(L,c.attrs,f),function tE(l,c,d,f){l[co(d?c.classBindings:c.styleBindings)]=f}(l,c,f,L))}else y=function nE(l,c,d){let f;const m=c.directiveEnd;for(let y=1+c.directiveStylingLast;y<m;y++)f=Mc(f,l[y].hostAttrs,d);return Mc(f,c.attrs,d)}(l,c,f)}return void 0!==y&&(f?c.residualClasses=y:c.residualStyles=y),d}(m,y,c,f),function Hg(l,c,d,f,m,y){let C=y?c.classBindings:c.styleBindings,k=co(C),L=gc(C);l[f]=d;let Se,se=!1;if(Array.isArray(d)){const Be=d;Se=Be[1],(null===Se||Xl(Be,Se)>0)&&(se=!0)}else Se=d;if(m)if(0!==L){const Xe=co(l[k+1]);l[f+1]=Sg(Xe,k),0!==Xe&&(l[Xe+1]=Z0(l[Xe+1],f)),l[k+1]=function nk(l,c){return 131071&l|c<<17}(l[k+1],f)}else l[f+1]=Sg(k,0),0!==k&&(l[k+1]=Z0(l[k+1],f)),k=f;else l[f+1]=Sg(L,0),0===k?k=f:l[L+1]=Z0(l[L+1],f),L=f;se&&(l[f+1]=q0(l[f+1])),qS(l,Se,f,!0),qS(l,Se,f,!1),function Mw(l,c,d,f,m){const y=m?l.residualClasses:l.residualStyles;null!=y&&"string"==typeof c&&Xl(y,c)>=0&&(d[f+1]=K0(d[f+1]))}(c,Se,l,f,y),C=Sg(k,L),y?c.classBindings=C:c.styleBindings=C}(m,y,c,d,C,f)}}function Np(l,c,d,f,m){let y=null;const C=d.directiveEnd;let k=d.directiveStylingLast;for(-1===k?k=d.directiveStart:k++;k<C&&(y=c[k],f=Mc(f,y.hostAttrs,m),y!==l);)k++;return null!==l&&(d.directiveStylingLast=k),f}function Mc(l,c,d){const f=d?1:2;let m=-1;if(null!==c)for(let y=0;y<c.length;y++){const C=c[y];"number"==typeof C?m=C:m===f&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),cs(l,C,!!d||c[++y]))}return void 0===l?null:l}function sE(l,c,d,f,m,y,C,k){if(!(3&c.type))return;const L=l.data,se=L[k+1];fv(function pS(l){return 1==(1&l)}(se)?oE(L,c,d,m,gc(se),C):void 0)||(fv(y)||function Y0(l){return 2==(2&l)}(se)&&(y=oE(L,null,d,m,k,C)),function up(l,c,d,f,m){if(c)m?l.addClass(d,f):l.removeClass(d,f);else{let y=-1===f.indexOf("-")?void 0:ws.DashCase;null==m?l.removeStyle(d,f,y):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),y|=ws.Important),l.setStyle(d,f,m,y))}}(f,C,gs(ii(),d),m,y))}function oE(l,c,d,f,m,y){const C=null===c;let k;for(;m>0;){const L=l[m],se=Array.isArray(L),Se=se?L[1]:L,Be=null===Se;let Xe=d[m+1];Xe===Rn&&(Xe=Be?pt:void 0);let at=Be?vu(Xe,f):Se===f?Xe:void 0;if(se&&!fv(at)&&(at=vu(L,f)),fv(at)&&(k=at,C))return k;const bt=l[m+1];m=C?co(bt):gc(bt)}if(null!==c){let L=y?c.residualClasses:c.residualStyles;null!=L&&(k=vu(L,f))}return k}function fv(l){return void 0!==l}function id(l,c){return 0!=(l.flags&(c?16:32))}function Ac(l,c=""){const d=Dt(),f=Fn(),m=l+22,y=f.firstCreatePass?bc(f,m,1,c,null):f.data[m],C=d[m]=function Sa(l,c){return l.createText(c)}(d[11],c);ah(f,d,C,y),os(y,!1)}function pv(l){return mv("",l,""),pv}function mv(l,c,d){const f=Dt(),m=bl(f,l,c,d);return m!==Rn&&function _l(l,c,d){const f=gs(c,l);!function Ou(l,c,d){l.setValue(c,d)}(l[11],f,d)}(f,ii(),m),mv}function Ug(l,c,d){!function Bo(l,c,d,f){const m=Fn(),y=ls(2);m.firstUpdatePass&&kw(m,null,y,f);const C=Dt();if(d!==Rn&&Ss(C,y,d)){const k=m.data[ii()];if(id(k,f)&&!hv(m,y)){let L=f?k.classesWithoutHost:k.stylesWithoutHost;null!==L&&(d=Ve(L,d||"")),sv(m,k,C,d,f)}else!function rE(l,c,d,f,m,y,C,k){m===Rn&&(m=pt);let L=0,se=0,Se=0<m.length?m[0]:null,Be=0<y.length?y[0]:null;for(;null!==Se||null!==Be;){const Xe=L<m.length?m[L+1]:void 0,at=se<y.length?y[se+1]:void 0;let Lt,bt=null;Se===Be?(L+=2,se+=2,Xe!==at&&(bt=Be,Lt=at)):null===Be||null!==Se&&Se<Be?(L+=2,bt=Se):(se+=2,bt=Be,Lt=at),null!==bt&&sE(l,c,d,f,bt,Lt,C,k),Se=L<m.length?m[L]:null,Be=se<y.length?y[se]:null}}(m,k,C,C[11],C[y+1],C[y+1]=function Hh(l,c,d){if(null==d||""===d)return pt;const f=[],m=Tr(d);if(Array.isArray(m))for(let y=0;y<m.length;y++)l(f,m[y],!0);else if("object"==typeof m)for(const y in m)m.hasOwnProperty(y)&&l(f,y,m[y]);else"string"==typeof m&&c(f,m);return f}(l,c,d),f,y)}}(cs,po,bl(Dt(),l,c,d),!0)}function Hw(l,c,d){const f=Dt();return Ss(f,Do(),c)&&Kr(Fn(),wi(),f,l,c,f[11],d,!0),Hw}function Dv(l,c,d){const f=Dt();if(Ss(f,Do(),c)){const y=Fn(),C=wi();Kr(y,C,f,l,c,qy(Ll(y.data),C,f),d,!0)}return Dv}const Uh=void 0;var mE=["en",[["a","p"],["AM","PM"],Uh],[["AM","PM"],Uh,Uh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Uh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Uh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Uh,"{1} 'at' {0}",Uh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Sv(l){const d=Math.floor(Math.abs(l)),f=l.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===f?1:5}];let Vp={};function jw(l){const c=function Rk(l){return l.toLowerCase().replace(/_/g,"-")}(l);let d=Hp(c);if(d)return d;const f=c.split("-")[0];if(d=Hp(f),d)return d;if("en"===f)return mE;throw new z(701,!1)}function od(l){return jw(l)[wn.PluralCase]}function Hp(l){return l in Vp||(Vp[l]=nt.ng&&nt.ng.common&&nt.ng.common.locales&&nt.ng.common.locales[l]),Vp[l]}var wn=(()=>((wn=wn||{})[wn.LocaleId=0]="LocaleId",wn[wn.DayPeriodsFormat=1]="DayPeriodsFormat",wn[wn.DayPeriodsStandalone=2]="DayPeriodsStandalone",wn[wn.DaysFormat=3]="DaysFormat",wn[wn.DaysStandalone=4]="DaysStandalone",wn[wn.MonthsFormat=5]="MonthsFormat",wn[wn.MonthsStandalone=6]="MonthsStandalone",wn[wn.Eras=7]="Eras",wn[wn.FirstDayOfWeek=8]="FirstDayOfWeek",wn[wn.WeekendRange=9]="WeekendRange",wn[wn.DateFormat=10]="DateFormat",wn[wn.TimeFormat=11]="TimeFormat",wn[wn.DateTimeFormat=12]="DateTimeFormat",wn[wn.NumberSymbols=13]="NumberSymbols",wn[wn.NumberFormats=14]="NumberFormats",wn[wn.CurrencyCode=15]="CurrencyCode",wn[wn.CurrencySymbol=16]="CurrencySymbol",wn[wn.CurrencyName=17]="CurrencyName",wn[wn.Currencies=18]="Currencies",wn[wn.Directionality=19]="Directionality",wn[wn.PluralCase=20]="PluralCase",wn[wn.ExtraData=21]="ExtraData",wn))();const jp="en-US";let _E=jp;function i_(l,c,d,f,m){if(l=oe(l),Array.isArray(l))for(let y=0;y<l.length;y++)i_(l[y],c,d,f,m);else{const y=Fn(),C=Dt();let k=Aa(l)?l:oe(l.provide),L=O0(l);const se=Fi(),Se=1048575&se.providerIndexes,Be=se.directiveStart,Xe=se.providerIndexes>>20;if(Aa(l)||!l.multi){const at=new Ul(L,m,xp),bt=r_(k,c,m?Se:Se+Xe,Be);-1===bt?(Wl(Ja(se,C),y,k),Lv(y,l,c.length),c.push(k),se.directiveStart++,se.directiveEnd++,m&&(se.providerIndexes+=1048576),d.push(at),C.push(at)):(d[bt]=at,C[bt]=at)}else{const at=r_(k,c,Se+Xe,Be),bt=r_(k,c,Se,Se+Xe),Lt=at>=0&&d[at],Yt=bt>=0&&d[bt];if(m&&!Yt||!m&&!Lt){Wl(Ja(se,C),y,k);const sn=function PE(l,c,d,f,m){const y=new Ul(l,d,xp);return y.multi=[],y.index=c,y.componentProviders=0,Yh(y,m,f&&!d),y}(m?Yk:Wk,d.length,m,f,L);!m&&Yt&&(d[bt].providerFactory=sn),Lv(y,l,c.length,0),c.push(k),se.directiveStart++,se.directiveEnd++,m&&(se.providerIndexes+=1048576),d.push(sn),C.push(sn)}else Lv(y,l,at>-1?at:bt,Yh(d[m?bt:at],L,!m&&f));!m&&f&&Yt&&d[bt].componentProviders++}}}function Lv(l,c,d,f){const m=Aa(c),y=function KD(l){return!!l.useClass}(c);if(m||y){const L=(y?oe(c.useClass):c).prototype.ngOnDestroy;if(L){const se=l.destroyHooks||(l.destroyHooks=[]);if(!m&&c.multi){const Se=se.indexOf(d);-1===Se?se.push(d,[f,L]):se[Se+1].push(f,L)}else se.push(d,L)}}}function Yh(l,c,d){return d&&l.componentProviders++,l.multi.push(c)-1}function r_(l,c,d,f){for(let m=d;m<f;m++)if(c[m]===l)return m;return-1}function Wk(l,c,d,f){return Nv(this.multi,[])}function Yk(l,c,d,f){const m=this.multi;let y;if(this.providerFactory){const C=this.providerFactory.componentProviders,k=Yl(d,d[1],this.providerFactory.index,f);y=k.slice(0,C),Nv(m,y);for(let L=C;L<k.length;L++)y.push(k[L])}else y=[],Nv(m,y);return y}function Nv(l,c){for(let d=0;d<l.length;d++)c.push((0,l[d])());return c}function FE(l,c=[]){return d=>{d.providersResolver=(f,m)=>function Fv(l,c,d){const f=Fn();if(f.firstCreatePass){const m=Ps(l);i_(d,f.data,f.blueprint,m,!0),i_(c,f.data,f.blueprint,m,!1)}}(f,m?m(l):l,c)}}class cd{}class LE{}function dC(l,c){return new Bv(l,c??null)}class Bv extends cd{constructor(c,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dw(this);const f=Sn(c);this._bootstrapComponents=ao(f.bootstrap),this._r3Injector=Zt(c,d,[{provide:cd,useValue:this},{provide:oo,useValue:this.componentFactoryResolver}],ze(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class hC extends LE{constructor(c){super(),this.moduleType=c}create(c){return new Bv(this.moduleType,c)}}class fC extends cd{constructor(c,d,f){super(),this.componentFactoryResolver=new dw(this),this.instance=null;const m=new R0([...c,{provide:cd,useValue:this},{provide:oo,useValue:this.componentFactoryResolver}],d||_h(),f,new Set(["environment"]));this.injector=m,m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function Vv(l,c,d=null){return new fC(l,c,d).injector}let pC=(()=>{class l{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const f=mp(0,d.type),m=f.length>0?Vv([f],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,m)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return l.\u0275prov=Oe({token:l,providedIn:"environment",factory:()=>new l(Ei(Gu))}),l})();function Hv(l){l.getStandaloneInjector=c=>c.get(pC).getOrCreateStandaloneInjector(l)}function HE(l,c,d){const f=Fr()+l,m=Dt();return m[f]===Rn?ho(m,f,d?c.call(d):c()):function Ng(l,c){return l[c]}(m,f)}function vC(l,c,d,f){return zv(Dt(),Fr(),l,c,d,f)}function zv(l,c,d,f,m,y){const C=c+d;return Ss(l,C,m)?ho(l,C+1,y?f.call(y,m):f(m)):function o_(l,c){const d=l[c];return d===Rn?void 0:d}(l,C+1)}function WE(l,c){const d=Fn();let f;const m=l+22;d.firstCreatePass?(f=function bC(l,c){if(c)for(let d=c.length-1;d>=0;d--){const f=c[d];if(l===f.name)return f}}(c,d.pipeRegistry),d.data[m]=f,f.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(m,f.onDestroy)):f=d.data[m];const y=f.factory||(f.factory=Co(f.type)),C=st(xp);try{const k=Mo(!1),L=y();return Mo(k),function rv(l,c,d,f){d>=l.data.length&&(l.data[d]=null,l.blueprint[d]=null),c[d]=f}(d,Dt(),m,L),L}finally{st(C)}}function Yv(l,c,d){const f=l+22,m=Dt(),y=Ya(m,f);return function Kh(l,c){return l[1].data[c].pure}(m,f)?zv(m,Fr(),c,y.transform,d,y):y.transform(d)}function a_(l){return c=>{setTimeout(l,void 0,c)}}const wl=class n1 extends o.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,f){let m=c,y=d||(()=>null),C=f;if(c&&"object"==typeof c){const L=c;m=L.next?.bind(L),y=L.error?.bind(L),C=L.complete?.bind(L)}this.__isAsync&&(y=a_(y),m&&(m=a_(m)),C&&(C=a_(C)));const k=super.subscribe({next:m,error:y,complete:C});return c instanceof it.w0&&c.add(k),k}};function CC(){return this._results[No()]()}class Yp{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=No(),f=Yp.prototype;f[d]||(f[d]=CC)}get changes(){return this._changes||(this._changes=new wl)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const f=this;f.dirty=!1;const m=Wi(c);(this._changesDetected=!function qm(l,c,d){if(l.length!==c.length)return!1;for(let f=0;f<l.length;f++){let m=l[f],y=c[f];if(d&&(m=d(m),y=d(y)),y!==m)return!1}return!0}(f._results,m,d))&&(f._results=m,f.length=m.length,f.last=m[this.length-1],f.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Xh=(()=>{class l{}return l.__NG_ELEMENT_ID__=xC,l})();const qp=Xh,qE=class extends qp{constructor(c,d,f){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=f}createEmbeddedView(c,d){const f=this._declarationTContainer.tViews,m=Ep(this._declarationLView,f,c,16,null,f.declTNode,null,null,null,null,d||null);m[17]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[19];return null!==C&&(m[19]=C.createEmbeddedView(f)),Sh(f,m,c),new Tp(m)}};function xC(){return qv(Fi(),Dt())}function qv(l,c){return 4&l.type?new qE(c,l,Wu(l,c)):null}let Zp=(()=>{class l{}return l.__NG_ELEMENT_ID__=kc,l})();function kc(){return KE(Fi(),Dt())}const DC=Zp,ZE=class extends DC{constructor(c,d,f){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=f}get element(){return Wu(this._hostTNode,this._hostLView)}get injector(){return new to(this._hostTNode,this._hostLView)}get parentInjector(){const c=ma(this._hostTNode,this._hostLView);if(Vd(c)){const d=Qs(c,this._hostLView),f=zl(c);return new to(d[1].data[f+8],d)}return new to(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=Zv(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,d,f){let m,y;"number"==typeof f?m=f:null!=f&&(m=f.index,y=f.injector);const C=c.createEmbeddedView(d||{},y);return this.insert(C,m),C}createComponent(c,d,f,m,y){const C=c&&!function ys(l){return"function"==typeof l}(c);let k;if(C)k=d;else{const Be=d||{};k=Be.index,f=Be.injector,m=Be.projectableNodes,y=Be.environmentInjector||Be.ngModuleRef}const L=C?c:new Ip(mt(c)),se=f||this.parentInjector;if(!y&&null==L.ngModule){const Xe=(C?se:this.parentInjector).get(Gu,null);Xe&&(y=Xe)}const Se=L.create(se,m,void 0,y);return this.insert(Se.hostView,k),Se}insert(c,d){const f=c._lView,m=f[1];if(function Ad(l){return zr(l[3])}(f)){const Se=this.indexOf(c);if(-1!==Se)this.detach(Se);else{const Be=f[3],Xe=new ZE(Be,Be[6],Be[3]);Xe.detach(Xe.indexOf(c))}}const y=this._adjustIndex(d),C=this._lContainer;!function op(l,c,d,f){const m=10+f,y=d.length;f>0&&(d[m-1][4]=c),f<y-10?(c[4]=d[m],Gd(d,10+f,c)):(d.push(c),c[4]=null),c[3]=d;const C=c[17];null!==C&&d!==C&&function b0(l,c){const d=l[9];c[16]!==c[3][3][16]&&(l[2]=!0),null===d?l[9]=[c]:d.push(c)}(C,c);const k=c[19];null!==k&&k.insertView(l),c[2]|=64}(m,f,C,y);const k=lh(y,C),L=f[11],se=rh(L,C[7]);return null!==se&&function Pu(l,c,d,f,m,y){f[0]=m,f[6]=c,uc(l,f,d,1,m,y)}(m,C[6],L,f,se,k),c.attachToViewContainerRef(),Gd(SC(C),y,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=Zv(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),f=ap(this._lContainer,d);f&&($d(SC(this._lContainer),d),og(f[1],f))}detach(c){const d=this._adjustIndex(c,-1),f=ap(this._lContainer,d);return f&&null!=$d(SC(this._lContainer),d)?new Tp(f):null}_adjustIndex(c,d=0){return c??this.length+d}};function Zv(l){return l[8]}function SC(l){return l[8]||(l[8]=[])}function KE(l,c){let d;const f=c[l.index];if(zr(f))d=f;else{let m;if(8&l.type)m=Hi(f);else{const y=c[11];m=y.createComment("");const C=Gr(l,c);Ea(y,rh(y,C),m,function sh(l,c){return l.nextSibling(c)}(y,C),!1)}c[l.index]=d=Qu(f,c,m,l),Rg(c,d)}return new ZE(d,l,c)}class MC{constructor(c){this.queryList=c,this.matches=null}clone(){return new MC(this.queryList)}setDirty(){this.queryList.setDirty()}}class l_{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const f=null!==c.contentQueries?c.contentQueries[0]:d.length,m=[];for(let y=0;y<f;y++){const C=d.getByIndex(y);m.push(this.queries[C.indexInDeclarationView].clone())}return new l_(m)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==Qh(c,d).matches&&this.queries[d].setDirty()}}class QE{constructor(c,d,f=null){this.predicate=c,this.flags=d,this.read=f}}class c_{constructor(c=[]){this.queries=c}elementStart(c,d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let f=0;f<this.length;f++){const m=null!==d?d.length:0,y=this.getByIndex(f).embeddedTView(c,m);y&&(y.indexInDeclarationView=f,null!==d?d.push(y):d=[y])}return null!==d?new c_(d):null}template(c,d){for(let f=0;f<this.queries.length;f++)this.queries[f].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Kv{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new Kv(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let f=c.parent;for(;null!==f&&8&f.type&&f.index!==d;)f=f.parent;return d===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const f=this.metadata.predicate;if(Array.isArray(f))for(let m=0;m<f.length;m++){const y=f[m];this.matchTNodeWithReadOption(c,d,AC(d,y)),this.matchTNodeWithReadOption(c,d,eo(d,c,y,!1,!1))}else f===Xh?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,eo(d,c,f,!1,!1))}matchTNodeWithReadOption(c,d,f){if(null!==f){const m=this.metadata.read;if(null!==m)if(m===hl||m===Zp||m===Xh&&4&d.type)this.addMatch(d.index,-2);else{const y=eo(d,c,m,!1,!1);null!==y&&this.addMatch(d.index,y)}else this.addMatch(d.index,f)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function AC(l,c){const d=l.localNames;if(null!==d)for(let f=0;f<d.length;f+=2)if(d[f]===c)return d[f+1];return null}function s1(l,c,d,f){return-1===d?function JE(l,c){return 11&l.type?Wu(l,c):4&l.type?qv(l,c):null}(c,l):-2===d?function o1(l,c,d){return d===hl?Wu(c,l):d===Xh?qv(c,l):d===Zp?KE(c,l):void 0}(l,c,f):Yl(l,l[1],d,c)}function Xv(l,c,d,f){const m=c[19].queries[f];if(null===m.matches){const y=l.data,C=d.matches,k=[];for(let L=0;L<C.length;L+=2){const se=C[L];k.push(se<0?null:s1(c,y[se],C[L+1],d.metadata.read))}m.matches=k}return m.matches}function TC(l,c,d,f){const m=l.queries.getByIndex(d),y=m.matches;if(null!==y){const C=Xv(l,c,m,d);for(let k=0;k<y.length;k+=2){const L=y[k];if(L>0)f.push(C[k/2]);else{const se=y[k+1],Se=c[-L];for(let Be=10;Be<Se.length;Be++){const Xe=Se[Be];Xe[17]===Xe[3]&&TC(Xe[1],Xe,se,f)}if(null!==Se[9]){const Be=Se[9];for(let Xe=0;Xe<Be.length;Xe++){const at=Be[Xe];TC(at[1],at,se,f)}}}}}return f}function Qv(l){const c=Dt(),d=Fn(),f=nu();Lr(f+1);const m=Qh(d,f);if(l.dirty&&function ay(l){return 4==(4&l[2])}(c)===(2==(2&m.metadata.flags))){if(null===m.matches)l.reset([]);else{const y=m.crossesNgTemplate?TC(d,c,f,[]):Xv(d,c,m,f);l.reset(y,L0),l.notifyOnChanges()}return!0}return!1}function Jv(l,c,d){const f=Fn();f.firstCreatePass&&(tb(f,new QE(l,c,d),-1),2==(2&c)&&(f.staticViewQueries=!0)),tM(f,Dt(),c)}function eb(l,c,d,f){const m=Fn();if(m.firstCreatePass){const y=Fi();tb(m,new QE(c,d,f),y.index),function nM(l,c){const d=l.contentQueries||(l.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(l.queries.length-1,c)}(m,l),2==(2&d)&&(m.staticContentQueries=!0)}tM(m,Dt(),d)}function eM(){return function u_(l,c){return l[19].queries[c].queryList}(Dt(),nu())}function tM(l,c,d){const f=new Yp(4==(4&d));iw(l,c,f,f.destroy),null===c[19]&&(c[19]=new l_),c[19].queries.push(new MC(f))}function tb(l,c,d){null===l.queries&&(l.queries=new c_),l.queries.track(new Kv(c,d))}function Qh(l,c){return l.queries.getByIndex(c)}function cb(...l){}const UC=new ci("Application Initializer");let ub=(()=>{class l{constructor(d){this.appInits=d,this.resolve=cb,this.reject=cb,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,m)=>{this.resolve=f,this.reject=m})}runInitializers(){if(this.initialized)return;const d=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const y=this.appInits[m]();if(_w(y))d.push(y);else if(vw(y)){const C=new Promise((k,L)=>{y.subscribe({complete:k,error:L})});d.push(C)}}Promise.all(d).then(()=>{f()}).catch(m=>{this.reject(m)}),0===d.length&&f(),this.initialized=!0}}return l.\u0275fac=function(d){return new(d||l)(Ei(UC,8))},l.\u0275prov=Oe({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const _M=new ci("AppId",{providedIn:"root",factory:function yM(){return`${vM()}${vM()}${vM()}`}});function vM(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bM=new ci("Platform Initializer"),f1=new ci("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zC=new ci("appBootstrapListener"),p1=new ci("AnimationModuleType");let Cl=(()=>{class l{log(d){console.log(d)}warn(d){console.warn(d)}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=Oe({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const GC=new ci("LocaleId",{providedIn:"root",factory:()=>xu(GC,Le.Optional|Le.SkipSelf)||function Oc(){return typeof $localize<"u"&&$localize.locale||jp}()}),ef=new ci("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class wM{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let CM=(()=>{class l{compileModuleSync(d){return new hC(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const f=this.compileModuleSync(d),y=ao(Sn(d).declarations).reduce((C,k)=>{const L=mt(k);return L&&C.push(new Ip(L)),C},[]);return new wM(f,y)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=Oe({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const g1=(()=>Promise.resolve(0))();function WC(l){typeof Zone>"u"?g1.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class mo{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wl(!1),this.onMicrotaskEmpty=new wl(!1),this.onStable=new wl(!1),this.onError=new wl(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();const m=this;if(m._nesting=0,m._outer=m._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const y=Zone.AsyncStackTaggingZoneSpec;m._inner=m._inner.fork(new y("Angular"))}Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!f&&d,m.shouldCoalesceRunChangeDetection=f,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function _1(){let l=nt.requestAnimationFrame,c=nt.cancelAnimationFrame;if(typeof Zone<"u"&&l&&c){const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d);const f=c[Zone.__symbol__("OriginalDelegate")];f&&(c=f)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function xM(l){const c=()=>{!function nf(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(nt,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,pb(l),l.isCheckStableRunning=!0,fb(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),pb(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,f,m,y,C,k)=>{try{return mb(l),d.invokeTask(m,y,C,k)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||l.shouldCoalesceRunChangeDetection)&&c(),Jp(l)}},onInvoke:(d,f,m,y,C,k,L)=>{try{return mb(l),d.invoke(m,y,C,k,L)}finally{l.shouldCoalesceRunChangeDetection&&c(),Jp(l)}},onHasTask:(d,f,m,y)=>{d.hasTask(m,y),f===m&&("microTask"==y.change?(l._hasPendingMicrotasks=y.microTask,pb(l),fb(l)):"macroTask"==y.change&&(l.hasPendingMacrotasks=y.macroTask))},onHandleError:(d,f,m,y)=>(d.handleError(m,y),l.runOutsideAngular(()=>l.onError.emit(y)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mo.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(mo.isInAngularZone())throw new z(909,!1)}run(c,d,f){return this._inner.run(c,d,f)}runTask(c,d,f,m){const y=this._inner,C=y.scheduleEventTask("NgZoneEvent: "+m,c,YC,cb,cb);try{return y.runTask(C,d,f)}finally{y.cancelTask(C)}}runGuarded(c,d,f){return this._inner.runGuarded(c,d,f)}runOutsideAngular(c){return this._outer.run(c)}}const YC={};function fb(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function pb(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function mb(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function Jp(l){l._nesting--,fb(l)}class y1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wl,this.onMicrotaskEmpty=new wl,this.onStable=new wl,this.onError=new wl}run(c,d,f){return c.apply(d,f)}runGuarded(c,d,f){return c.apply(d,f)}runOutsideAngular(c){return c()}runTask(c,d,f,m){return c.apply(d,f)}}const g_=new ci(""),__=new ci("");let tm,DM=(()=>{class l{constructor(d,f,m){this._ngZone=d,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,tm||(function v1(l){tm=l}(m),m.addToWindow(f)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mo.assertNotInAngularZone(),WC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())WC(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,m){let y=-1;f&&f>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==y),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:y,updateCb:m})}whenStable(d,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,f,m){return[]}}return l.\u0275fac=function(d){return new(d||l)(Ei(mo),Ei(em),Ei(__))},l.\u0275prov=Oe({token:l,factory:l.\u0275fac}),l})(),em=(()=>{class l{constructor(){this._applications=new Map}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return tm?.findTestabilityInTree(this,d,f)??null}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=Oe({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})(),Pc=null;const gb=new ci("AllowMultipleToken"),rf=new ci("PlatformDestroyListeners");class gL{constructor(c,d){this.name=c,this.token=d}}function EM(l,c,d=[]){const f=`Platform: ${c}`,m=new ci(f);return(y=[])=>{let C=KC();if(!C||C.injector.get(gb,!1)){const k=[...d,...y,{provide:m,useValue:!0}];l?l(k):function _L(l){if(Pc&&!Pc.get(gb,!1))throw new z(400,!1);Pc=l;const c=l.get(b_);(function SM(l){const c=l.get(bM,null);c&&c.forEach(d=>d())})(l)}(function v_(l=[],c){return pl.create({name:c,providers:[{provide:Ay,useValue:"platform"},{provide:rf,useValue:new Set([()=>Pc=null])},...l]})}(k,f))}return function b1(l){const c=KC();if(!c)throw new z(401,!1);return c}()}}function KC(){return Pc?.get(b_)??null}let b_=(()=>{class l{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const m=function AM(l,c){let d;return d="noop"===l?new y1:("zone.js"===l?void 0:l)||new mo(c),d}(f?.ngZone,function MM(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!l||!l.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!l||!l.ngZoneRunCoalescing)||!1}}(f)),y=[{provide:mo,useValue:m}];return m.run(()=>{const C=pl.create({providers:y,parent:this.injector,name:d.moduleType.name}),k=d.create(C),L=k.injector.get(wg,null);if(!L)throw new z(402,!1);return m.runOutsideAngular(()=>{const se=m.onError.subscribe({next:Se=>{L.handleError(Se)}});k.onDestroy(()=>{C_(this._modules,k),se.unsubscribe()})}),function XC(l,c,d){try{const f=d();return _w(f)?f.catch(m=>{throw c.runOutsideAngular(()=>l.handleError(m)),m}):f}catch(f){throw c.runOutsideAngular(()=>l.handleError(f)),f}}(L,m,()=>{const se=k.injector.get(ub);return se.runInitializers(),se.donePromise.then(()=>(function Mv(l){j(l,"Expected localeId to be defined"),"string"==typeof l&&(_E=l.toLowerCase().replace(/_/g,"-"))}(k.injector.get(GC,jp)||jp),this._moduleDoBootstrap(k),k))})})}bootstrapModule(d,f=[]){const m=QC({},f);return function y_(l,c,d){const f=new hC(d);return Promise.resolve(f)}(0,0,d).then(y=>this.bootstrapModuleFactory(y,m))}_moduleDoBootstrap(d){const f=d.injector.get(w_);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!d.instance.ngDoBootstrap)throw new z(403,!1);d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const d=this._injector.get(rf,null);d&&(d.forEach(f=>f()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(d){return new(d||l)(Ei(pl))},l.\u0275prov=Oe({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();function QC(l,c){return Array.isArray(c)?c.reduce(QC,l):{...l,...c}}let w_=(()=>{class l{constructor(d,f,m){this._zone=d,this._injector=f,this._exceptionHandler=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new Te.y(k=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{k.next(this._stable),k.complete()})}),C=new Te.y(k=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{mo.assertNotInAngularZone(),WC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,k.next(!0))})})});const se=this._zone.onUnstable.subscribe(()=>{mo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{k.next(!1)}))});return()=>{L.unsubscribe(),se.unsubscribe()}});this.isStable=(0,me.T)(y,C.pipe((0,ve.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,f){const m=d instanceof ea;if(!this._injector.get(ub).done)throw!m&&_n(d),new z(405,false);let C;C=m?d:this._injector.get(oo).resolveComponentFactory(d),this.componentTypes.push(C.componentType);const k=function nm(l){return l.isBoundToModule}(C)?void 0:this._injector.get(cd),se=C.create(pl.NULL,[],f||C.selector,k),Se=se.location.nativeElement,Be=se.injector.get(g_,null);return Be?.registerApplication(Se),se.onDestroy(()=>{this.detachView(se.hostView),C_(this.components,se),Be?.unregisterApplication(Se)}),this._loadComponent(se),se}tick(){if(this._runningTick)throw new z(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;C_(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(zC,[]).concat(this._bootstrapListeners).forEach(m=>m(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>C_(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new z(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return l.\u0275fac=function(d){return new(d||l)(Ei(mo),Ei(Gu),Ei(wg))},l.\u0275prov=Oe({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();function C_(l,c){const d=l.indexOf(c);d>-1&&l.splice(d,1)}let _b=!0,x_=!1;function w1(){return x_=!0,_b}function vL(){if(x_)throw new Error("Cannot enable prod mode after platform setup.");_b=!1}let wL=(()=>{class l{}return l.__NG_ELEMENT_ID__=sf,l})();function sf(l){return function Fc(l,c,d){if($a(l)&&!d){const f=ji(l.index,c);return new Tp(f,f)}return 47&l.type?new Tp(c[16],c):null}(Fi(),Dt(),16==(16&l))}class RM{constructor(){}supports(c){return Oa(c)}create(c){return new A1(c)}}const M1=(l,c)=>c;class A1{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||M1}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,f=this._removalsHead,m=0,y=null;for(;d||f;){const C=!f||d&&d.currentIndex<I1(f,m,y)?d:f,k=I1(C,m,y),L=C.currentIndex;if(C===f)m--,f=f._nextRemoved;else if(d=d._next,null==C.previousIndex)m++;else{y||(y=[]);const se=k-m,Se=L-m;if(se!=Se){for(let Xe=0;Xe<se;Xe++){const at=Xe<y.length?y[Xe]:y[Xe]=0,bt=at+Xe;Se<=bt&&bt<se&&(y[Xe]=at+1)}y[C.previousIndex]=Se-se}}k!==L&&c(C,k,L)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!Oa(c))throw new z(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let m,y,C,d=this._itHead,f=!1;if(Array.isArray(c)){this.length=c.length;for(let k=0;k<this.length;k++)y=c[k],C=this._trackByFn(k,y),null!==d&&Object.is(d.trackById,C)?(f&&(d=this._verifyReinsertion(d,y,C,k)),Object.is(d.item,y)||this._addIdentityChange(d,y)):(d=this._mismatch(d,y,C,k),f=!0),d=d._next}else m=0,function kp(l,c){if(Array.isArray(l))for(let d=0;d<l.length;d++)c(l[d]);else{const d=l[No()]();let f;for(;!(f=d.next()).done;)c(f.value)}}(c,k=>{C=this._trackByFn(m,k),null!==d&&Object.is(d.trackById,C)?(f&&(d=this._verifyReinsertion(d,k,C,m)),Object.is(d.item,k)||this._addIdentityChange(d,k)):(d=this._mismatch(d,k,C,m),f=!0),d=d._next,m++}),this.length=m;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,f,m){let y;return null===c?y=this._itTail:(y=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,y,m)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(f,m))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,y,m)):c=this._addAfter(new EL(d,f),y,m),c}_verifyReinsertion(c,d,f,m){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==y?c=this._reinsertAfter(y,c._prev,m):c.currentIndex!=m&&(c.currentIndex=m,this._addToMoves(c,m)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const m=c._prevRemoved,y=c._nextRemoved;return null===m?this._removalsHead=y:m._nextRemoved=y,null===y?this._removalsTail=m:y._prevRemoved=m,this._insertAfter(c,d,f),this._addToMoves(c,f),c}_moveAfter(c,d,f){return this._unlink(c),this._insertAfter(c,d,f),this._addToMoves(c,f),c}_addAfter(c,d,f){return this._insertAfter(c,d,f),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,f){const m=null===d?this._itHead:d._next;return c._next=m,c._prev=d,null===m?this._itTail=c:m._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new T1),this._linkedRecords.put(c),c.currentIndex=f,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,f=c._next;return null===d?this._itHead=f:d._next=f,null===f?this._itTail=d:f._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new T1),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class EL{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ML{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===d||d<=f.currentIndex)&&Object.is(f.trackById,c))return f;return null}remove(c){const d=c._prevDup,f=c._nextDup;return null===d?this._head=f:d._nextDup=f,null===f?this._tail=d:f._prevDup=d,null===this._head}}class T1{constructor(){this.map=new Map}put(c){const d=c.trackById;let f=this.map.get(d);f||(f=new ML,this.map.set(d,f)),f.add(c)}get(c,d){const m=this.map.get(c);return m?m.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function I1(l,c,d){const f=l.previousIndex;if(null===f)return f;let m=0;return d&&f<d.length&&(m=d[f]),f+c+m}class OM{constructor(){}supports(c){return c instanceof Map||Xy(c)}create(){return new k1}}class k1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||Xy(c)))throw new z(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(f,m)=>{if(d&&d.key===m)this._maybeAddToChanges(d,f),this._appendAfter=d,d=d._next;else{const y=this._getOrCreateRecordForKey(m,f);d=this._insertBeforeOrAppend(d,y)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let f=d;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const f=c._prev;return d._next=c,d._prev=f,c._prev=d,f&&(f._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const m=this._records.get(c);this._maybeAddToChanges(m,d);const y=m._prev,C=m._next;return y&&(y._next=C),C&&(C._prev=y),m._next=null,m._prev=null,m}const f=new R1(c);return this._records.set(c,f),f.currentValue=d,this._addToAdditions(f),f}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(f=>d(c[f],f))}}class R1{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function O1(){return new ix([new RM])}let ix=(()=>{class l{constructor(d){this.factories=d}static create(d,f){if(null!=f){const m=f.factories.slice();d=d.concat(m)}return new l(d)}static extend(d){return{provide:l,useFactory:f=>l.create(d,f||O1()),deps:[[l,new vs,new ba]]}}find(d){const f=this.factories.find(m=>m.supports(d));if(null!=f)return f;throw new z(901,!1)}}return l.\u0275prov=Oe({token:l,providedIn:"root",factory:O1}),l})();function Nc(){return new rx([new OM])}let rx=(()=>{class l{constructor(d){this.factories=d}static create(d,f){if(f){const m=f.factories.slice();d=d.concat(m)}return new l(d)}static extend(d){return{provide:l,useFactory:f=>l.create(d,f||Nc()),deps:[[l,new vs,new ba]]}}find(d){const f=this.factories.find(m=>m.supports(d));if(f)return f;throw new z(901,!1)}}return l.\u0275prov=Oe({token:l,providedIn:"root",factory:Nc}),l})();const N1=EM(null,"core",[]);let B1=(()=>{class l{constructor(d){}}return l.\u0275fac=function(d){return new(d||l)(Ei(w_))},l.\u0275mod=ns({type:l}),l.\u0275inj=A({}),l})();function IL(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}},3942:(Jt,wt,He)=>{He.d(wt,{Z:()=>z});var o=He(2090),it=He(4859),Te=He(6881),me=He(1877);class ve{constructor(Q,ne){this._delegate=Q,this.firebase=ne,(0,Te._addComponent)(Q,new it.wA("app-compat",()=>this,"PUBLIC")),this.container=Q.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this._delegate.automaticDataCollectionEnabled=Q}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Q=>{this._delegate.checkDestroyed(),Q()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Te.deleteApp)(this._delegate)))}_getService(Q,ne=Te._DEFAULT_ENTRY_NAME){var H;this._delegate.checkDestroyed();const ee=this._delegate.container.getProvider(Q);return!ee.isInitialized()&&"EXPLICIT"===(null===(H=ee.getComponent())||void 0===H?void 0:H.instantiationMode)&&ee.initialize(),ee.getImmediate({identifier:ne})}_removeServiceInstance(Q,ne=Te._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Q).clearInstance(ne)}_addComponent(Q){(0,Te._addComponent)(this._delegate,Q)}_addOrOverwriteComponent(Q){(0,Te._addOrOverwriteComponent)(this._delegate,Q)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Fe=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),we=function Ve(){const re=function ze(re){const Q={},ne={__esModule:!0,initializeApp:function G(ie,P={}){const I=Te.initializeApp(ie,P);if((0,o.r3)(Q,I.name))return Q[I.name];const W=new re(I,ne);return Q[I.name]=W,W},app:ee,registerVersion:Te.registerVersion,setLogLevel:Te.setLogLevel,onLog:Te.onLog,apps:null,SDK_VERSION:Te.SDK_VERSION,INTERNAL:{registerComponent:function $(ie){const P=ie.name,I=P.replace("-compat","");if(Te._registerComponent(ie)&&"PUBLIC"===ie.type){const W=(N=ee())=>{if("function"!=typeof N[I])throw Fe.create("invalid-app-argument",{appName:P});return N[I]()};void 0!==ie.serviceProps&&(0,o.ZB)(W,ie.serviceProps),ne[I]=W,re.prototype[I]=function(...N){return this._getService.bind(this,P).apply(this,ie.multipleInstances?N:[])}}return"PUBLIC"===ie.type?ne[I]:null},removeApp:function H(ie){delete Q[ie]},useAsService:function te(ie,P){return"serverAuth"===P?null:P},modularAPIs:Te}};function ee(ie){if(!(0,o.r3)(Q,ie=ie||Te._DEFAULT_ENTRY_NAME))throw Fe.create("no-app",{appName:ie});return Q[ie]}return ne.default=ne,Object.defineProperty(ne,"apps",{get:function V(){return Object.keys(Q).map(ie=>Q[ie])}}),ee.App=re,ne}(ve);return re.INTERNAL=Object.assign(Object.assign({},re.INTERNAL),{createFirebaseNamespace:Ve,extendNamespace:function Q(ne){(0,o.ZB)(re,ne)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),re}(),Ce=new me.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){Ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const re=self.firebase.SDK_VERSION;re&&re.indexOf("LITE")>=0&&Ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const z=we;!function Me(re){(0,Te.registerVersion)("@firebase/app-compat","0.2.13",re)}()},6881:(Jt,wt,He)=>{He.r(wt),He.d(wt,{FirebaseError:()=>me.ZR,SDK_VERSION:()=>Xt,_DEFAULT_ENTRY_NAME:()=>ge,_addComponent:()=>Pe,_addOrOverwriteComponent:()=>Qe,_apps:()=>Ue,_clearComponents:()=>Ct,_components:()=>Re,_getProvider:()=>It,_registerComponent:()=>nt,_removeServiceInstance:()=>kt,deleteApp:()=>ai,getApp:()=>Tn,getApps:()=>vn,initializeApp:()=>$t,onLog:()=>Pi,registerVersion:()=>kn,setLogLevel:()=>Bn});var o=He(5861),it=He(4859),Te=He(1877),me=He(2090);let be,Fe;const we=new WeakMap,Ce=new WeakMap,oe=new WeakMap,Ae=new WeakMap,Me=new WeakMap;let Q={get(dt,lt,At){if(dt instanceof IDBTransaction){if("done"===lt)return Ce.get(dt);if("objectStoreNames"===lt)return dt.objectStoreNames||oe.get(dt);if("store"===lt)return At.objectStoreNames[1]?void 0:At.objectStore(At.objectStoreNames[0])}return G(dt[lt])},set:(dt,lt,At)=>(dt[lt]=At,!0),has:(dt,lt)=>dt instanceof IDBTransaction&&("done"===lt||"store"===lt)||lt in dt};function ee(dt){return"function"==typeof dt?function H(dt){return dt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return Fe||(Fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(dt)?function(...lt){return dt.apply(V(this),lt),G(we.get(this))}:function(...lt){return G(dt.apply(V(this),lt))}:function(lt,...At){const Rt=dt.call(V(this),lt,...At);return oe.set(Rt,lt.sort?lt.sort():[lt]),G(Rt)}}(dt):(dt instanceof IDBTransaction&&function re(dt){if(Ce.has(dt))return;const lt=new Promise((At,Rt)=>{const mn=()=>{dt.removeEventListener("complete",En),dt.removeEventListener("error",Jn),dt.removeEventListener("abort",Jn)},En=()=>{At(),mn()},Jn=()=>{Rt(dt.error||new DOMException("AbortError","AbortError")),mn()};dt.addEventListener("complete",En),dt.addEventListener("error",Jn),dt.addEventListener("abort",Jn)});Ce.set(dt,lt)}(dt),((dt,lt)=>lt.some(At=>dt instanceof At))(dt,function ze(){return be||(be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(dt,Q):dt)}function G(dt){if(dt instanceof IDBRequest)return function z(dt){const lt=new Promise((At,Rt)=>{const mn=()=>{dt.removeEventListener("success",En),dt.removeEventListener("error",Jn)},En=()=>{At(G(dt.result)),mn()},Jn=()=>{Rt(dt.error),mn()};dt.addEventListener("success",En),dt.addEventListener("error",Jn)});return lt.then(At=>{At instanceof IDBCursor&&we.set(At,dt)}).catch(()=>{}),Me.set(lt,dt),lt}(dt);if(Ae.has(dt))return Ae.get(dt);const lt=ee(dt);return lt!==dt&&(Ae.set(dt,lt),Me.set(lt,dt)),lt}const V=dt=>Me.get(dt),ie=["get","getKey","getAll","getAllKeys","count"],P=["put","add","delete","clear"],I=new Map;function W(dt,lt){if(!(dt instanceof IDBDatabase)||lt in dt||"string"!=typeof lt)return;if(I.get(lt))return I.get(lt);const At=lt.replace(/FromIndex$/,""),Rt=lt!==At,mn=P.includes(At);if(!(At in(Rt?IDBIndex:IDBObjectStore).prototype)||!mn&&!ie.includes(At))return;const En=function(){var Jn=(0,o.Z)(function*(Di,...Vn){const Cr=this.transaction(Di,mn?"readwrite":"readonly");let ps=Cr.store;return Rt&&(ps=ps.index(Vn.shift())),(yield Promise.all([ps[At](...Vn),mn&&Cr.done]))[0]});return function(Vn){return Jn.apply(this,arguments)}}();return I.set(lt,En),En}!function ne(dt){Q=dt(Q)}(dt=>({...dt,get:(lt,At,Rt)=>W(lt,At)||dt.get(lt,At,Rt),has:(lt,At)=>!!W(lt,At)||dt.has(lt,At)}));class N{constructor(lt){this.container=lt}getPlatformInfoString(){return this.container.getProviders().map(At=>{if(function U(dt){return"VERSION"===dt.getComponent()?.type}(At)){const Rt=At.getImmediate();return`${Rt.library}/${Rt.version}`}return null}).filter(At=>At).join(" ")}}const S="@firebase/app",D="0.9.13",T=new Te.Yd("@firebase/app"),ge="[DEFAULT]",le={[S]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ue=new Map,Re=new Map;function Pe(dt,lt){try{dt.container.addComponent(lt)}catch(At){T.debug(`Component ${lt.name} failed to register with FirebaseApp ${dt.name}`,At)}}function Qe(dt,lt){dt.container.addOrOverwriteComponent(lt)}function nt(dt){const lt=dt.name;if(Re.has(lt))return T.debug(`There were multiple attempts to register component ${lt}.`),!1;Re.set(lt,dt);for(const At of Ue.values())Pe(At,dt);return!0}function It(dt,lt){const At=dt.container.getProvider("heartbeat").getImmediate({optional:!0});return At&&At.triggerHeartbeat(),dt.container.getProvider(lt)}function kt(dt,lt,At=ge){It(dt,lt).clearInstance(At)}function Ct(){Re.clear()}const on=new me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ft{constructor(lt,At,Rt){this._isDeleted=!1,this._options=Object.assign({},lt),this._config=Object.assign({},At),this._name=At.name,this._automaticDataCollectionEnabled=At.automaticDataCollectionEnabled,this._container=Rt,this.container.addComponent(new it.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(lt){this.checkDestroyed(),this._automaticDataCollectionEnabled=lt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(lt){this._isDeleted=lt}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}}const Xt="9.23.0";function $t(dt,lt={}){let At=dt;"object"!=typeof lt&&(lt={name:lt});const Rt=Object.assign({name:ge,automaticDataCollectionEnabled:!1},lt),mn=Rt.name;if("string"!=typeof mn||!mn)throw on.create("bad-app-name",{appName:String(mn)});if(At||(At=(0,me.aH)()),!At)throw on.create("no-options");const En=Ue.get(mn);if(En){if((0,me.vZ)(At,En.options)&&(0,me.vZ)(Rt,En.config))return En;throw on.create("duplicate-app",{appName:mn})}const Jn=new it.H0(mn);for(const Vn of Re.values())Jn.addComponent(Vn);const Di=new Ft(At,Rt,Jn);return Ue.set(mn,Di),Di}function Tn(dt=ge){const lt=Ue.get(dt);if(!lt&&dt===ge&&(0,me.aH)())return $t();if(!lt)throw on.create("no-app",{appName:dt});return lt}function vn(){return Array.from(Ue.values())}function ai(dt){return zn.apply(this,arguments)}function zn(){return(zn=(0,o.Z)(function*(dt){const lt=dt.name;Ue.has(lt)&&(Ue.delete(lt),yield Promise.all(dt.container.getProviders().map(At=>At.delete())),dt.isDeleted=!0)})).apply(this,arguments)}function kn(dt,lt,At){var Rt;let mn=null!==(Rt=le[dt])&&void 0!==Rt?Rt:dt;At&&(mn+=`-${At}`);const En=mn.match(/\s|\//),Jn=lt.match(/\s|\//);if(En||Jn){const Di=[`Unable to register library "${mn}" with version "${lt}":`];return En&&Di.push(`library name "${mn}" contains illegal characters (whitespace or "/")`),En&&Jn&&Di.push("and"),Jn&&Di.push(`version name "${lt}" contains illegal characters (whitespace or "/")`),void T.warn(Di.join(" "))}nt(new it.wA(`${mn}-version`,()=>({library:mn,version:lt}),"VERSION"))}function Pi(dt,lt){if(null!==dt&&"function"!=typeof dt)throw on.create("invalid-log-argument");(0,Te.Am)(dt,lt)}function Bn(dt){(0,Te.Ub)(dt)}const Ze="firebase-heartbeat-store";let $e=null;function et(){return $e||($e=function $(dt,lt,{blocked:At,upgrade:Rt,blocking:mn,terminated:En}={}){const Jn=indexedDB.open(dt,lt),Di=G(Jn);return Rt&&Jn.addEventListener("upgradeneeded",Vn=>{Rt(G(Jn.result),Vn.oldVersion,Vn.newVersion,G(Jn.transaction),Vn)}),At&&Jn.addEventListener("blocked",Vn=>At(Vn.oldVersion,Vn.newVersion,Vn)),Di.then(Vn=>{En&&Vn.addEventListener("close",()=>En()),mn&&Vn.addEventListener("versionchange",Cr=>mn(Cr.oldVersion,Cr.newVersion,Cr))}).catch(()=>{}),Di}("firebase-heartbeat-database",1,{upgrade:(dt,lt)=>{0===lt&&dt.createObjectStore(Ze)}}).catch(dt=>{throw on.create("idb-open",{originalErrorMessage:dt.message})})),$e}function ot(){return(ot=(0,o.Z)(function*(dt){try{return yield(yield et()).transaction(Ze).objectStore(Ze).get(Sn(dt))}catch(lt){if(lt instanceof me.ZR)T.warn(lt.message);else{const At=on.create("idb-get",{originalErrorMessage:lt?.message});T.warn(At.message)}}})).apply(this,arguments)}function Wt(dt,lt){return _n.apply(this,arguments)}function _n(){return(_n=(0,o.Z)(function*(dt,lt){try{const Rt=(yield et()).transaction(Ze,"readwrite");yield Rt.objectStore(Ze).put(lt,Sn(dt)),yield Rt.done}catch(At){if(At instanceof me.ZR)T.warn(At.message);else{const Rt=on.create("idb-set",{originalErrorMessage:At?.message});T.warn(Rt.message)}}})).apply(this,arguments)}function Sn(dt){return`${dt.name}!${dt.options.appId}`}class ln{constructor(lt){this.container=lt,this._heartbeatsCache=null;const At=this.container.getProvider("app").getImmediate();this._storage=new wr(At),this._heartbeatsCachePromise=this._storage.read().then(Rt=>(this._heartbeatsCache=Rt,Rt))}triggerHeartbeat(){var lt=this;return(0,o.Z)(function*(){const Rt=lt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),mn=dn();if(null===lt._heartbeatsCache&&(lt._heartbeatsCache=yield lt._heartbeatsCachePromise),lt._heartbeatsCache.lastSentHeartbeatDate!==mn&&!lt._heartbeatsCache.heartbeats.some(En=>En.date===mn))return lt._heartbeatsCache.heartbeats.push({date:mn,agent:Rt}),lt._heartbeatsCache.heartbeats=lt._heartbeatsCache.heartbeats.filter(En=>{const Jn=new Date(En.date).valueOf();return Date.now()-Jn<=2592e6}),lt._storage.overwrite(lt._heartbeatsCache)})()}getHeartbeatsHeader(){var lt=this;return(0,o.Z)(function*(){if(null===lt._heartbeatsCache&&(yield lt._heartbeatsCachePromise),null===lt._heartbeatsCache||0===lt._heartbeatsCache.heartbeats.length)return"";const At=dn(),{heartbeatsToSend:Rt,unsentEntries:mn}=function ui(dt,lt=1024){const At=[];let Rt=dt.slice();for(const mn of dt){const En=At.find(Jn=>Jn.agent===mn.agent);if(En){if(En.dates.push(mn.date),di(At)>lt){En.dates.pop();break}}else if(At.push({agent:mn.agent,dates:[mn.date]}),di(At)>lt){At.pop();break}Rt=Rt.slice(1)}return{heartbeatsToSend:At,unsentEntries:Rt}}(lt._heartbeatsCache.heartbeats),En=(0,me.L)(JSON.stringify({version:2,heartbeats:Rt}));return lt._heartbeatsCache.lastSentHeartbeatDate=At,mn.length>0?(lt._heartbeatsCache.heartbeats=mn,yield lt._storage.overwrite(lt._heartbeatsCache)):(lt._heartbeatsCache.heartbeats=[],lt._storage.overwrite(lt._heartbeatsCache)),En})()}}function dn(){return(new Date).toISOString().substring(0,10)}class wr{constructor(lt){this.app=lt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,me.hl)()&&(0,me.eu)().then(()=>!0).catch(()=>!1)})()}read(){var lt=this;return(0,o.Z)(function*(){return(yield lt._canUseIndexedDBPromise)&&(yield function mt(dt){return ot.apply(this,arguments)}(lt.app))||{heartbeats:[]}})()}overwrite(lt){var At=this;return(0,o.Z)(function*(){var Rt;if(yield At._canUseIndexedDBPromise){const En=yield At.read();return Wt(At.app,{lastSentHeartbeatDate:null!==(Rt=lt.lastSentHeartbeatDate)&&void 0!==Rt?Rt:En.lastSentHeartbeatDate,heartbeats:lt.heartbeats})}})()}add(lt){var At=this;return(0,o.Z)(function*(){var Rt;if(yield At._canUseIndexedDBPromise){const En=yield At.read();return Wt(At.app,{lastSentHeartbeatDate:null!==(Rt=lt.lastSentHeartbeatDate)&&void 0!==Rt?Rt:En.lastSentHeartbeatDate,heartbeats:[...En.heartbeats,...lt.heartbeats]})}})()}}function di(dt){return(0,me.L)(JSON.stringify({version:2,heartbeats:dt})).length}!function Os(dt){nt(new it.wA("platform-logger",lt=>new N(lt),"PRIVATE")),nt(new it.wA("heartbeat",lt=>new ln(lt),"PRIVATE")),kn(S,D,dt),kn(S,D,"esm2017"),kn("fire-js","")}("")},4859:(Jt,wt,He)=>{He.d(wt,{H0:()=>ze,wA:()=>Te});var o=He(5861),it=He(2090);class Te{constructor(we,Ce,oe){this.name=we,this.instanceFactory=Ce,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(we){return this.instantiationMode=we,this}setMultipleInstances(we){return this.multipleInstances=we,this}setServiceProps(we){return this.serviceProps=we,this}setInstanceCreatedCallback(we){return this.onInstanceCreated=we,this}}const me="[DEFAULT]";class ve{constructor(we,Ce){this.name=we,this.container=Ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(we){const Ce=this.normalizeInstanceIdentifier(we);if(!this.instancesDeferred.has(Ce)){const oe=new it.BH;if(this.instancesDeferred.set(Ce,oe),this.isInitialized(Ce)||this.shouldAutoInitialize())try{const Ae=this.getOrInitializeService({instanceIdentifier:Ce});Ae&&oe.resolve(Ae)}catch{}}return this.instancesDeferred.get(Ce).promise}getImmediate(we){var Ce;const oe=this.normalizeInstanceIdentifier(we?.identifier),Ae=null!==(Ce=we?.optional)&&void 0!==Ce&&Ce;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(Ae)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(Me){if(Ae)return null;throw Me}}getComponent(){return this.component}setComponent(we){if(we.name!==this.name)throw Error(`Mismatching Component ${we.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=we,this.shouldAutoInitialize()){if(function Fe(Ve){return"EAGER"===Ve.instantiationMode}(we))try{this.getOrInitializeService({instanceIdentifier:me})}catch{}for(const[Ce,oe]of this.instancesDeferred.entries()){const Ae=this.normalizeInstanceIdentifier(Ce);try{const Me=this.getOrInitializeService({instanceIdentifier:Ae});oe.resolve(Me)}catch{}}}}clearInstance(we=me){this.instancesDeferred.delete(we),this.instancesOptions.delete(we),this.instances.delete(we)}delete(){var we=this;return(0,o.Z)(function*(){const Ce=Array.from(we.instances.values());yield Promise.all([...Ce.filter(oe=>"INTERNAL"in oe).map(oe=>oe.INTERNAL.delete()),...Ce.filter(oe=>"_delete"in oe).map(oe=>oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(we=me){return this.instances.has(we)}getOptions(we=me){return this.instancesOptions.get(we)||{}}initialize(we={}){const{options:Ce={}}=we,oe=this.normalizeInstanceIdentifier(we.instanceIdentifier);if(this.isInitialized(oe))throw Error(`${this.name}(${oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ae=this.getOrInitializeService({instanceIdentifier:oe,options:Ce});for(const[Me,z]of this.instancesDeferred.entries())oe===this.normalizeInstanceIdentifier(Me)&&z.resolve(Ae);return Ae}onInit(we,Ce){var oe;const Ae=this.normalizeInstanceIdentifier(Ce),Me=null!==(oe=this.onInitCallbacks.get(Ae))&&void 0!==oe?oe:new Set;Me.add(we),this.onInitCallbacks.set(Ae,Me);const z=this.instances.get(Ae);return z&&we(z,Ae),()=>{Me.delete(we)}}invokeOnInitCallbacks(we,Ce){const oe=this.onInitCallbacks.get(Ce);if(oe)for(const Ae of oe)try{Ae(we,Ce)}catch{}}getOrInitializeService({instanceIdentifier:we,options:Ce={}}){let oe=this.instances.get(we);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=we,Ve===me?void 0:Ve),options:Ce}),this.instances.set(we,oe),this.instancesOptions.set(we,Ce),this.invokeOnInitCallbacks(oe,we),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,we,oe)}catch{}var Ve;return oe||null}normalizeInstanceIdentifier(we=me){return this.component?this.component.multipleInstances?we:me:we}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ze{constructor(we){this.name=we,this.providers=new Map}addComponent(we){const Ce=this.getProvider(we.name);if(Ce.isComponentSet())throw new Error(`Component ${we.name} has already been registered with ${this.name}`);Ce.setComponent(we)}addOrOverwriteComponent(we){this.getProvider(we.name).isComponentSet()&&this.providers.delete(we.name),this.addComponent(we)}getProvider(we){if(this.providers.has(we))return this.providers.get(we);const Ce=new ve(we,this);return this.providers.set(we,Ce),Ce}getProviders(){return Array.from(this.providers.values())}}},1877:(Jt,wt,He)=>{He.d(wt,{Am:()=>Ve,Ub:()=>ze,Yd:()=>Fe,in:()=>it});const o=[];var it=(()=>{return(we=it||(it={}))[we.DEBUG=0]="DEBUG",we[we.VERBOSE=1]="VERBOSE",we[we.INFO=2]="INFO",we[we.WARN=3]="WARN",we[we.ERROR=4]="ERROR",we[we.SILENT=5]="SILENT",it;var we})();const Te={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},me=it.INFO,ve={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},be=(we,Ce,...oe)=>{if(Ce<we.logLevel)return;const Ae=(new Date).toISOString(),Me=ve[Ce];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ce})`);console[Me](`[${Ae}]  ${we.name}:`,...oe)};class Fe{constructor(Ce){this.name=Ce,this._logLevel=me,this._logHandler=be,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(Ce){if(!(Ce in it))throw new TypeError(`Invalid value "${Ce}" assigned to \`logLevel\``);this._logLevel=Ce}setLogLevel(Ce){this._logLevel="string"==typeof Ce?Te[Ce]:Ce}get logHandler(){return this._logHandler}set logHandler(Ce){if("function"!=typeof Ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ce){this._userLogHandler=Ce}debug(...Ce){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...Ce),this._logHandler(this,it.DEBUG,...Ce)}log(...Ce){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...Ce),this._logHandler(this,it.VERBOSE,...Ce)}info(...Ce){this._userLogHandler&&this._userLogHandler(this,it.INFO,...Ce),this._logHandler(this,it.INFO,...Ce)}warn(...Ce){this._userLogHandler&&this._userLogHandler(this,it.WARN,...Ce),this._logHandler(this,it.WARN,...Ce)}error(...Ce){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...Ce),this._logHandler(this,it.ERROR,...Ce)}}function ze(we){o.forEach(Ce=>{Ce.setLogLevel(we)})}function Ve(we,Ce){for(const oe of o){let Ae=null;Ce&&Ce.level&&(Ae=Te[Ce.level]),oe.userLogHandler=null===we?null:(Me,z,...re)=>{const Q=re.map(ne=>{if(null==ne)return null;if("string"==typeof ne)return ne;if("number"==typeof ne||"boolean"==typeof ne)return ne.toString();if(ne instanceof Error)return ne.message;try{return JSON.stringify(ne)}catch{return null}}).filter(ne=>ne).join(" ");z>=(Ae??Me.logLevel)&&we({level:it[z].toLowerCase(),message:Q,args:re,type:Me.name})}}}},259:(Jt,wt,He)=>{He.d(wt,{C6:()=>o.getApps,Mq:()=>o.getApp});var o=He(6881);(0,o.registerVersion)("firebase","9.23.0","app")},9260:(Jt,wt,He)=>{He.d(wt,{Z:()=>o.Z});var o=He(3942);o.Z.registerVersion("firebase","9.23.0","app-compat")},2644:(Jt,wt,He)=>{He.r(wt);var o=He(5861),it=He(3942),Te=He(2090),me=He(6881),ve=He(7582),be=He(1877),Fe=He(4859);const z=function Ae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},re=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Q=new Te.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),H=new be.Yd("@firebase/auth");function G(b,...g){H.logLevel<=be.in.ERROR&&H.error(`Auth (${me.SDK_VERSION}): ${b}`,...g)}function V(b,...g){throw P(b,...g)}function $(b,...g){return P(b,...g)}function te(b,g,_){const x=Object.assign(Object.assign({},re()),{[g]:_});return new Te.LL("auth","Firebase",x).create(g,{appName:b.name})}function ie(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&V(b,"argument-error"),te(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function P(b,...g){if("string"!=typeof b){const _=g[0],x=[...g.slice(1)];return x[0]&&(x[0].appName=b.name),b._errorFactory.create(_,...x)}return Q.create(b,...g)}function I(b,g,..._){if(!b)throw P(g,..._)}function W(b){const g="INTERNAL ASSERTION FAILED: "+b;throw G(g),new Error(g)}function N(b,g){b||W(g)}function U(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function S(){return"http:"===D()||"https:"===D()}function D(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class K{constructor(g,_){this.shortDelay=g,this.longDelay=_,N(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,Te.uI)()||(0,Te.b$)()}get(){return function T(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(S()||(0,Te.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function j(b,g){N(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class E{static initialize(g,_,x){this.fetchImpl=g,_&&(this.headersImpl=_),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void W("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void W("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void W("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},fe=new K(3e4,6e4);function De(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function Oe(b,g,_,x){return ue.apply(this,arguments)}function ue(){return(ue=(0,o.Z)(function*(b,g,_,x,J={}){return A(b,J,(0,o.Z)(function*(){let ye={},Ye={};x&&("GET"===g?Ye=x:ye={body:JSON.stringify(x)});const rt=(0,Te.xO)(Object.assign({key:b.config.apiKey},Ye)).slice(1),Et=yield b._getAdditionalHeaders();return Et["Content-Type"]="application/json",b.languageCode&&(Et["X-Firebase-Locale"]=b.languageCode),E.fetch()(Ne(b,b.config.apiHost,_,rt),Object.assign({method:g,headers:Et,referrerPolicy:"no-referrer"},ye))}))})).apply(this,arguments)}function A(b,g,_){return ae.apply(this,arguments)}function ae(){return(ae=(0,o.Z)(function*(b,g,_){b._canInitEmulator=!1;const x=Object.assign(Object.assign({},q),g);try{const J=new R(b),ye=yield Promise.race([_(),J.promise]);J.clearNetworkTimeout();const Ye=yield ye.json();if("needConfirmation"in Ye)throw Z(b,"account-exists-with-different-credential",Ye);if(ye.ok&&!("errorMessage"in Ye))return Ye;{const rt=ye.ok?Ye.errorMessage:Ye.error.message,[Et,Ht]=rt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Et)throw Z(b,"credential-already-in-use",Ye);if("EMAIL_EXISTS"===Et)throw Z(b,"email-already-in-use",Ye);if("USER_DISABLED"===Et)throw Z(b,"user-disabled",Ye);const tn=x[Et]||Et.toLowerCase().replace(/[_\s]+/g,"-");if(Ht)throw te(b,tn,Ht);V(b,tn)}}catch(J){if(J instanceof Te.ZR)throw J;V(b,"network-request-failed",{message:String(J)})}})).apply(this,arguments)}function pe(b,g,_,x){return de.apply(this,arguments)}function de(){return(de=(0,o.Z)(function*(b,g,_,x,J={}){const ye=yield Oe(b,g,_,x,J);return"mfaPendingCredential"in ye&&V(b,"multi-factor-auth-required",{_serverResponse:ye}),ye})).apply(this,arguments)}function Ne(b,g,_,x){const J=`${g}${_}?${x}`;return b.config.emulator?j(b.config,J):`${b.config.apiScheme}://${J}`}class R{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,x)=>{this.timer=setTimeout(()=>x($(this.auth,"network-request-failed")),fe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Z(b,g,_){const x={appName:b.name};_.email&&(x.email=_.email),_.phoneNumber&&(x.phoneNumber=_.phoneNumber);const J=$(b,g,x);return J.customData._tokenResponse=_,J}function xe(){return(xe=(0,o.Z)(function*(b,g){return Oe(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Ie(b,g){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,o.Z)(function*(b,g){return Oe(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Le(b,g){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,o.Z)(function*(b,g){return Oe(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function qe(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function ge(){return(ge=(0,o.Z)(function*(b,g=!1){const _=(0,Te.m9)(b),x=yield _.getIdToken(g),J=Ue(x);I(J&&J.exp&&J.auth_time&&J.iat,_.auth,"internal-error");const ye="object"==typeof J.firebase?J.firebase:void 0,Ye=ye?.sign_in_provider;return{claims:J,token:x,authTime:qe(le(J.auth_time)),issuedAtTime:qe(le(J.iat)),expirationTime:qe(le(J.exp)),signInProvider:Ye||null,signInSecondFactor:ye?.sign_in_second_factor||null}})).apply(this,arguments)}function le(b){return 1e3*Number(b)}function Ue(b){const[g,_,x]=b.split(".");if(void 0===g||void 0===_||void 0===x)return G("JWT malformed, contained fewer than 3 sections"),null;try{const J=(0,Te.tV)(_);return J?JSON.parse(J):(G("Failed to decode base64 JWT payload"),null)}catch(J){return G("Caught error parsing JWT payload as JSON",J?.toString()),null}}function Pe(b,g){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,o.Z)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(x){throw x instanceof Te.ZR&&nt(x)&&b.auth.currentUser===b&&(yield b.auth.signOut()),x}})).apply(this,arguments)}function nt({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class It{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const J=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,J)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const x=this.getInterval(g);this.timerId=setTimeout((0,o.Z)(function*(){yield _.iteration()}),x)}iteration(){var g=this;return(0,o.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class kt{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=qe(this.lastLoginAt),this.creationTime=qe(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ct(b){return pt.apply(this,arguments)}function pt(){return(pt=(0,o.Z)(function*(b){var g;const _=b.auth,x=yield b.getIdToken(),J=yield Pe(b,Le(_,{idToken:x}));I(J?.users.length,_,"internal-error");const ye=J.users[0];b._notifyReloadListener(ye);const Ye=null!==(g=ye.providerUserInfo)&&void 0!==g&&g.length?$t(ye.providerUserInfo):[],rt=Xt(b.providerData,Ye),tn=!!b.isAnonymous&&!(b.email&&ye.passwordHash||rt?.length),nn={uid:ye.localId,displayName:ye.displayName||null,photoURL:ye.photoUrl||null,email:ye.email||null,emailVerified:ye.emailVerified||!1,phoneNumber:ye.phoneNumber||null,tenantId:ye.tenantId||null,providerData:rt,metadata:new kt(ye.createdAt,ye.lastLoginAt),isAnonymous:tn};Object.assign(b,nn)})).apply(this,arguments)}function Ft(){return(Ft=(0,o.Z)(function*(b){const g=(0,Te.m9)(b);yield Ct(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Xt(b,g){return[...b.filter(x=>!g.some(J=>J.providerId===x.providerId)),...g]}function $t(b){return b.map(g=>{var{providerId:_}=g,x=(0,ve._T)(g,["providerId"]);return{providerId:_,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}function vn(){return(vn=(0,o.Z)(function*(b,g){const _=yield A(b,{},(0,o.Z)(function*(){const x=(0,Te.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:J,apiKey:ye}=b.config,Ye=Ne(b,J,"/v1/token",`key=${ye}`),rt=yield b._getAdditionalHeaders();return rt["Content-Type"]="application/x-www-form-urlencoded",E.fetch()(Ye,{method:"POST",headers:rt,body:x})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class ai{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){I(g.idToken,"internal-error"),I(typeof g.idToken<"u","internal-error"),I(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Re(b){const g=Ue(b);return I(g,"internal-error"),I(typeof g.exp<"u","internal-error"),I(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var x=this;return(0,o.Z)(function*(){return I(!x.accessToken||x.refreshToken,g,"user-token-expired"),_||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(g,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var x=this;return(0,o.Z)(function*(){const{accessToken:J,refreshToken:ye,expiresIn:Ye}=yield function Tn(b,g){return vn.apply(this,arguments)}(g,_);x.updateTokensAndExpiration(J,ye,Number(Ye))})()}updateTokensAndExpiration(g,_,x){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(g,_){const{refreshToken:x,accessToken:J,expirationTime:ye}=_,Ye=new ai;return x&&(I("string"==typeof x,"internal-error",{appName:g}),Ye.refreshToken=x),J&&(I("string"==typeof J,"internal-error",{appName:g}),Ye.accessToken=J),ye&&(I("number"==typeof ye,"internal-error",{appName:g}),Ye.expirationTime=ye),Ye}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new ai,this.toJSON())}_performRefresh(){return W("not implemented")}}function zn(b,g){I("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class kn{constructor(g){var{uid:_,auth:x,stsTokenManager:J}=g,ye=(0,ve._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new It(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=x,this.stsTokenManager=J,this.accessToken=J.accessToken,this.displayName=ye.displayName||null,this.email=ye.email||null,this.emailVerified=ye.emailVerified||!1,this.phoneNumber=ye.phoneNumber||null,this.photoURL=ye.photoURL||null,this.isAnonymous=ye.isAnonymous||!1,this.tenantId=ye.tenantId||null,this.providerData=ye.providerData?[...ye.providerData]:[],this.metadata=new kt(ye.createdAt||void 0,ye.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,o.Z)(function*(){const x=yield Pe(_,_.stsTokenManager.getToken(_.auth,g));return I(x,_.auth,"internal-error"),_.accessToken!==x&&(_.accessToken=x,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),x})()}getIdTokenResult(g){return function _t(b){return ge.apply(this,arguments)}(this,g)}reload(){return function on(b){return Ft.apply(this,arguments)}(this)}_assign(g){this!==g&&(I(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const _=new kn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(g){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var x=this;return(0,o.Z)(function*(){let J=!1;g.idToken&&g.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(g),J=!0),_&&(yield Ct(x)),yield x.auth._persistUserIfCurrent(x),J&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var g=this;return(0,o.Z)(function*(){const _=yield g.getIdToken();return yield Pe(g,function X(b,g){return xe.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var x,J,ye,Ye,rt,Et,Ht,tn;const nn=null!==(x=_.displayName)&&void 0!==x?x:void 0,xi=null!==(J=_.email)&&void 0!==J?J:void 0,us=null!==(ye=_.phoneNumber)&&void 0!==ye?ye:void 0,ph=null!==(Ye=_.photoURL)&&void 0!==Ye?Ye:void 0,Dy=null!==(rt=_.tenantId)&&void 0!==rt?rt:void 0,mh=null!==(Et=_._redirectEventId)&&void 0!==Et?Et:void 0,Sy=null!==(Ht=_.createdAt)&&void 0!==Ht?Ht:void 0,Ey=null!==(tn=_.lastLoginAt)&&void 0!==tn?tn:void 0,{uid:_g,emailVerified:My,isAnonymous:Uu,providerData:Qo,stsTokenManager:zu}=_;I(_g&&zu,g,"internal-error");const gh=ai.fromJSON(this.name,zu);I("string"==typeof _g,g,"internal-error"),zn(nn,g.name),zn(xi,g.name),I("boolean"==typeof My,g,"internal-error"),I("boolean"==typeof Uu,g,"internal-error"),zn(us,g.name),zn(ph,g.name),zn(Dy,g.name),zn(mh,g.name),zn(Sy,g.name),zn(Ey,g.name);const fp=new kn({uid:_g,auth:g,email:xi,emailVerified:My,displayName:nn,isAnonymous:Uu,photoURL:ph,phoneNumber:us,tenantId:Dy,stsTokenManager:gh,createdAt:Sy,lastLoginAt:Ey});return Qo&&Array.isArray(Qo)&&(fp.providerData=Qo.map(Ii=>Object.assign({},Ii))),mh&&(fp._redirectEventId=mh),fp}static _fromIdTokenResponse(g,_,x=!1){return(0,o.Z)(function*(){const J=new ai;J.updateFromServerResponse(_);const ye=new kn({uid:_.localId,auth:g,stsTokenManager:J,isAnonymous:x});return yield Ct(ye),ye})()}}const Pi=new Map;function Bn(b){N(b instanceof Function,"Expected a class definition");let g=Pi.get(b);return g?(N(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,Pi.set(b,g),g)}const Ur=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(_,x){var J=this;return(0,o.Z)(function*(){J.storage[_]=x})()}_get(_){var x=this;return(0,o.Z)(function*(){const J=x.storage[_];return void 0===J?null:J})()}_remove(_){var x=this;return(0,o.Z)(function*(){delete x.storage[_]})()}_addListener(_,x){}_removeListener(_,x){}}return b.type="NONE",b})();function Ze(b,g,_){return`firebase:${b}:${g}:${_}`}class $e{constructor(g,_,x){this.persistence=g,this.auth=_,this.userKey=x;const{config:J,name:ye}=this.auth;this.fullUserKey=Ze(this.userKey,J.apiKey,ye),this.fullPersistenceKey=Ze("persistence",J.apiKey,ye),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,o.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?kn._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,o.Z)(function*(){if(_.persistence===g)return;const x=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,x?_.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,x="authUser"){return(0,o.Z)(function*(){if(!_.length)return new $e(Bn(Ur),g,x);const J=(yield Promise.all(_.map(function(){var Ht=(0,o.Z)(function*(tn){if(yield tn._isAvailable())return tn});return function(tn){return Ht.apply(this,arguments)}}()))).filter(Ht=>Ht);let ye=J[0]||Bn(Ur);const Ye=Ze(x,g.config.apiKey,g.name);let rt=null;for(const Ht of _)try{const tn=yield Ht._get(Ye);if(tn){const nn=kn._fromJSON(g,tn);Ht!==ye&&(rt=nn),ye=Ht;break}}catch{}const Et=J.filter(Ht=>Ht._shouldAllowMigration);return ye._shouldAllowMigration&&Et.length?(ye=Et[0],rt&&(yield ye._set(Ye,rt.toJSON())),yield Promise.all(_.map(function(){var Ht=(0,o.Z)(function*(tn){if(tn!==ye)try{yield tn._remove(Ye)}catch{}});return function(tn){return Ht.apply(this,arguments)}}())),new $e(ye,g,x)):new $e(ye,g,x)})()}}function et(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(_n(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(mt(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(oi(g))return"Blackberry";if(Nt(g))return"Webos";if(ot(g))return"Safari";if((g.includes("chrome/")||Wt(g))&&!g.includes("edge/"))return"Chrome";if(Sn(g))return"Android";{const x=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===x?.length)return x[1]}return"Other"}function mt(b=(0,Te.z$)()){return/firefox\//i.test(b)}function ot(b=(0,Te.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Wt(b=(0,Te.z$)()){return/crios\//i.test(b)}function _n(b=(0,Te.z$)()){return/iemobile/i.test(b)}function Sn(b=(0,Te.z$)()){return/android/i.test(b)}function oi(b=(0,Te.z$)()){return/blackberry/i.test(b)}function Nt(b=(0,Te.z$)()){return/webos/i.test(b)}function ln(b=(0,Te.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function di(b=(0,Te.z$)()){return ln(b)||Sn(b)||Nt(b)||oi(b)||/windows phone/i.test(b)||_n(b)}function dt(b,g=[]){let _;switch(b){case"Browser":_=et((0,Te.z$)());break;case"Worker":_=`${et((0,Te.z$)())}-${b}`;break;default:_=b}const x=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${me.SDK_VERSION}/${x}`}function At(){return(At=(0,o.Z)(function*(b){return(yield Oe(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Rt(b,g){return mn.apply(this,arguments)}function mn(){return(mn=(0,o.Z)(function*(b,g){return Oe(b,"GET","/v2/recaptchaConfig",De(b,g))})).apply(this,arguments)}function En(b){return void 0!==b&&void 0!==b.getResponse}function Jn(b){return void 0!==b&&void 0!==b.enterprise}class Di{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function Cr(b){return new Promise((g,_)=>{const x=document.createElement("script");x.setAttribute("src",b),x.onload=g,x.onerror=J=>{const ye=$("internal-error");ye.customData=J,_(ye)},x.type="text/javascript",x.charset="UTF-8",function Vn(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(x)})}function ps(b){return`__${b}${Math.floor(1e6*Math.random())}`}class ni{constructor(g){this.type="recaptcha-enterprise",this.auth=fi(g)}verify(g="verify",_=!1){var x=this;return(0,o.Z)(function*(){function ye(){return ye=(0,o.Z)(function*(rt){if(!_){if(null==rt.tenantId&&null!=rt._agentRecaptchaConfig)return rt._agentRecaptchaConfig.siteKey;if(null!=rt.tenantId&&void 0!==rt._tenantRecaptchaConfigs[rt.tenantId])return rt._tenantRecaptchaConfigs[rt.tenantId].siteKey}return new Promise(function(){var Et=(0,o.Z)(function*(Ht,tn){Rt(rt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(nn=>{if(void 0!==nn.recaptchaKey){const xi=new Di(nn);return null==rt.tenantId?rt._agentRecaptchaConfig=xi:rt._tenantRecaptchaConfigs[rt.tenantId]=xi,Ht(xi.siteKey)}tn(new Error("recaptcha Enterprise site key undefined"))}).catch(nn=>{tn(nn)})});return function(Ht,tn){return Et.apply(this,arguments)}}())}),ye.apply(this,arguments)}function Ye(rt,Et,Ht){const tn=window.grecaptcha;Jn(tn)?tn.enterprise.ready(()=>{tn.enterprise.execute(rt,{action:g}).then(nn=>{Et(nn)}).catch(()=>{Et("NO_RECAPTCHA")})}):Ht(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((rt,Et)=>{(function J(rt){return ye.apply(this,arguments)})(x.auth).then(Ht=>{if(!_&&Jn(window.grecaptcha))Ye(Ht,rt,Et);else{if(typeof window>"u")return void Et(new Error("RecaptchaVerifier is only supported in browser"));Cr("https://www.google.com/recaptcha/enterprise.js?render="+Ht).then(()=>{Ye(Ht,rt,Et)}).catch(tn=>{Et(tn)})}}).catch(Ht=>{Et(Ht)})})})()}}function Ks(b,g,_){return zc.apply(this,arguments)}function zc(){return(zc=(0,o.Z)(function*(b,g,_,x=!1){const J=new ni(b);let ye;try{ye=yield J.verify(_)}catch{ye=yield J.verify(_,!0)}const Ye=Object.assign({},g);return Object.assign(Ye,x?{captchaResp:ye}:{captchaResponse:ye}),Object.assign(Ye,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ye,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ye})).apply(this,arguments)}class aa{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const x=ye=>new Promise((Ye,rt)=>{try{Ye(g(ye))}catch(Et){rt(Et)}});x.onAbort=_,this.queue.push(x);const J=this.queue.length-1;return()=>{this.queue[J]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,o.Z)(function*(){if(_.auth.currentUser===g)return;const x=[];try{for(const J of _.queue)yield J(g),J.onAbort&&x.push(J.onAbort)}catch(J){x.reverse();for(const ye of x)try{ye()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:J?.message})}})()}}class wd{constructor(g,_,x,J){this.app=g,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=x,this.config=J,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Go(this),this.idTokenSubscription=new Go(this),this.beforeStateQueue=new aa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=J.sdkClientVersion}_initializeWithPersistence(g,_){var x=this;return _&&(this._popupRedirectResolver=Bn(_)),this._initializationPromise=this.queue((0,o.Z)(function*(){var J,ye;if(!x._deleted&&(x.persistenceManager=yield $e.create(x,g),!x._deleted)){if(null!==(J=x._popupRedirectResolver)&&void 0!==J&&J._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch{}yield x.initializeCurrentUser(_),x.lastNotifiedUid=(null===(ye=x.currentUser)||void 0===ye?void 0:ye.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,o.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,o.Z)(function*(){var x;const J=yield _.assertedPersistence.getCurrentUser();let ye=J,Ye=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const rt=null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId,Et=ye?._redirectEventId,Ht=yield _.tryRedirectSignIn(g);(!rt||rt===Et)&&Ht?.user&&(ye=Ht.user,Ye=!0)}if(!ye)return _.directlySetCurrentUser(null);if(!ye._redirectEventId){if(Ye)try{yield _.beforeStateQueue.runMiddleware(ye)}catch(rt){ye=J,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(rt))}return ye?_.reloadAndSetCurrentUserOrClear(ye):_.directlySetCurrentUser(null)}return I(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===ye._redirectEventId?_.directlySetCurrentUser(ye):_.reloadAndSetCurrentUserOrClear(ye)})()}tryRedirectSignIn(g){var _=this;return(0,o.Z)(function*(){let x=null;try{x=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,o.Z)(function*(){try{yield Ct(g)}catch(x){if("auth/network-request-failed"!==x?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function B(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,o.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,o.Z)(function*(){const x=g?(0,Te.m9)(g):null;return x&&I(x.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(x&&x._clone(_))})()}_updateCurrentUser(g,_=!1){var x=this;return(0,o.Z)(function*(){if(!x._deleted)return g&&I(x.tenantId===g.tenantId,x,"tenant-id-mismatch"),_||(yield x.beforeStateQueue.runMiddleware(g)),x.queue((0,o.Z)(function*(){yield x.directlySetCurrentUser(g),x.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,o.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,o.Z)(function*(){yield _.assertedPersistence.setPersistence(Bn(g))}))}initializeRecaptchaConfig(){var g=this;return(0,o.Z)(function*(){const _=yield Rt(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),x=new Di(_);null==g.tenantId?g._agentRecaptchaConfig=x:g._tenantRecaptchaConfigs[g.tenantId]=x,x.emailPasswordEnabled&&new ni(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new Te.LL("auth","Firebase",g())}onAuthStateChanged(g,_,x){return this.registerStateListener(this.authStateSubscription,g,_,x)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,x){return this.registerStateListener(this.idTokenSubscription,g,_,x)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var x=this;return(0,o.Z)(function*(){const J=yield x.getOrInitRedirectPersistenceManager(_);return null===g?J.removeCurrentUser():J.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,o.Z)(function*(){if(!_.redirectPersistenceManager){const x=g&&Bn(g)||_._popupRedirectResolver;I(x,_,"argument-error"),_.redirectPersistenceManager=yield $e.create(_,[Bn(x._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,o.Z)(function*(){var x,J;return _._isInitialized&&(yield _.queue((0,o.Z)(function*(){}))),(null===(x=_._currentUser)||void 0===x?void 0:x._redirectEventId)===g?_._currentUser:(null===(J=_.redirectUser)||void 0===J?void 0:J._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,o.Z)(function*(){if(g===_.currentUser)return _.queue((0,o.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,x,J){if(this._deleted)return()=>{};const ye="function"==typeof _?_:_.next.bind(_),Ye=this._isInitialized?Promise.resolve():this._initializationPromise;return I(Ye,this,"internal-error"),Ye.then(()=>ye(this.currentUser)),"function"==typeof _?g.addObserver(_,x,J):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,o.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=dt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,o.Z)(function*(){var _;const x={"X-Client-Version":g.clientVersion};g.app.options.appId&&(x["X-Firebase-gmpid"]=g.app.options.appId);const J=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();J&&(x["X-Firebase-Client"]=J);const ye=yield g._getAppCheckToken();return ye&&(x["X-Firebase-AppCheck"]=ye),x})()}_getAppCheckToken(){var g=this;return(0,o.Z)(function*(){var _;const x=yield null===(_=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return x?.error&&function ee(b,...g){H.logLevel<=be.in.WARN&&H.warn(`Auth (${me.SDK_VERSION}): ${b}`,...g)}(`Error while retrieving App Check token: ${x.error}`),x?.token})()}}function fi(b){return(0,Te.m9)(b)}class Go{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,Te.ne)(_=>this.observer=_)}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function lr(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function $o(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class Xs{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return W("not implemented")}_getIdTokenResponse(g){return W("not implemented")}_linkToIdToken(g,_){return W("not implemented")}_getReauthenticationResolver(g){return W("not implemented")}}function Ps(b,g){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,o.Z)(function*(b,g){return Oe(b,"POST","/v1/accounts:resetPassword",De(b,g))})).apply(this,arguments)}function Tf(b,g){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,o.Z)(function*(b,g){return Oe(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function If(b,g){return Em.apply(this,arguments)}function Em(){return(Em=(0,o.Z)(function*(b,g){return Oe(b,"POST","/v1/accounts:update",De(b,g))})).apply(this,arguments)}function gi(b,g){return kf.apply(this,arguments)}function kf(){return(kf=(0,o.Z)(function*(b,g){return pe(b,"POST","/v1/accounts:signInWithPassword",De(b,g))})).apply(this,arguments)}function xd(b,g){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,o.Z)(function*(b,g){return Oe(b,"POST","/v1/accounts:sendOobCode",De(b,g))})).apply(this,arguments)}function Mm(b,g){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,o.Z)(function*(b,g){return xd(b,g)})).apply(this,arguments)}function $c(b,g){return Am.apply(this,arguments)}function Am(){return(Am=(0,o.Z)(function*(b,g){return xd(b,g)})).apply(this,arguments)}function Of(b,g){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,o.Z)(function*(b,g){return xd(b,g)})).apply(this,arguments)}function oy(b,g){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,o.Z)(function*(b,g){return xd(b,g)})).apply(this,arguments)}function Dd(){return(Dd=(0,o.Z)(function*(b,g){return pe(b,"POST","/v1/accounts:signInWithEmailLink",De(b,g))})).apply(this,arguments)}function Tm(){return(Tm=(0,o.Z)(function*(b,g){return pe(b,"POST","/v1/accounts:signInWithEmailLink",De(b,g))})).apply(this,arguments)}class Sd extends Xs{constructor(g,_,x,J=null){super("password",x),this._email=g,this._password=_,this._tenantId=J}static _fromEmailAndPassword(g,_){return new Sd(g,_,"password")}static _fromEmailAndCode(g,_,x=null){return new Sd(g,_,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,o.Z)(function*(){var x;switch(_.signInMethod){case"password":const J={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(x=g._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const ye=yield Ks(g,J,"signInWithPassword");return gi(g,ye)}return gi(g,J).catch(function(){var ye=(0,o.Z)(function*(Ye){if("auth/missing-recaptcha-token"===Ye.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const rt=yield Ks(g,J,"signInWithPassword");return gi(g,rt)}return Promise.reject(Ye)});return function(Ye){return ye.apply(this,arguments)}}());case"emailLink":return function Ff(b,g){return Dd.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:V(g,"internal-error")}})()}_linkToIdToken(g,_){var x=this;return(0,o.Z)(function*(){switch(x.signInMethod){case"password":return Tf(g,{idToken:_,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function Lf(b,g){return Tm.apply(this,arguments)}(g,{idToken:_,email:x._email,oobCode:x._password});default:V(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Fs(b,g){return Co.apply(this,arguments)}function Co(){return(Co=(0,o.Z)(function*(b,g){return pe(b,"POST","/v1/accounts:signInWithIdp",De(b,g))})).apply(this,arguments)}class ms extends Xs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new ms(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):V("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:x,signInMethod:J}=_,ye=(0,ve._T)(_,["providerId","signInMethod"]);if(!x||!J)return null;const Ye=new ms(x,J);return Ye.idToken=ye.idToken||void 0,Ye.accessToken=ye.accessToken||void 0,Ye.secret=ye.secret,Ye.nonce=ye.nonce,Ye.pendingToken=ye.pendingToken||null,Ye}_getIdTokenResponse(g){return Fs(g,this.buildRequest())}_linkToIdToken(g,_){const x=this.buildRequest();return x.idToken=_,Fs(g,x)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Fs(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,Te.xO)(_)}return g}}function Nf(b,g){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,o.Z)(function*(b,g){return Oe(b,"POST","/v1/accounts:sendVerificationCode",De(b,g))})).apply(this,arguments)}function Yc(){return(Yc=(0,o.Z)(function*(b,g){return pe(b,"POST","/v1/accounts:signInWithPhoneNumber",De(b,g))})).apply(this,arguments)}function rs(){return(rs=(0,o.Z)(function*(b,g){const _=yield pe(b,"POST","/v1/accounts:signInWithPhoneNumber",De(b,g));if(_.temporaryProof)throw Z(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const qc={USER_NOT_FOUND:"user-not-found"};function gr(){return(gr=(0,o.Z)(function*(b,g){return pe(b,"POST","/v1/accounts:signInWithPhoneNumber",De(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),qc)})).apply(this,arguments)}class Pr extends Xs{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new Pr({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new Pr({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function Ed(b,g){return Yc.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function km(b,g){return rs.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Rm(b,g){return gr.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:x,verificationCode:J}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:x,code:J}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:x,phoneNumber:J,temporaryProof:ye}=g;return x||_||J||ye?new Pr({verificationId:_,verificationCode:x,phoneNumber:J,temporaryProof:ye}):null}}class Kc{constructor(g){var _,x,J,ye,Ye,rt;const Et=(0,Te.zd)((0,Te.pd)(g)),Ht=null!==(_=Et.apiKey)&&void 0!==_?_:null,tn=null!==(x=Et.oobCode)&&void 0!==x?x:null,nn=function Om(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(J=Et.mode)&&void 0!==J?J:null);I(Ht&&tn&&nn,"argument-error"),this.apiKey=Ht,this.operation=nn,this.code=tn,this.continueUrl=null!==(ye=Et.continueUrl)&&void 0!==ye?ye:null,this.languageCode=null!==(Ye=Et.languageCode)&&void 0!==Ye?Ye:null,this.tenantId=null!==(rt=Et.tenantId)&&void 0!==rt?rt:null}static parseLink(g){const _=function Zc(b){const g=(0,Te.zd)((0,Te.pd)(b)).link,_=g?(0,Te.zd)((0,Te.pd)(g)).deep_link_id:null,x=(0,Te.zd)((0,Te.pd)(b)).deep_link_id;return(x?(0,Te.zd)((0,Te.pd)(x)).link:null)||x||_||g||b}(g);try{return new Kc(_)}catch{return null}}}let Hi=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,x){return Sd._fromEmailAndPassword(_,x)}static credentialWithLink(_,x){const J=Kc.parseLink(x);return I(J,"argument-error"),Sd._fromEmailAndCode(_,J.code,J.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class xo{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Xc extends xo{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class gs extends Xc{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return I("providerId"in _&&"signInMethod"in _,"argument-error"),ms._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return I(g.idToken||g.accessToken,"argument-error"),ms._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return gs.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return gs.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:x,oauthTokenSecret:J,pendingToken:ye,nonce:Ye,providerId:rt}=g;if(!x&&!J&&!_&&!ye||!rt)return null;try{return new gs(rt)._credential({idToken:_,accessToken:x,nonce:Ye,pendingToken:ye})}catch{return null}}}let Gr=(()=>{class b extends Xc{constructor(){super("facebook.com")}static credential(_){return ms._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Md=(()=>{class b extends Xc{constructor(){super("google.com"),this.addScope("profile")}static credential(_,x){return ms._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:x})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:x,oauthAccessToken:J}=_;if(!x&&!J)return null;try{return b.credential(x,J)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Qc=(()=>{class b extends Xc{constructor(){super("github.com")}static credential(_){return ms._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class ji extends Xs{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Fs(g,this.buildRequest())}_linkToIdToken(g,_){const x=this.buildRequest();return x.idToken=_,Fs(g,x)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Fs(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:x,signInMethod:J,pendingToken:ye}=_;return x&&J&&ye&&x===J?new ji(x,ye):null}static _create(g,_){return new ji(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class la extends xo{constructor(g){I(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return la.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return la.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=ji.fromJSON(g);return I(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:x}=g;if(!_||!x)return null;try{return ji._create(x,_)}catch{return null}}}let Ad=(()=>{class b extends Xc{constructor(){super("twitter.com")}static credential(_,x){return ms._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:x})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:x,oauthTokenSecret:J}=_;if(!x||!J)return null;try{return b.credential(x,J)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function ss(b,g){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,o.Z)(function*(b,g){return pe(b,"POST","/v1/accounts:signUp",De(b,g))})).apply(this,arguments)}class xr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,x,J=!1){return(0,o.Z)(function*(){const ye=yield kn._fromIdTokenResponse(g,x,J),Ye=yn(x);return new xr({user:ye,providerId:Ye,_tokenResponse:x,operationType:_})})()}static _forOperation(g,_,x){return(0,o.Z)(function*(){yield g._updateTokensIfNecessary(x,!0);const J=yn(x);return new xr({user:g,providerId:J,_tokenResponse:x,operationType:_})})()}}function yn(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Vf(){return(Vf=(0,o.Z)(function*(b){var g;const _=fi(b);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new xr({user:_.currentUser,providerId:null,operationType:"signIn"});const x=yield ss(_,{returnSecureToken:!0}),J=yield xr._fromIdTokenResponse(_,"signIn",x,!0);return yield _._updateCurrentUser(J.user),J})).apply(this,arguments)}class Fl extends Te.ZR{constructor(g,_,x,J){var ye;super(_.code,_.message),this.operationType=x,this.user=J,Object.setPrototypeOf(this,Fl.prototype),this.customData={appName:g.name,tenantId:null!==(ye=g.tenantId)&&void 0!==ye?ye:void 0,_serverResponse:_.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(g,_,x,J){return new Fl(g,_,x,J)}}function Hf(b,g,_,x){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(ye=>{throw"auth/multi-factor-auth-required"===ye.code?Fl._fromErrorAndOperation(b,ye,g,x):ye})}function jf(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function Ls(){return(Ls=(0,o.Z)(function*(b,g){const _=(0,Te.m9)(b);yield Fn(!0,_,g);const{providerUserInfo:x}=yield Ie(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),J=jf(x||[]);return _.providerData=_.providerData.filter(ye=>J.has(ye.providerId)),J.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Jc(b,g){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,o.Z)(function*(b,g,_=!1){const x=yield Pe(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return xr._forOperation(b,"link",x)})).apply(this,arguments)}function Fn(b,g,_){return eu.apply(this,arguments)}function eu(){return(eu=(0,o.Z)(function*(b,g,_){yield Ct(g);const J=!1===b?"provider-already-linked":"no-such-provider";I(jf(g.providerData).has(_)===b,g.auth,J)})).apply(this,arguments)}function Td(b,g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,o.Z)(function*(b,g,_=!1){const{auth:x}=b,J="reauthenticate";try{const ye=yield Pe(b,Hf(x,J,g,b),_);I(ye.idToken,x,"internal-error");const Ye=Ue(ye.idToken);I(Ye,x,"internal-error");const{sub:rt}=Ye;return I(b.uid===rt,x,"user-mismatch"),xr._forOperation(b,J,ye)}catch(ye){throw"auth/user-not-found"===ye?.code&&V(x,"user-mismatch"),ye}})).apply(this,arguments)}function tu(b,g){return ca.apply(this,arguments)}function ca(){return(ca=(0,o.Z)(function*(b,g,_=!1){const x="signIn",J=yield Hf(b,x,g),ye=yield xr._fromIdTokenResponse(b,x,J);return _||(yield b._updateCurrentUser(ye.user)),ye})).apply(this,arguments)}function os(b,g){return qa.apply(this,arguments)}function qa(){return(qa=(0,o.Z)(function*(b,g){return tu(fi(b),g)})).apply(this,arguments)}function Id(b,g){return kd.apply(this,arguments)}function kd(){return(kd=(0,o.Z)(function*(b,g){const _=(0,Te.m9)(b);return yield Fn(!1,_,g.providerId),Jc(_,g)})).apply(this,arguments)}function Li(b,g){return Pm.apply(this,arguments)}function Pm(){return(Pm=(0,o.Z)(function*(b,g){return Td((0,Te.m9)(b),g)})).apply(this,arguments)}function Fm(b,g){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,o.Z)(function*(b,g){return pe(b,"POST","/v1/accounts:signInWithCustomToken",De(b,g))})).apply(this,arguments)}function Ns(){return(Ns=(0,o.Z)(function*(b,g){const _=fi(b),x=yield Fm(_,{token:g,returnSecureToken:!0}),J=yield xr._fromIdTokenResponse(_,"signIn",x);return yield _._updateCurrentUser(J.user),J})).apply(this,arguments)}class Do{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?ls._fromServerResponse(g,_):"totpInfo"in _?zf._fromServerResponse(g,_):V(g,"internal-error")}}class ls extends Do{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new ls(_)}}class zf extends Do{constructor(g){super("totp",g)}static _fromServerResponse(g,_){return new zf(_)}}function ua(b,g,_){var x;I((null===(x=_.url)||void 0===x?void 0:x.length)>0,b,"invalid-continue-uri"),I(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(I(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(I(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Za(){return Za=(0,o.Z)(function*(b,g,_){var x;const J=fi(b),ye={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(x=J._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const Ye=yield Ks(J,ye,"getOobCode",!0);_&&ua(J,Ye,_),yield $c(J,Ye)}else _&&ua(J,ye,_),yield $c(J,ye).catch(function(){var Ye=(0,o.Z)(function*(rt){if("auth/missing-recaptcha-token"!==rt.code)return Promise.reject(rt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Et=yield Ks(J,ye,"getOobCode",!0);_&&ua(J,Et,_),yield $c(J,Et)}});return function(rt){return Ye.apply(this,arguments)}}())}),Za.apply(this,arguments)}function Ll(){return(Ll=(0,o.Z)(function*(b,g,_){yield Ps((0,Te.m9)(b),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Lr(){return(Lr=(0,o.Z)(function*(b,g){yield If((0,Te.m9)(b),{oobCode:g})})).apply(this,arguments)}function Od(b,g){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,o.Z)(function*(b,g){const _=(0,Te.m9)(b),x=yield Ps(_,{oobCode:g}),J=x.requestType;switch(I(J,_,"internal-error"),J){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":I(x.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":I(x.mfaInfo,_,"internal-error");default:I(x.email,_,"internal-error")}let ye=null;return x.mfaInfo&&(ye=Do._fromServerResponse(fi(_),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:ye},operation:J}})).apply(this,arguments)}function da(){return(da=(0,o.Z)(function*(b,g){const{data:_}=yield Od((0,Te.m9)(b),g);return _.email})).apply(this,arguments)}function Vl(){return Vl=(0,o.Z)(function*(b,g,_){var x;const J=fi(b),ye={returnSecureToken:!0,email:g,password:_,clientType:"CLIENT_TYPE_WEB"};let Ye;if(null!==(x=J._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const Ht=yield Ks(J,ye,"signUpPassword");Ye=ss(J,Ht)}else Ye=ss(J,ye).catch(function(){var Ht=(0,o.Z)(function*(tn){if("auth/missing-recaptcha-token"===tn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const nn=yield Ks(J,ye,"signUpPassword");return ss(J,nn)}return Promise.reject(tn)});return function(tn){return Ht.apply(this,arguments)}}());const rt=yield Ye.catch(Ht=>Promise.reject(Ht)),Et=yield xr._fromIdTokenResponse(J,"signIn",rt);return yield J._updateCurrentUser(Et.user),Et}),Vl.apply(this,arguments)}function iu(){return iu=(0,o.Z)(function*(b,g,_){var x;const J=fi(b),ye={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function Ye(rt,Et){I(Et.handleCodeInApp,J,"argument-error"),Et&&ua(J,rt,Et)}if(null!==(x=J._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const rt=yield Ks(J,ye,"getOobCode",!0);Ye(rt,_),yield Of(J,rt)}else Ye(ye,_),yield Of(J,ye).catch(function(){var rt=(0,o.Z)(function*(Et){if("auth/missing-recaptcha-token"!==Et.code)return Promise.reject(Et);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ht=yield Ks(J,ye,"getOobCode",!0);Ye(Ht,_),yield Of(J,Ht)}});return function(Et){return rt.apply(this,arguments)}}())}),iu.apply(this,arguments)}function So(){return(So=(0,o.Z)(function*(b,g,_){const x=(0,Te.m9)(b),J=Hi.credentialWithLink(g,_||U());return I(J._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),os(x,J)})).apply(this,arguments)}function wi(b,g){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,o.Z)(function*(b,g){return Oe(b,"POST","/v1/accounts:createAuthUri",De(b,g))})).apply(this,arguments)}function ru(){return(ru=(0,o.Z)(function*(b,g){const x={identifier:g,continueUri:S()?U():"http://localhost"},{signinMethods:J}=yield wi((0,Te.m9)(b),x);return J||[]})).apply(this,arguments)}function su(){return(su=(0,o.Z)(function*(b,g){const _=(0,Te.m9)(b),J={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&ua(_.auth,J,g);const{email:ye}=yield Mm(_.auth,J);ye!==b.email&&(yield b.reload())})).apply(this,arguments)}function ha(){return(ha=(0,o.Z)(function*(b,g,_){const x=(0,Te.m9)(b),ye={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&ua(x.auth,ye,_);const{email:Ye}=yield oy(x.auth,ye);Ye!==b.email&&(yield b.reload())})).apply(this,arguments)}function Hl(b,g){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,o.Z)(function*(b,g){return Oe(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function jl(){return(jl=(0,o.Z)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const x=(0,Te.m9)(b),ye={idToken:yield x.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},Ye=yield Pe(x,Hl(x.auth,ye));x.displayName=Ye.displayName||null,x.photoURL=Ye.photoUrl||null;const rt=x.providerData.find(({providerId:Et})=>"password"===Et);rt&&(rt.displayName=x.displayName,rt.photoURL=x.photoURL),yield x._updateTokensIfNecessary(Ye)})).apply(this,arguments)}function Ul(b,g,_){return ou.apply(this,arguments)}function ou(){return(ou=(0,o.Z)(function*(b,g,_){const{auth:x}=b,ye={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(ye.email=g),_&&(ye.password=_);const Ye=yield Pe(b,Tf(x,ye));yield b._updateTokensIfNecessary(Ye,!0)})).apply(this,arguments)}class Bs{constructor(g,_,x={}){this.isNewUser=g,this.providerId=_,this.profile=x}}class Nd extends Bs{constructor(g,_,x,J){super(g,_,x),this.username=J}}class qf extends Bs{constructor(g,_){super(g,"facebook.com",_)}}class Bm extends Nd{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Bd extends Bs{constructor(g,_){super(g,"google.com",_)}}class au extends Nd{constructor(g,_,x){super(g,"twitter.com",_,x)}}function lu(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Nm(b){var g,_;if(!b)return null;const{providerId:x}=b,J=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},ye=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!x&&b?.idToken){const Ye=null===(_=null===(g=Ue(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(Ye)return new Bs(ye,"anonymous"!==Ye&&"custom"!==Ye?Ye:null)}if(!x)return null;switch(x){case"facebook.com":return new qf(ye,J);case"github.com":return new Bm(ye,J);case"google.com":return new Bd(ye,J);case"twitter.com":return new au(ye,J,b.screenName||null);case"custom":case"anonymous":return new Bs(ye,null);default:return new Bs(ye,x,J)}}(_)}class fa{constructor(g,_,x){this.type=g,this.credential=_,this.auth=x}static _fromIdtoken(g,_){return new fa("enroll",g,_)}static _fromMfaPendingCredential(g){return new fa("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,x;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return fa._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(x=g.multiFactorSession)&&void 0!==x&&x.idToken)return fa._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Js{constructor(g,_,x){this.session=g,this.hints=_,this.signInResolver=x}static _fromError(g,_){const x=fi(g),J=_.customData._serverResponse,ye=(J.mfaInfo||[]).map(rt=>Do._fromServerResponse(x,rt));I(J.mfaPendingCredential,x,"internal-error");const Ye=fa._fromMfaPendingCredential(J.mfaPendingCredential);return new Js(Ye,ye,function(){var rt=(0,o.Z)(function*(Et){const Ht=yield Et._process(x,Ye);delete J.mfaInfo,delete J.mfaPendingCredential;const tn=Object.assign(Object.assign({},J),{idToken:Ht.idToken,refreshToken:Ht.refreshToken});switch(_.operationType){case"signIn":const nn=yield xr._fromIdTokenResponse(x,_.operationType,tn);return yield x._updateCurrentUser(nn.user),nn;case"reauthenticate":return I(_.user,x,"internal-error"),xr._forOperation(_.user,_.operationType,tn);default:V(x,"internal-error")}});return function(Et){return rt.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,o.Z)(function*(){return _.signInResolver(g)})()}}function $l(b,g){return Oe(b,"POST","/v2/accounts/mfaEnrollment:start",De(b,g))}class pa{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(x=>Do._fromServerResponse(g.auth,x)))})}static _fromUser(g){return new pa(g)}getSession(){var g=this;return(0,o.Z)(function*(){return fa._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var x=this;return(0,o.Z)(function*(){const J=g,ye=yield x.getSession(),Ye=yield Pe(x.user,J._process(x.user.auth,ye,_));return yield x.user._updateTokensIfNecessary(Ye),x.user.reload()})()}unenroll(g){var _=this;return(0,o.Z)(function*(){const x="string"==typeof g?g:g.uid,J=yield _.user.getIdToken();try{const ye=yield Pe(_.user,function jd(b,g){return Oe(b,"POST","/v2/accounts/mfaEnrollment:withdraw",De(b,g))}(_.user.auth,{idToken:J,mfaEnrollmentId:x}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Ye})=>Ye!==x),yield _.user._updateTokensIfNecessary(ye),yield _.user.reload()}catch(ye){throw ye}})()}}const ma=new WeakMap,ga="__sak";class du{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(ga,"1"),this.storage.removeItem(ga),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const eo=(()=>{class b extends du{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,x)=>this.onStorageEvent(_,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function jm(){const b=(0,Te.z$)();return ot(b)||ln(b)}()&&function Os(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=di(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const x of Object.keys(this.listeners)){const J=this.storage.getItem(x),ye=this.localCache[x];J!==ye&&_(x,ye,J)}}onStorageEvent(_,x=!1){if(!_.key)return void this.forAllChangedKeys((rt,Et,Ht)=>{this.notifyListeners(rt,Ht)});const J=_.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const rt=this.storage.getItem(J);if(_.newValue!==rt)null!==_.newValue?this.storage.setItem(J,_.newValue):this.storage.removeItem(J);else if(this.localCache[J]===_.newValue&&!x)return}const ye=()=>{const rt=this.storage.getItem(J);!x&&this.localCache[J]===rt||this.notifyListeners(J,rt)},Ye=this.storage.getItem(J);!function wr(){return(0,Te.w1)()&&10===document.documentMode}()||Ye===_.newValue||_.newValue===_.oldValue?ye():setTimeout(ye,10)}notifyListeners(_,x){this.localCache[_]=x;const J=this.listeners[_];if(J)for(const ye of Array.from(J))ye(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,x,J)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:x,newValue:J}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,x){var J=()=>super._set,ye=this;return(0,o.Z)(function*(){yield J().call(ye,_,x),ye.localCache[_]=JSON.stringify(x)})()}_get(_){var x=()=>super._get,J=this;return(0,o.Z)(function*(){const ye=yield x().call(J,_);return J.localCache[_]=JSON.stringify(ye),ye})()}_remove(_){var x=()=>super._remove,J=this;return(0,o.Z)(function*(){yield x().call(J,_),delete J.localCache[_]})()}}return b.type="LOCAL",b})(),_a=(()=>{class b extends du{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,x){}_removeListener(_,x){}}return b.type="SESSION",b})();let hu=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const x=this.receivers.find(ye=>ye.isListeningto(_));if(x)return x;const J=new b(_);return this.receivers.push(J),J}isListeningto(_){return this.eventTarget===_}handleEvent(_){var x=this;return(0,o.Z)(function*(){const J=_,{eventId:ye,eventType:Ye,data:rt}=J.data,Et=x.handlersMap[Ye];if(!Et?.size)return;J.ports[0].postMessage({status:"ack",eventId:ye,eventType:Ye});const Ht=Array.from(Et).map(function(){var nn=(0,o.Z)(function*(xi){return xi(J.origin,rt)});return function(xi){return nn.apply(this,arguments)}}()),tn=yield function Um(b){return Promise.all(b.map(function(){var g=(0,o.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(x){return{fulfilled:!1,reason:x}}});return function(_){return g.apply(this,arguments)}}()))}(Ht);J.ports[0].postMessage({status:"done",eventId:ye,eventType:Ye,response:tn})})()}_subscribe(_,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(x)}_unsubscribe(_,x){this.handlersMap[_]&&x&&this.handlersMap[_].delete(x),(!x||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function to(b="",g=10){let _="";for(let x=0;x<g;x++)_+=Math.floor(10*Math.random());return b+_}class dy{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,x=50){var J=this;return(0,o.Z)(function*(){const ye=typeof MessageChannel<"u"?new MessageChannel:null;if(!ye)throw new Error("connection_unavailable");let Ye,rt;return new Promise((Et,Ht)=>{const tn=to("",20);ye.port1.start();const nn=setTimeout(()=>{Ht(new Error("unsupported_event"))},x);rt={messageChannel:ye,onMessage(xi){const us=xi;if(us.data.eventId===tn)switch(us.data.status){case"ack":clearTimeout(nn),Ye=setTimeout(()=>{Ht(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ye),Et(us.data.response);break;default:clearTimeout(nn),clearTimeout(Ye),Ht(new Error("invalid_response"))}}},J.handlers.add(rt),ye.port1.addEventListener("message",rt.onMessage),J.target.postMessage({eventType:g,eventId:tn,data:_},[ye.port2])}).finally(()=>{rt&&J.removeMessageHandler(rt)})})()}}function Ci(){return window}function ql(){return typeof Ci().WorkerGlobalScope<"u"&&"function"==typeof Ci().importScripts}function fu(){return(fu=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ya="firebaseLocalStorageDb",nl="firebaseLocalStorage",To="fbase_key";class pu{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Zl(b,g){return b.transaction([nl],g?"readwrite":"readonly").objectStore(nl)}function zd(){const b=indexedDB.open(ya,1);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const x=b.result;try{x.createObjectStore(nl,{keyPath:To})}catch(J){_(J)}}),b.addEventListener("success",(0,o.Z)(function*(){const x=b.result;x.objectStoreNames.contains(nl)?g(x):(x.close(),yield function ci(){const b=indexedDB.deleteDatabase(ya);return new pu(b).toPromise()}(),g(yield zd()))}))})}function mu(b,g,_){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,o.Z)(function*(b,g,_){const x=Zl(b,!0).put({[To]:g,value:_});return new pu(x).toPromise()})).apply(this,arguments)}function $m(){return($m=(0,o.Z)(function*(b,g){const _=Zl(b,!1).get(g),x=yield new pu(_).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function Wm(b,g){const _=Zl(b,!0).delete(g);return new pu(_).toPromise()}const gu=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,o.Z)(function*(){return _.db||(_.db=yield zd()),_.db})()}_withRetries(_){var x=this;return(0,o.Z)(function*(){let J=0;for(;;)try{const ye=yield x._openDb();return yield _(ye)}catch(ye){if(J++>3)throw ye;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,o.Z)(function*(){return ql()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,o.Z)(function*(){_.receiver=hu._getInstance(function Ni(){return ql()?self:null}()),_.receiver._subscribe("keyChanged",function(){var x=(0,o.Z)(function*(J,ye){return{keyProcessed:(yield _._poll()).includes(ye.key)}});return function(J,ye){return x.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var x=(0,o.Z)(function*(J,ye){return["keyChanged"]});return function(J,ye){return x.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,o.Z)(function*(){var x,J;if(_.activeServiceWorker=yield function zm(){return fu.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new dy(_.activeServiceWorker);const ye=yield _.sender._send("ping",{},800);!ye||(null===(x=ye[0])||void 0===x?void 0:x.fulfilled)&&(null===(J=ye[0])||void 0===J?void 0:J.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var x=this;return(0,o.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function Ao(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:_},x.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const _=yield zd();return yield mu(_,ga,"1"),yield Wm(_,ga),!0}catch{}return!1})()}_withPendingWrite(_){var x=this;return(0,o.Z)(function*(){x.pendingWrites++;try{yield _()}finally{x.pendingWrites--}})()}_set(_,x){var J=this;return(0,o.Z)(function*(){return J._withPendingWrite((0,o.Z)(function*(){return yield J._withRetries(ye=>mu(ye,_,x)),J.localCache[_]=x,J.notifyServiceWorker(_)}))})()}_get(_){var x=this;return(0,o.Z)(function*(){const J=yield x._withRetries(ye=>function Kf(b,g){return $m.apply(this,arguments)}(ye,_));return x.localCache[_]=J,J})()}_remove(_){var x=this;return(0,o.Z)(function*(){return x._withPendingWrite((0,o.Z)(function*(){return yield x._withRetries(J=>Wm(J,_)),delete x.localCache[_],x.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,o.Z)(function*(){const x=yield _._withRetries(Ye=>{const rt=Zl(Ye,!1).getAll();return new pu(rt).toPromise()});if(!x)return[];if(0!==_.pendingWrites)return[];const J=[],ye=new Set;for(const{fbase_key:Ye,value:rt}of x)ye.add(Ye),JSON.stringify(_.localCache[Ye])!==JSON.stringify(rt)&&(_.notifyListeners(Ye,rt),J.push(Ye));for(const Ye of Object.keys(_.localCache))_.localCache[Ye]&&!ye.has(Ye)&&(_.notifyListeners(Ye,null),J.push(Ye));return J})()}notifyListeners(_,x){this.localCache[_]=x;const J=this.listeners[_];if(J)for(const ye of Array.from(J))ye(x)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Ji(b,g){return Oe(b,"POST","/v2/accounts/mfaSignIn:start",De(b,g))}const Wi=1e12;class Vs{constructor(g){this.auth=g,this.counter=Wi,this._widgets=new Map}render(g,_){const x=this.counter;return this._widgets.set(x,new Gd(g,this.auth.name,_||{})),this.counter++,x}reset(g){var _;const x=g||Wi;null===(_=this._widgets.get(x))||void 0===_||_.delete(),this._widgets.delete(x)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Wi))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,o.Z)(function*(){var x;return null===(x=_._widgets.get(g||Wi))||void 0===x||x.execute(),""})()}}class Gd{constructor(g,_,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const J="string"==typeof g?document.getElementById(g):g;I(J,"argument-error",{appName:_}),this.container=J,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function $d(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<b;x++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const il=ps("rcb"),Qf=new K(3e4,6e4);class hy{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Ci().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return I(function Zm(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),g,"argument-error"),this.shouldResolveImmediately(_)&&En(Ci().grecaptcha)?Promise.resolve(Ci().grecaptcha):new Promise((x,J)=>{const ye=Ci().setTimeout(()=>{J($(g,"network-request-failed"))},Qf.get());Ci()[il]=()=>{Ci().clearTimeout(ye),delete Ci()[il];const rt=Ci().grecaptcha;if(!rt||!En(rt))return void J($(g,"internal-error"));const Et=rt.render;rt.render=(Ht,tn)=>{const nn=Et(Ht,tn);return this.counter++,nn},this.hostLanguage=_,x(rt)},Cr(`https://www.google.com/recaptcha/api.js??${(0,Te.xO)({onload:il,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(ye),J($(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=Ci().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _0{load(g){return(0,o.Z)(function*(){return new Vs(g)})()}clearedOneInstance(){}}const yu="recaptcha",cs={theme:"light",type:"image"};class vu{constructor(g,_=Object.assign({},cs),x){this.parameters=_,this.type=yu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fi(x),this.isInvisible="invisible"===this.parameters.size,I(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const J="string"==typeof g?document.getElementById(g):g;I(J,this.auth,"argument-error"),this.container=J,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _0:new hy,this.validateStartingState()}verify(){var g=this;return(0,o.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),x=g.getAssertedRecaptcha();return x.getResponse(_)||new Promise(ye=>{const Ye=rt=>{!rt||(g.tokenChangeListeners.delete(Ye),ye(rt))};g.tokenChangeListeners.add(Ye),g.isInvisible&&x.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){I(!this.parameters.sitekey,this.auth,"argument-error"),I(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),I(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(x=>x(_)),"function"==typeof g)g(_);else if("string"==typeof g){const x=Ci()[g];"function"==typeof x&&x(_)}}}assertNotDestroyed(){I(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,o.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const x=document.createElement("div");_.appendChild(x),_=x}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,o.Z)(function*(){I(S()&&!ql(),g.auth,"internal-error"),yield function Xl(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function lt(b){return At.apply(this,arguments)}(g.auth);I(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return I(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Wd{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=Pr._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function bu(){return(bu=(0,o.Z)(function*(b,g,_){const x=fi(b),J=yield wu(x,g,(0,Te.m9)(_));return new Wd(J,ye=>os(x,ye))})).apply(this,arguments)}function va(){return(va=(0,o.Z)(function*(b,g,_){const x=(0,Te.m9)(b);yield Fn(!1,x,"phone");const J=yield wu(x.auth,g,(0,Te.m9)(_));return new Wd(J,ye=>Id(x,ye))})).apply(this,arguments)}function Ql(){return(Ql=(0,o.Z)(function*(b,g,_){const x=(0,Te.m9)(b),J=yield wu(x.auth,g,(0,Te.m9)(_));return new Wd(J,ye=>Li(x,ye))})).apply(this,arguments)}function wu(b,g,_){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,o.Z)(function*(b,g,_){var x;const J=yield _.verify();try{let ye;if(I("string"==typeof J,b,"argument-error"),I(_.type===yu,b,"argument-error"),ye="string"==typeof g?{phoneNumber:g}:g,"session"in ye){const Ye=ye.session;if("phoneNumber"in ye)return I("enroll"===Ye.type,b,"internal-error"),(yield $l(b,{idToken:Ye.credential,phoneEnrollmentInfo:{phoneNumber:ye.phoneNumber,recaptchaToken:J}})).phoneSessionInfo.sessionInfo;{I("signin"===Ye.type,b,"internal-error");const rt=(null===(x=ye.multiFactorHint)||void 0===x?void 0:x.uid)||ye.multiFactorUid;return I(rt,b,"missing-multi-factor-info"),(yield Ji(b,{mfaPendingCredential:Ye.credential,mfaEnrollmentId:rt,phoneSignInInfo:{recaptchaToken:J}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ye}=yield Nf(b,{phoneNumber:ye.phoneNumber,recaptchaToken:J});return Ye}}finally{_._reset()}})).apply(this,arguments)}function cr(){return(cr=(0,o.Z)(function*(b,g){yield Jc((0,Te.m9)(b),g)})).apply(this,arguments)}let Hn=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=fi(_)}verifyPhoneNumber(_,x){return wu(this.auth,_,(0,Te.m9)(x))}static credential(_,x){return Pr._fromVerification(_,x)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:x,temporaryProof:J}=_;return x&&J?Pr._fromTokenResponse(x,J):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function $r(b,g){return g?Bn(g):(I(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Bt extends Xs{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Fs(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Fs(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Fs(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function er(b){return tu(b.auth,new Bt(b),b.bypassAuthState)}function rl(b){const{auth:g,user:_}=b;return I(_,g,"internal-error"),Td(_,new Bt(b),b.bypassAuthState)}function Cu(b){return Io.apply(this,arguments)}function Io(){return(Io=(0,o.Z)(function*(b){const{auth:g,user:_}=b;return I(_,g,"internal-error"),Jc(_,new Bt(b),b.bypassAuthState)})).apply(this,arguments)}class _i{constructor(g,_,x,J,ye=!1){this.auth=g,this.resolver=x,this.user=J,this.bypassAuthState=ye,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,o.Z)(function*(x,J){g.pendingPromise={resolve:x,reject:J};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(ye){g.reject(ye)}});return function(x,J){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,o.Z)(function*(){const{urlResponse:x,sessionId:J,postBody:ye,tenantId:Ye,error:rt,type:Et}=g;if(rt)return void _.reject(rt);const Ht={auth:_.auth,requestUri:x,sessionId:J,tenantId:Ye||void 0,postBody:ye||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Et)(Ht))}catch(tn){_.reject(tn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return er;case"linkViaPopup":case"linkViaRedirect":return Cu;case"reauthViaPopup":case"reauthViaRedirect":return rl;default:V(this.auth,"internal-error")}}resolve(g){N(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){N(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yn=new K(2e3,1e4);function Ei(){return(Ei=(0,o.Z)(function*(b,g,_){const x=fi(b);ie(b,g,xo);const J=$r(x,_);return new ol(x,"signInViaPopup",g,J).executeNotNull()})).apply(this,arguments)}function xu(){return(xu=(0,o.Z)(function*(b,g,_){const x=(0,Te.m9)(b);ie(x.auth,g,xo);const J=$r(x.auth,_);return new ol(x.auth,"reauthViaPopup",g,J,x).executeNotNull()})).apply(this,arguments)}function Hs(){return(Hs=(0,o.Z)(function*(b,g,_){const x=(0,Te.m9)(b);ie(x.auth,g,xo);const J=$r(x.auth,_);return new ol(x.auth,"linkViaPopup",g,J,x).executeNotNull()})).apply(this,arguments)}let ol=(()=>{class b extends _i{constructor(_,x,J,ye,Ye){super(_,x,ye,Ye),this.provider=J,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,o.Z)(function*(){const x=yield _.execute();return I(x,_.auth,"internal-error"),x})()}onExecution(){var _=this;return(0,o.Z)(function*(){N(1===_.filter.length,"Popup operations only handle one event");const x=to();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],x),_.authWindow.associatedEvent=x,_.resolver._originValidation(_.auth).catch(J=>{_.reject(J)}),_.resolver._isIframeWebStorageSupported(_.auth,J=>{J||_.reject($(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject($(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var x,J;this.pollId=null!==(J=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==J&&J.closed?window.setTimeout(()=>{this.pollId=null,this.reject($(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,Yn.get())};_()}}return b.currentPopupAction=null,b})();const $n=new Map;class Xm extends _i{constructor(g,_,x=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,x),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,o.Z)(function*(){let x=$n.get(_.auth._key());if(!x){try{const ye=(yield function ba(b,g){return vt.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;x=()=>Promise.resolve(ye)}catch(J){x=()=>Promise.reject(J)}$n.set(_.auth._key(),x)}return _.bypassAuthState||$n.set(_.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,x=this;return(0,o.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(x,g);if("unknown"!==g.type){if(g.eventId){const J=yield x.auth._redirectUserForId(g.eventId);if(J)return x.user=J,_().call(x,g);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function vt(){return(vt=(0,o.Z)(function*(b,g){const _=Wr(g),x=Du(b);if(!(yield x._isAvailable()))return!1;const J="true"===(yield x._get(_));return yield x._remove(_),J})).apply(this,arguments)}function vs(b,g){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,o.Z)(function*(b,g){return Du(b)._set(Wr(g),"true")})).apply(this,arguments)}function Nn(b,g){$n.set(b._key(),g)}function Du(b){return Bn(b._redirectPersistence)}function Wr(b){return Ze("pendingRedirect",b.config.apiKey,b.name)}function gn(){return(gn=(0,o.Z)(function*(b,g,_){const x=fi(b);ie(b,g,xo),yield x._initializationPromise;const J=$r(x,_);return yield vs(J,x),J._openRedirect(x,g,"signInViaRedirect")})).apply(this,arguments)}function ep(){return(ep=(0,o.Z)(function*(b,g,_){const x=(0,Te.m9)(b);ie(x.auth,g,xo),yield x.auth._initializationPromise;const J=$r(x.auth,_);yield vs(J,x.auth);const ye=yield bs(x);return J._openRedirect(x.auth,g,"reauthViaRedirect",ye)})).apply(this,arguments)}function tp(){return(tp=(0,o.Z)(function*(b,g,_){const x=(0,Te.m9)(b);ie(x.auth,g,xo),yield x.auth._initializationPromise;const J=$r(x.auth,_);yield Fn(!1,x,g.providerId),yield vs(J,x.auth);const ye=yield bs(x);return J._openRedirect(x.auth,g,"linkViaRedirect",ye)})).apply(this,arguments)}function ur(){return(ur=(0,o.Z)(function*(b,g){return yield fi(b)._initializationPromise,wa(b,g,!1)})).apply(this,arguments)}function wa(b,g){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,o.Z)(function*(b,g,_=!1){const x=fi(b),J=$r(x,g),Ye=yield new Xm(x,J,_).execute();return Ye&&!_&&(delete Ye.user._redirectEventId,yield x._persistUserIfCurrent(Ye.user),yield x._setRedirectUser(null,g)),Ye})).apply(this,arguments)}function bs(b){return tc.apply(this,arguments)}function tc(){return(tc=(0,o.Z)(function*(b){const g=to(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class ic{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(g,x)&&(_=!0,this.sendToConsumer(g,x),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Kd(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dr(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var x;if(g.error&&!dr(g)){const J=(null===(x=g.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";_.onError($(this.auth,J))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const x=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&x}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(al(g))}saveEventToCache(g){this.cachedEventUids.add(al(g)),this.lastProcessedEventTime=Date.now()}}function al(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function dr({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function rc(b){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,o.Z)(function*(b,g={}){return Oe(b,"GET","/v1/projects",g)})).apply(this,arguments)}const Zo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,np=/^https?/;function xa(){return(xa=(0,o.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield rc(b);for(const _ of g)try{if(ll(_))return}catch{}V(b,"unauthorized-domain")})).apply(this,arguments)}function ll(b){const g=U(),{protocol:_,hostname:x}=new URL(g);if(b.startsWith("chrome-extension://")){const Ye=new URL(b);return""===Ye.hostname&&""===x?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&Ye.hostname===x}if(!np.test(_))return!1;if(Zo.test(b))return x===b;const J=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+J+"|"+J+")$","i").test(x)}const Jm=new K(3e4,6e4);function Qd(){const b=Ci().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Eu=null;function ko(b){return Eu=Eu||function Da(b){return new Promise((g,_)=>{var x,J,ye;function Ye(){Qd(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Qd(),_($(b,"network-request-failed"))},timeout:Jm.get()})}if(null!==(J=null===(x=Ci().gapi)||void 0===x?void 0:x.iframes)&&void 0!==J&&J.Iframe)g(gapi.iframes.getContext());else{if(null===(ye=Ci().gapi)||void 0===ye||!ye.load){const rt=ps("iframefcb");return Ci()[rt]=()=>{gapi.load?Ye():_($(b,"network-request-failed"))},Cr(`https://apis.google.com/js/api.js?onload=${rt}`).catch(Et=>_(Et))}Ye()}}).catch(g=>{throw Eu=null,g})}(b),Eu}const Mu=new K(5e3,15e3),Au={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ws=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eg(b){const g=b.config;I(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?j(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,x={apiKey:g.apiKey,appName:b.name,v:me.SDK_VERSION},J=ws.get(b.config.apiHost);J&&(x.eid=J);const ye=b._getFrameworks();return ye.length&&(x.fw=ye.join(",")),`${_}?${(0,Te.xO)(x).slice(1)}`}function F(){return F=(0,o.Z)(function*(b){const g=yield ko(b),_=Ci().gapi;return I(_,b,"internal-error"),g.open({where:document.body,url:eg(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Au,dontclear:!0},x=>new Promise(function(){var J=(0,o.Z)(function*(ye,Ye){yield x.restyle({setHideOnLeave:!1});const rt=$(b,"network-request-failed"),Et=Ci().setTimeout(()=>{Ye(rt)},Mu.get());function Ht(){Ci().clearTimeout(Et),ye(x)}x.ping(Ht).then(Ht,()=>{Ye(rt)})});return function(ye,Ye){return J.apply(this,arguments)}}()))}),F.apply(this,arguments)}const ce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zt{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Er=encodeURIComponent("fac");function Ai(b,g,_,x,J,ye){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,o.Z)(function*(b,g,_,x,J,ye){I(b.config.authDomain,b,"auth-domain-config-required"),I(b.config.apiKey,b,"invalid-api-key");const Ye={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:x,v:me.SDK_VERSION,eventId:J};if(g instanceof xo){g.setDefaultLanguage(b.languageCode),Ye.providerId=g.providerId||"",(0,Te.xb)(g.getCustomParameters())||(Ye.customParameters=JSON.stringify(g.getCustomParameters()));for(const[tn,nn]of Object.entries(ye||{}))Ye[tn]=nn}if(g instanceof Xc){const tn=g.getScopes().filter(nn=>""!==nn);tn.length>0&&(Ye.scopes=tn.join(","))}b.tenantId&&(Ye.tid=b.tenantId);const rt=Ye;for(const tn of Object.keys(rt))void 0===rt[tn]&&delete rt[tn];const Et=yield b._getAppCheckToken(),Ht=Et?`#${Er}=${encodeURIComponent(Et)}`:"";return`${Ro(b)}?${(0,Te.xO)(rt).slice(1)}${Ht}`})).apply(this,arguments)}function Ro({config:b}){return b.emulator?j(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}const io="webStorageSupport";class ip extends class eh{constructor(g){this.factorId=g}_process(g,_,x){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,x);case"signin":return this._finalizeSignIn(g,_.credential);default:return W("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new ip(g)}_finalizeEnroll(g,_,x){return function _s(b,g){return Oe(b,"POST","/v2/accounts/mfaEnrollment:finalize",De(b,g))}(g,{idToken:_,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function _u(b,g){return Oe(b,"POST","/v2/accounts/mfaSignIn:finalize",De(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let tg=(()=>{class b{constructor(){}static assertion(_){return ip._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Iu="@firebase/auth";class Mr{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,o.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(x=>{g(x?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cl(){return window}function Sa(){return(Sa=(0,o.Z)(function*(b,g,_){var x;const{BuildInfo:J}=cl();N(g.sessionId,"AuthEvent did not contain a session ID");const ye=yield sg(g.sessionId),Ye={};return ln()?Ye.ibi=J.packageName:Sn()?Ye.apn=J.packageName:V(b,"operation-not-supported-in-this-environment"),J.displayName&&(Ye.appDisplayName=J.displayName),Ye.sessionId=ye,Ai(b,_,g.type,void 0,null!==(x=g.eventId)&&void 0!==x?x:void 0,Ye)})).apply(this,arguments)}function nh(){return(nh=(0,o.Z)(function*(b){const{BuildInfo:g}=cl(),_={};ln()?_.iosBundleId=g.packageName:Sn()?_.androidPackageName=g.packageName:V(b,"operation-not-supported-in-this-environment"),yield rc(b,_)})).apply(this,arguments)}function Pu(){return(Pu=(0,o.Z)(function*(b,g,_){const{cordova:x}=cl();let J=()=>{};try{yield new Promise((ye,Ye)=>{let rt=null;function Et(){var nn;ye();const xi=null===(nn=x.plugins.browsertab)||void 0===nn?void 0:nn.close;"function"==typeof xi&&xi(),"function"==typeof _?.close&&_.close()}function Ht(){rt||(rt=window.setTimeout(()=>{Ye($(b,"redirect-cancelled-by-user"))},2e3))}function tn(){"visible"===document?.visibilityState&&Ht()}g.addPassiveListener(Et),document.addEventListener("resume",Ht,!1),Sn()&&document.addEventListener("visibilitychange",tn,!1),J=()=>{g.removePassiveListener(Et),document.removeEventListener("resume",Ht,!1),document.removeEventListener("visibilitychange",tn,!1),rt&&window.clearTimeout(rt)}})}finally{J()}})).apply(this,arguments)}function sg(b){return op.apply(this,arguments)}function op(){return(op=(0,o.Z)(function*(b){const g=b0(b),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(J=>J.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function b0(b){if(N(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const g=new ArrayBuffer(b.length),_=new Uint8Array(g);for(let x=0;x<b.length;x++)_[x]=b.charCodeAt(x);return _}(0,Te.Pz)("authIdTokenMaxAge"),function rp(b){(0,me._registerComponent)(new Fe.wA("auth",(g,{options:_})=>{const x=g.getProvider("app").getImmediate(),J=g.getProvider("heartbeat"),ye=g.getProvider("app-check-internal"),{apiKey:Ye,authDomain:rt}=x.options;I(Ye&&!Ye.includes(":"),"invalid-api-key",{appName:x.name});const Et={apiKey:Ye,authDomain:rt,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dt(b)},Ht=new wd(x,J,ye,Et);return function li(b,g){const _=g?.persistence||[],x=(Array.isArray(_)?_:[_]).map(Bn);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(x,g?.popupRedirectResolver)}(Ht,_),Ht},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,x)=>{g.getProvider("auth-internal").initialize()})),(0,me._registerComponent)(new Fe.wA("auth-internal",g=>{const _=fi(g.getProvider("auth").getImmediate());return new Mr(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,me.registerVersion)(Iu,"0.23.2",function Ar(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,me.registerVersion)(Iu,"0.23.2","esm2017")}("Browser");class ap extends ic{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,o.Z)(function*(){yield g.initPromise})()}}function ih(b){return ag.apply(this,arguments)}function ag(){return(ag=(0,o.Z)(function*(b){const g=yield Ea()._get(cp(b));return g&&(yield Ea()._remove(cp(b))),g})).apply(this,arguments)}function ac(){const b=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const x=Math.floor(Math.random()*g.length);b.push(g.charAt(x))}return b.join("")}function Ea(){return Bn(eo)}function cp(b){return Ze("authEvent",b.config.apiKey,b.name)}function Lu(b){if(!b?.includes("?"))return{};const[g,..._]=b.split("?");return(0,Te.zd)(_.join("?"))}function Nr(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:$("no-auth-event")}}function Ko(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function lh(b=(0,Te.z$)()){return!("file:"!==Ko()&&"ionic:"!==Ko()&&"capacitor:"!==Ko()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function Nu(){try{const b=self.localStorage,g=to();if(b)return b.setItem(g,"1"),b.removeItem(g),!function dg(b=(0,Te.z$)()){return function ch(){return(0,Te.w1)()&&11===document?.documentMode}()||function uc(b=(0,Te.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,Te.hl)()}catch{return dc()&&(0,Te.hl)()}return!1}function dc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function up(){return(function ug(){return"http:"===Ko()||"https:"===Ko()}()||(0,Te.ru)()||lh())&&!function cc(){return(0,Te.b$)()||(0,Te.UG)()}()&&Nu()&&!dc()}function hg(){return lh()&&typeof document<"u"}function Ma(){return(Ma=(0,o.Z)(function*(){return!!hg()&&new Promise(b=>{const g=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),b(!0)})})})).apply(this,arguments)}const hr={LOCAL:"local",NONE:"none",SESSION:"session"},Bu=I,fg="persistence";function hc(b){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,o.Z)(function*(b){yield b._initializationPromise;const g=fc(),_=Ze(fg,b.config.apiKey,b.name);g&&g.setItem(_,b._getPersistence())})).apply(this,arguments)}function fc(){var b;try{return(null===(b=function dh(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const Xo=I;class so{constructor(){this.browserResolver=Bn(class Cs{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_a,this._completeRedirectFn=wa,this._overrideRedirectResult=Nn}_openPopup(g,_,x,J){var ye=this;return(0,o.Z)(function*(){var Ye;N(null===(Ye=ye.eventManagers[g._key()])||void 0===Ye?void 0:Ye.manager,"_initialize() not called before _openPopup()");const rt=yield Ai(g,_,x,U(),J);return function jt(b,g,_,x=500,J=600){const ye=Math.max((window.screen.availHeight-J)/2,0).toString(),Ye=Math.max((window.screen.availWidth-x)/2,0).toString();let rt="";const Et=Object.assign(Object.assign({},ce),{width:x.toString(),height:J.toString(),top:ye,left:Ye}),Ht=(0,Te.z$)().toLowerCase();_&&(rt=Wt(Ht)?"_blank":_),mt(Ht)&&(g=g||"http://localhost",Et.scrollbars="yes");const tn=Object.entries(Et).reduce((xi,[us,ph])=>`${xi}${us}=${ph},`,"");if(function ui(b=(0,Te.z$)()){var g;return ln(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Ht)&&"_self"!==rt)return function an(b,g){const _=document.createElement("a");_.href=b,_.target=g;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(x)}(g||"",rt),new zt(null);const nn=window.open(g||"",rt,tn);I(nn,b,"popup-blocked");try{nn.focus()}catch{}return new zt(nn)}(g,rt,to())})()}_openRedirect(g,_,x,J){var ye=this;return(0,o.Z)(function*(){return yield ye._originValidation(g),function Ud(b){Ci().location.href=b}(yield Ai(g,_,x,U(),J)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:J,promise:ye}=this.eventManagers[_];return J?Promise.resolve(J):(N(ye,"If manager is not set, promise should be"),ye)}const x=this.initAndGetManager(g);return this.eventManagers[_]={promise:x},x.catch(()=>{delete this.eventManagers[_]}),x}initAndGetManager(g){var _=this;return(0,o.Z)(function*(){const x=yield function M(b){return F.apply(this,arguments)}(g),J=new ic(g);return x.register("authEvent",ye=>(I(ye?.authEvent,g,"invalid-auth-event"),{status:J.onEvent(ye.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:J},_.iframes[g._key()]=x,J})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(io,{type:io},J=>{var ye;const Ye=null===(ye=J?.[0])||void 0===ye?void 0:ye[io];void 0!==Ye&&_(!!Ye),V(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Xd(b){return xa.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return di()||ot()||ln()}}),this.cordovaResolver=Bn(class sh{constructor(){this._redirectPersistence=_a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=wa,this._overrideRedirectResult=Nn}_initialize(g){var _=this;return(0,o.Z)(function*(){const x=g._key();let J=_.eventManagers.get(x);return J||(J=new ap(g),_.eventManagers.set(x,J),_.attachCallbackListeners(g,J)),J})()}_openPopup(g){V(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,x,J){var ye=this;return(0,o.Z)(function*(){!function rg(b){var g,_,x,J,ye,Ye,rt,Et,Ht,tn;const nn=cl();I("function"==typeof(null===(g=nn?.universalLinks)||void 0===g?void 0:g.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),I(typeof(null===(_=nn?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),I("function"==typeof(null===(ye=null===(J=null===(x=nn?.cordova)||void 0===x?void 0:x.plugins)||void 0===J?void 0:J.browsertab)||void 0===ye?void 0:ye.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),I("function"==typeof(null===(Et=null===(rt=null===(Ye=nn?.cordova)||void 0===Ye?void 0:Ye.plugins)||void 0===rt?void 0:rt.browsertab)||void 0===Et?void 0:Et.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),I("function"==typeof(null===(tn=null===(Ht=nn?.cordova)||void 0===Ht?void 0:Ht.InAppBrowser)||void 0===tn?void 0:tn.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const Ye=yield ye._initialize(g);yield Ye.initialized(),Ye.resetRedirect(),function Yo(){$n.clear()}(),yield ye._originValidation(g);const rt=function og(b,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:ac(),postBody:null,tenantId:b.tenantId,error:$(b,"no-auth-event")}}(g,x,J);yield function lp(b,g){return Ea()._set(cp(b),g)}(g,rt);const Et=yield function Ru(b,g,_){return Sa.apply(this,arguments)}(g,rt,_),Ht=yield function sp(b){const{cordova:g}=cl();return new Promise(_=>{g.plugins.browsertab.isAvailable(x=>{let J=null;x?g.plugins.browsertab.openUrl(b):J=g.InAppBrowser.open(b,function dn(b=(0,Te.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),_(J)})})}(Et);return function v0(b,g,_){return Pu.apply(this,arguments)}(g,Ye,Ht)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ou(b){return nh.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:x,handleOpenURL:J,BuildInfo:ye}=cl(),Ye=setTimeout((0,o.Z)(function*(){yield ih(g),_.onEvent(Nr())}),500),rt=function(){var tn=(0,o.Z)(function*(nn){clearTimeout(Ye);const xi=yield ih(g);let us=null;xi&&nn?.url&&(us=function yy(b,g){var _,x;const J=function vy(b){const g=Lu(b),_=g.link?decodeURIComponent(g.link):void 0,x=Lu(_).link,J=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Lu(J).link||J||x||_||b}(g);if(J.includes("/__/auth/callback")){const ye=Lu(J),Ye=ye.firebaseError?function ul(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(ye.firebaseError)):null,rt=null===(x=null===(_=Ye?.code)||void 0===_?void 0:_.split("auth/"))||void 0===x?void 0:x[1],Et=rt?$(rt):null;return Et?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Et,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:J,postBody:null}}return null}(xi,nn.url)),_.onEvent(us||Nr())});return function(xi){return tn.apply(this,arguments)}}();typeof x<"u"&&"function"==typeof x.subscribe&&x.subscribe(null,rt);const Et=J,Ht=`${ye.packageName.toLowerCase()}://`;cl().handleOpenURL=function(){var tn=(0,o.Z)(function*(nn){if(nn.toLowerCase().startsWith(Ht)&&rt({url:nn}),"function"==typeof Et)try{Et(nn)}catch(xi){console.error(xi)}});return function(nn){return tn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=_a,this._completeRedirectFn=wa,this._overrideRedirectResult=Nn}_initialize(g){var _=this;return(0,o.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,x,J){var ye=this;return(0,o.Z)(function*(){return yield ye.selectUnderlyingResolver(),ye.assertedUnderlyingResolver._openPopup(g,_,x,J)})()}_openRedirect(g,_,x,J){var ye=this;return(0,o.Z)(function*(){return yield ye.selectUnderlyingResolver(),ye.assertedUnderlyingResolver._openRedirect(g,_,x,J)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return hg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xo(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,o.Z)(function*(){if(g.underlyingResolver)return;const _=yield function uh(){return Ma.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function pg(b){return b.unwrap()}function mg(b){return wy(b)}function wy(b){const{_tokenResponse:g}=b instanceof Te.ZR?b.customData:b;if(!g)return null;if(!(b instanceof Te.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return Hn.credentialFromResult(b);const _=g.providerId;if(!_||"password"===_)return null;let x;switch(_){case"google.com":x=Md;break;case"facebook.com":x=Gr;break;case"github.com":x=Qc;break;case"twitter.com":x=Ad;break;default:const{oauthIdToken:J,oauthAccessToken:ye,oauthTokenSecret:Ye,pendingToken:rt,nonce:Et}=g;return ye||Ye||J||rt?rt?_.startsWith("saml.")?ji._create(_,rt):ms._fromParams({providerId:_,signInMethod:_,pendingToken:rt,idToken:J,accessToken:ye}):new gs(_).credential({idToken:J,accessToken:ye,rawNonce:Et}):null}return b instanceof Te.ZR?x.credentialFromError(b):x.credentialFromResult(b)}function fr(b,g){return g.catch(_=>{throw _ instanceof Te.ZR&&function dl(b,g){var _;const x=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===g?.code)g.resolver=new hp(b,function uu(b,g){var _;const x=(0,Te.m9)(b),J=g;return I(g.customData.operationType,x,"argument-error"),I(null===(_=J.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,x,"argument-error"),Js._fromError(x,J)}(b,g));else if(x){const J=wy(g),ye=g;J&&(ye.credential=J,ye.tenantId=x.tenantId||void 0,ye.email=x.email||void 0,ye.phoneNumber=x.phoneNumber||void 0)}}(b,_),_}).then(_=>{const J=_.user;return{operationType:_.operationType,credential:mg(_),additionalUserInfo:lu(_),user:Tr.getOrCreate(J)}})}function Oo(b,g){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,o.Z)(function*(b,g){const _=yield g;return{verificationId:_.verificationId,confirm:x=>fr(b,_.confirm(x))}})).apply(this,arguments)}class hp{constructor(g,_){this.resolver=_,this.auth=function by(b){return b.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return fr(pg(this.auth),this.resolver.resolveSignIn(g))}}class Tr{constructor(g){this._delegate=g,this.multiFactor=function Wl(b){const g=(0,Te.m9)(b);return ma.has(g)||ma.set(g,pa._fromUser(g)),ma.get(g)}(g)}static getOrCreate(g){return Tr.USER_MAP.has(g)||Tr.USER_MAP.set(g,new Tr(g)),Tr.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,o.Z)(function*(){return fr(_.auth,Id(_._delegate,g))})()}linkWithPhoneNumber(g,_){var x=this;return(0,o.Z)(function*(){return Oo(x.auth,function fy(b,g,_){return va.apply(this,arguments)}(x._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,o.Z)(function*(){return fr(_.auth,function sl(b,g,_){return Hs.apply(this,arguments)}(_._delegate,g,so))})()}linkWithRedirect(g){var _=this;return(0,o.Z)(function*(){return yield hc(fi(_.auth)),function Su(b,g,_){return function py(b,g,_){return tp.apply(this,arguments)}(b,g,_)}(_._delegate,g,so)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,o.Z)(function*(){return fr(_.auth,Li(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return Oo(this.auth,function Yd(b,g,_){return Ql.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return fr(this.auth,function en(b,g,_){return xu.apply(this,arguments)}(this._delegate,g,so))}reauthenticateWithRedirect(g){var _=this;return(0,o.Z)(function*(){return yield hc(fi(_.auth)),function qo(b,g,_){return function ec(b,g,_){return ep.apply(this,arguments)}(b,g,_)}(_._delegate,g,so)})()}sendEmailVerification(g){return function Wf(b,g){return su.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,o.Z)(function*(){return yield function Uf(b,g){return Ls.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function Lm(b,g){return Ul((0,Te.m9)(b),g,null)}(this._delegate,g)}updatePassword(g){return function Eo(b,g){return Ul((0,Te.m9)(b),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function no(b,g){return cr.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function Yf(b,g){return jl.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function Ld(b,g,_){return ha.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Tr.USER_MAP=new WeakMap;const Kn=I;let hh=(()=>{class b{constructor(_,x){if(this.app=_,x.isInitialized())return this._delegate=x.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:J}=_.options;Kn(J,"invalid-api-key",{appName:_.name}),Kn(J,"invalid-api-key",{appName:_.name});const ye=typeof window<"u"?so:void 0;this._delegate=x.initialize({options:{persistence:fh(J,_.name),popupRedirectResolver:ye}}),this._delegate._updateErrorMap(z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Tr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,x){!function Af(b,g,_){const x=fi(b);I(x._canInitEmulator,x,"emulator-config-failed"),I(/^https?:\/\//.test(g),x,"invalid-emulator-scheme");const J=!!_?.disableWarnings,ye=lr(g),{host:Ye,port:rt}=function zr(b){const g=lr(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const x=_[2].split("@").pop()||"",J=/^(\[[^\]]+\])(:|$)/.exec(x);if(J){const ye=J[1];return{host:ye,port:$o(x.substr(ye.length+1))}}{const[ye,Ye]=x.split(":");return{host:ye,port:$o(Ye)}}}(g);x.config.emulator={url:`${ye}//${Ye}${null===rt?"":`:${rt}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:Ye,port:rt,protocol:ye.replace(":",""),options:Object.freeze({disableWarnings:J})}),J||function $a(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,_,x)}applyActionCode(_){return function nu(b,g){return Lr.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Od(this._delegate,_)}confirmPasswordReset(_,x){return function Rd(b,g,_){return Ll.apply(this,arguments)}(this._delegate,_,x)}createUserWithEmailAndPassword(_,x){var J=this;return(0,o.Z)(function*(){return fr(J._delegate,function Pd(b,g,_){return Vl.apply(this,arguments)}(J._delegate,_,x))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function $f(b,g){return ru.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function cy(b,g){return"EMAIL_SIGNIN"===Kc.parseLink(g)?.operation}(0,_)}getRedirectResult(){var _=this;return(0,o.Z)(function*(){Kn(up(),_._delegate,"operation-not-supported-in-this-environment");const x=yield function Qm(b,g){return ur.apply(this,arguments)}(_._delegate,so);return x?fr(_._delegate,Promise.resolve(x)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function cg(b,g){fi(b)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,x,J){const{next:ye,error:Ye,complete:rt}=ju(_,x,J);return this._delegate.onAuthStateChanged(ye,Ye,rt)}onIdTokenChanged(_,x,J){const{next:ye,error:Ye,complete:rt}=ju(_,x,J);return this._delegate.onIdTokenChanged(ye,Ye,rt)}sendSignInLinkToEmail(_,x){return function Ka(b,g,_){return iu.apply(this,arguments)}(this._delegate,_,x)}sendPasswordResetEmail(_,x){return function ly(b,g,_){return Za.apply(this,arguments)}(this._delegate,_,x||void 0)}setPersistence(_){var x=this;return(0,o.Z)(function*(){let J;switch(function GD(b,g){Bu(Object.values(hr).includes(g),b,"invalid-persistence-type"),(0,Te.b$)()?Bu(g!==hr.SESSION,b,"unsupported-persistence-type"):(0,Te.UG)()?Bu(g===hr.NONE,b,"unsupported-persistence-type"):dc()?Bu(g===hr.NONE||g===hr.LOCAL&&(0,Te.hl)(),b,"unsupported-persistence-type"):Bu(g===hr.NONE||Nu(),b,"unsupported-persistence-type")}(x._delegate,_),_){case hr.SESSION:J=_a;break;case hr.LOCAL:J=(yield Bn(gu)._isAvailable())?gu:eo;break;case hr.NONE:J=Ur;break;default:return V("argument-error",{appName:x._delegate.name})}return x._delegate.setPersistence(J)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return fr(this._delegate,function Bf(b){return Vf.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return fr(this._delegate,os(this._delegate,_))}signInWithCustomToken(_){return fr(this._delegate,function as(b,g){return Ns.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,x){return fr(this._delegate,function Gf(b,g,_){return os((0,Te.m9)(b),Hi.credential(g,_))}(this._delegate,_,x))}signInWithEmailLink(_,x){return fr(this._delegate,function ii(b,g,_){return So.apply(this,arguments)}(this._delegate,_,x))}signInWithPhoneNumber(_,x){return Oo(this._delegate,function Km(b,g,_){return bu.apply(this,arguments)}(this._delegate,_,x))}signInWithPopup(_){var x=this;return(0,o.Z)(function*(){return Kn(up(),x._delegate,"operation-not-supported-in-this-environment"),fr(x._delegate,function Si(b,g,_){return Ei.apply(this,arguments)}(x._delegate,_,so))})()}signInWithRedirect(_){var x=this;return(0,o.Z)(function*(){return Kn(up(),x._delegate,"operation-not-supported-in-this-environment"),yield hc(x._delegate),function qt(b,g,_){return function Zd(b,g,_){return gn.apply(this,arguments)}(b,g,_)}(x._delegate,_,so)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function Bl(b,g){return da.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=hr,b})();function ju(b,g,_){let x=b;"function"!=typeof b&&({next:x,error:g,complete:_}=b);const J=x;return{next:Ye=>J(Ye&&Tr.getOrCreate(Ye)),error:g,complete:_}}function fh(b,g){const _=function dp(b,g){const _=fc();if(!_)return[];const x=Ze(fg,b,g);switch(_.getItem(x)){case hr.NONE:return[Ur];case hr.LOCAL:return[gu,_a];case hr.SESSION:return[_a];default:return[]}}(b,g);if(typeof self<"u"&&!_.includes(gu)&&_.push(gu),typeof window<"u")for(const x of[eo,_a])_.includes(x)||_.push(x);return _.includes(Ur)||_.push(Ur),_}class gg{constructor(){this.providerId="phone",this._delegate=new Hn(pg(it.Z.auth()))}static credential(g,_){return Hn.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}gg.PHONE_SIGN_IN_METHOD=Hn.PHONE_SIGN_IN_METHOD,gg.PROVIDER_ID=Hn.PROVIDER_ID;const Cy=I;class w0{constructor(g,_,x=it.Z.app()){var J;Cy(null===(J=x.options)||void 0===J?void 0:J.apiKey,"invalid-api-key",{appName:x.name}),this._delegate=new vu(g,_,x.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function C0(b){b.INTERNAL.registerComponent(new Fe.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),x=g.getProvider("auth");return new hh(_,x)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Hi,FacebookAuthProvider:Gr,GithubAuthProvider:Qc,GoogleAuthProvider:Md,OAuthProvider:gs,SAMLAuthProvider:la,PhoneAuthProvider:gg,PhoneMultiFactorGenerator:tg,RecaptchaVerifier:w0,TwitterAuthProvider:Ad,Auth:hh,AuthCredential:Xs,Error:Te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.4.2")}(it.Z)},5861:(Jt,wt,He)=>{function o(Te,me,ve,be,Fe,ze,Ve){try{var we=Te[ze](Ve),Ce=we.value}catch(oe){return void ve(oe)}we.done?me(Ce):Promise.resolve(Ce).then(be,Fe)}function it(Te){return function(){var me=this,ve=arguments;return new Promise(function(be,Fe){var ze=Te.apply(me,ve);function Ve(Ce){o(ze,be,Fe,Ve,we,"next",Ce)}function we(Ce){o(ze,be,Fe,Ve,we,"throw",Ce)}Ve(void 0)})}}He.d(wt,{Z:()=>it})},7582:(Jt,wt,He)=>{function me(j,E){var q={};for(var fe in j)Object.prototype.hasOwnProperty.call(j,fe)&&E.indexOf(fe)<0&&(q[fe]=j[fe]);if(null!=j&&"function"==typeof Object.getOwnPropertySymbols){var De=0;for(fe=Object.getOwnPropertySymbols(j);De<fe.length;De++)E.indexOf(fe[De])<0&&Object.prototype.propertyIsEnumerable.call(j,fe[De])&&(q[fe[De]]=j[fe[De]])}return q}function oe(j,E,q,fe){return new(q||(q=Promise))(function(Oe,ue){function A(de){try{pe(fe.next(de))}catch(Ne){ue(Ne)}}function ae(de){try{pe(fe.throw(de))}catch(Ne){ue(Ne)}}function pe(de){de.done?Oe(de.value):function De(Oe){return Oe instanceof q?Oe:new q(function(ue){ue(Oe)})}(de.value).then(A,ae)}pe((fe=fe.apply(j,E||[])).next())})}function G(j){return this instanceof G?(this.v=j,this):new G(j)}function V(j,E,q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,fe=q.apply(j,E||[]),Oe=[];return De={},ue("next"),ue("throw"),ue("return"),De[Symbol.asyncIterator]=function(){return this},De;function ue(R){fe[R]&&(De[R]=function(Z){return new Promise(function(X,xe){Oe.push([R,Z,X,xe])>1||A(R,Z)})})}function A(R,Z){try{!function ae(R){R.value instanceof G?Promise.resolve(R.value.v).then(pe,de):Ne(Oe[0][2],R)}(fe[R](Z))}catch(X){Ne(Oe[0][3],X)}}function pe(R){A("next",R)}function de(R){A("throw",R)}function Ne(R,Z){R(Z),Oe.shift(),Oe.length&&A(Oe[0][0],Oe[0][1])}}function te(j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q,E=j[Symbol.asyncIterator];return E?E.call(j):(j=function re(j){var E="function"==typeof Symbol&&Symbol.iterator,q=E&&j[E],fe=0;if(q)return q.call(j);if(j&&"number"==typeof j.length)return{next:function(){return j&&fe>=j.length&&(j=void 0),{value:j&&j[fe++],done:!j}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")}(j),q={},fe("next"),fe("throw"),fe("return"),q[Symbol.asyncIterator]=function(){return this},q);function fe(Oe){q[Oe]=j[Oe]&&function(ue){return new Promise(function(A,ae){!function De(Oe,ue,A,ae){Promise.resolve(ae).then(function(pe){Oe({value:pe,done:A})},ue)}(A,ae,(ue=j[Oe](ue)).done,ue.value)})}}}He.d(wt,{FC:()=>V,KL:()=>te,_T:()=>me,mG:()=>oe,qq:()=>G}),"function"==typeof SuppressedError&&SuppressedError}},Jt=>{Jt(Jt.s=3410)}]);